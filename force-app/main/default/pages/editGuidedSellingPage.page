<apex:page standardStylesheets="false" showHeader="false" sidebar="false" applyHtmlTag="false" applyBodyTag="false" docType="html-5.0" standardController="Opportunity" extensions="GuidedSellingEditControllerExtension,PreTSAControllerExtension">
    <apex:form id="mainForm">
        <head>
        <meta charset="utf-8"/>
        <meta http-equiv="x-ua-compatible" content="ie=edge"/>
        <title>Guided Selling</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet"/>
        <apex:stylesheet value="{!URLFOR( $Resource.bootstrap, 'bootstrap-5.0.1-dist/css/bootstrap.min.css' )}" />
        <link REL="SHORTCUT ICON" HREF="{!URLFOR($Resource.accountantLogoFavicon)}"/>
        <!-- <link href="/GuidedSellingSales/slds/css/kaIoKnAZHZUvXbAOmzqoQg/min/scoped/one:oneNamespace,force:sldsTokens,force:base,force:formFactorLarge/slds.css" type="text/css" class="user" rel="stylesheet"/> -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"/>
        <apex:slds />
        <style>
            body { 
            font-family: 'Poppins';
            font-feature-settings: 'ss01' on, 'ss02' on, 'ss04' on;
            margin: 0 auto; 
            float: center;
            overflow: hidden;
            }

            .slds-scope button {
            font-family: 'Poppins';
            font-feature-settings: 'ss01' on, 'ss02' on, 'ss04' on;
            color: none;
            }
            
            .slds-scope td {
            font-family: 'Poppins';
            font-feature-settings: 'ss01' on, 'ss02' on, 'ss04' on;
            }
            
            .slds-scope button, button {
            font-size: 17px;
            font-weight: 600;
            }
            
            .slds-scope hr {
            color: rgba(18, 23, 36, 0.2);
            margin: 0.7rem;
            width: 150%;
            margin-left: -125px;
            border-top: 0px;
            }
            
            hr {
            opacity: 1;
            }
            
            .slds-scope {
            font-family: 'Poppins';
            font-weight: 400;
            }
            
            .slds-scope .slds-box {
            border: none;
            border-radius: 0px;
            }
            
            .slds-scope .slds-wrap {
            flex-wrap: nowrap;
            }
            
            #formBody, #blastBody, #menuBody, #businessDisc, #businessDiscParts, #properEstityStrugleLLC,#properEstityStrugleSCorp, #flowThroughEntitySCorp, 
            #flowThroughEntityLLC, #entityClassificationElec, #properEntityStrugReviewLLC,
            #selfEmploymentTaxSCorp, #reasonableSalarySCorp, #selfEmploymentTaxLLC, #properEntityStrugReviewSCorp, #deductionsIntro {
            margin: 0 auto;
            padding-left: 100px;
            padding-right: 100px;
            padding-bottom: 20px;
            overflow-y: auto;
            overflow-x: hidden;
            }
            
            #startUpCosts, #medicalDeduction, #vehicleDeduction, #homeOfficeDeduction, #codeDeduction, #reviewDeduction, #paperloss, #preparedPackages, #verifyInformation, 
            #scheduleDiscMeeting,
            #paymentDetails, #postPurchase, #paymentDetails, #postPurchase, #features, #expertAccountant, #portalTour, #filingBusinessTaxes, #filingECE, #presWrapUp {
            margin: 0 auto;
            padding-left: 100px;
            padding-right: 100px;
            padding-bottom: 20px;
            overflow-y: auto;
            overflow-x: hidden;
            width: 100%;
            }
            
            #blastBody, #formBody, #menuBody, #formClientDet, #formClientView, .slds-grid_vertical, #businessDisc, #businessDiscParts, #properEstityStrugleLLC, 
            #properEstityStrugleSCorp, #properEntityStrugReviewLLC,
            #flowThroughEntitySCorp, #flowThroughEntityLLC, #entityClassificationElec, #selfEmploymentTaxSCorp, #reasonableSalarySCorp, #selfEmploymentTaxLLC, 
            #properEntityStrugReviewSCorp, #deductionsIntro {
            width: 100%;
            }

            #selfEmploymentTaxSCorp, #reasonableSalarySCorp, #selfEmploymentTaxLLC, #paperloss, #features, #portalTour {
            scroll-behavior: smooth;
            }
            
            #formClientDet {
            margin: 0 auto;
            overflow-y: auto;
            padding-left: 82px;
            padding-top: 37px;
            border: 1px solid #c0c0c0;
            }
            
            #formClientView {
            margin: 0 auto;
            background: #3F5261;
            overflow: hidden;
            position: relative;
            }

            #modalClientScreen {
            background: #3F5261;
            overflow: hidden;
            border-radius: 16px;
            width: 90%;
            height: 87%;
            margin-top: 1%;
            margin-left: 3%;
            }

            .clientContent {
                height: 87%;
                width: 94%;
                margin-top: -13%;
                margin-left: 3%;
                background: rgba(255, 255, 255, 1);
                top: 50%;
                -ms-transform: translateY(35%);
                transform: translateY(35%);
            }

            .openClientView {
                background: #FFFFFF;
                border-radius: 48px;
                width: 45px;
                height: 45px;
                right: 9px;
                top: 5px;
                border: none;
                color: rgba(18, 23, 36, 0.65);
                position: absolute;
            }
            
            #inlineFrameExample {
            position: absolute;
            top: 0;
            left: 4px;
            bottom: 0;
            right: 0;
            border: none;
            overflow-y: scroll;
            overflow-x: hidden;
            margin-top: 50px;
            }

            #inlineFrameExampleClient {
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            border: none;
            overflow-y: scroll;
            overflow-x: hidden;
            }
            
            .noteClientView {
            font-weight: 600;
            font-size: 15px;
            line-height: 24px;
            letter-spacing: 0.02em;
            color: #FFFFFF;
            }
            
            .slds-scope p.noteClientView {
            bottom: 0px;
            position: absolute;
            text-align: center;
            margin-left: 30%;
            }
            
            .title {
            padding-top: 20px;
            }
            
            .titleTxt {
            font-weight: 500;
            font-size: 28px;
            line-height: 40px;
            color: #000000;
            }
            
            .formTxt {
            margin-top: 32px;
            max-width: 720px;
            }
            
            p.formTxtbottom {
            margin-bottom: 32px;
            }
            
            .subTitleTxt {
            font-weight: 500;
            font-size: 28px;
            line-height: 40px;
            letter-spacing: 0.01em;
            color: #000000;
            }
            
            .normalTxt {
            font-size: 20px;
            line-height: 32px;
            letter-spacing: 0.01em;
            color: rgba(18, 23, 36, 0.91);
            }
            
            .slds-scope p.discoTitle {
            font-weight: 500;
            font-size: 18px;
            line-height: 28px;
            margin-bottom: 25px;
            margin-top: 90px;
            }
            
            .slds-scope p.discoTitle2 {
            font-weight: 500;
            font-size: 18px;
            line-height: 28px;
            margin-bottom: 25px;
            }
            
            .accInfo {
            margin-top: 24px;
            }
            
            .AccName {
            font-size: 24px;
            line-height: 36px;
            letter-spacing: 0.0075em;
            color: rgba(18, 23, 36, 0.91);
            }
            
            .leadSource, .blast {
            font-size: 18px;
            line-height: 28px;
            letter-spacing: 0.01em;
            color: rgba(18, 23, 36, 0.65);
            }
            
            .blast {
            font-weight: 500;
            color: rgba(18, 23, 36, 0.91);
            }
            
            #buttons, .divider, .blast, .btnmodal {
            display: inline-block;
            }
            
            #btnEndNote {
            color: rgba(18, 23, 36, 0.65);
            font-size: 15px;
            line-height: 16px;
            }
            
            #buttons {
            margin-top: 12px;
            }
            
            #buttonsDisc {
            margin-top: 12px;
            margin-bottom: 25px;
            width: 50%;
            display: inline-block;
            }
            
            .divider {
            width: 12px;
            }
            
            .slds-scope button.yesBtn, .slds-scope button.noBtn  {
            font-size: 15px;
            border-radius: 30px;
            padding: 10px 16px;
            float: center;
            display: inline-block;
            font-weight: 600;
            letter-spacing: 0.02em;
            line-height: 24px;
            border: 1px solid #c0c0c0;
            background-color: white;
            color: black;
            background: white;
            }
            
            .slds-scope button.yesBtn:hover, .slds-scope button.noBtn:hover {
            background-color: #E6E6E6;
            border: 1px solid #c0c0c0;
            background: #E6E6E6;
            color: black;
            }
            
            .slds-scope button.hidequestion, .slds-scope button#showficaexample {
            font-size: 16px;
            border-radius: 30px;
            padding: 10px 16px;
            float: center;
            display: inline-block;
            font-weight: 600;
            letter-spacing: 0.02em;
            line-height: 24px;
            border: 1px solid #c0c0c0;
            background-color: white;
            color: #1776B6;
            background: white;
            }
            
            .slds-scope button.hidequestion:hover, .slds-scope button#showficaexample:hover {
            background-color: #1776B6;
            border: 1px solid #1776B6;
            background: #1776B6;
            color: white;
            }
            
            #txtRequired {
            font-weight: 600;
            font-size: 14px;
            line-height: 20px;
            letter-spacing: 0.01em;
            color: rgba(18, 23, 36, 0.65);
            }
            
            #txtRequiredOrange {
            font-weight: 600;
            font-size: 14px;
            line-height: 20px;
            letter-spacing: 0.01em;
            color: #F15F22;
            }
            
            .slds-scope button.start, .start {
            font-size: 15px;
            border-radius: 36px;
            padding: 10px 16px;
            float: center;
            display: inline-block;
            font-weight: 500;
            line-height: 16px;
            letter-spacing: 0.75px;
            border: 1px solid #F15F22;
            background-color: #F15F22;
            color: white;
            background: #F15F22;
            opacity: 0.25;
            }
            
            #stopPres, #discardEditing {
            background-color: #C71331;
            background: #C71331;
            opacity: 0.5;
            padding: 13.7px 18px 13.7px 18px;
            }
                        
            #secondStart, #thirdStart #skiptoSale, #keepEditing, #btnDissolution, #saveEditClient, #saveEditPackage, #portalNextBtn, #skipficaexample, .start {
            opacity: 1;
            }
            
            #stopPres:hover, #discardEditing:hover {
            background-color: #cc2a45;
            color: #cc2a45;
            }
            
            #skiptoSale:hover, #btnDissolution:hover, #keepEditing:hover {
            background-color: rgb(23, 118, 182);
            color: white;
            }
            
            #btnAdd {
            align-items: right;
            text-align: right;
            }
            
            .slds-scope a.addPartnerstwo {
            color: #0780A6;
            font-size: 15px;
            line-height: 16px;
            letter-spacing: 0.75px;
            margin-left: 4px;
            margin-top: 50px;
            }
            
            .slds-scope a.addPartnerstwo:hover {
            text-decoration: none;
            color: #04475d;
            }
            
            .dims  {
            margin-top: 14px;
            margin-bottom: 1px;
            align-items: center;
            width: 99%;  
            height: 85%; 
            padding: 0.42em;
            }

            .changeover {
            align-items: center;
            width: 200px;  
            height: 400px; 
            }
            
            .accContacts {
            margin-top: 20px;
            }
            
            #contTable {
            border-collapse: collapse;
            width: 91.2%;  
            }
            
            #contTable td {
            padding-top: 16px;
            padding-bottom: 16px;
            }
            
            #contTable tr {
            border: solid rgba(18, 23, 36, 0.2);
            border-width: 1px 0;
            }
            
            #contTable tr:first-child {
            border-top: none;
            }
            
            #contTable tr td:first-child, #contTable tr td:last-child {
            width: 1%;
            white-space: nowrap;
            }
            
            #contTable tr:last-child {
            border-bottom: none;
            }
            
            .contIni {
            background: #3B7A80;
            font-weight: 600;
            font-size: 17px;
            line-height: 25.5px;
            color: #FFFFFF;
            margin-right: 16px;
            padding-left: 17px;
            padding-right: 17px;
            padding-top: 10px;
            padding-bottom: 10px;
            border-radius: 150px;
            }
            
            .contInfo {
            text-align: left;
            }
            
            .contContaInfo {
            text-align: right;
            }
            
            .contName {
            color: rgba(18, 23, 36, 0.91);
            font-weight: 600;
            }
            
            .contRole, .contPhone, .contEmail {
            color: rgba(18, 23, 36, 0.65);
            }
            
            .contName, .contRole, .contPhone, .contEmail {
            font-size: 14px;
            line-height: 20px;
            letter-spacing: 0.01em;
            }
            
            .contMore {
            font-size: 24px;
            margin-left: 16px;
            position: relative;
            display: inline-block;
            }
            
            form, .form-floating {
            width: 100%;
            margin: 0;
            }
            
            .form-floating>.form-control, .form-floating>.form-select {
            height: 44px;
            }
            
            .form-floating input#businessName, .form-floating input#ownersOutside {
            height: 52px;
            width: 40%;
            margin-top: 2%;
            }
            
            .form-floating>.form-select {
            padding-top: 3%;
            }
            
            .form-select {
            background-image: url({!$Resource.arrow});
            height: 5px;
            background-size: auto;
            }
            
            .form-floating select {
            font-weight: 400;
            border: 1px solid rgba(18, 23, 36, 0.2);
            border-radius: 4px;
            display: flex;
            flex-direction: column;
            font-weight: normal;
            font-size: 15px;
            line-height: 20px;
            color: rgba(18, 23, 36, 0.91);
            }
            
            .form-btn {
            align-items: right;
            float: right;
            }
            
            .slds-scope button.btnSkip, .slds-scope button.btnStop {
            background-color: #FFFFFF;
            background: #FFFFFF;
            border: 1px solid rgba(18, 23, 36, 0.2);
            border-radius: 30px;
            font-weight: 500;
            font-size: 15px;
            line-height: 16px;
            letter-spacing: 0.75px;
            margin: 0px 8px;
            padding: 13.7px 18px 13.7px 18px;
            }
            
            .slds-scope button.btnSkip {
            color: #1776B6;
            }
            
            .slds-scope button.btnStop {
            color: #C71331;
            }
            
            .btnSkip:hover {
            color: #0B3C5E;
            }
            
            .btnStop:hover {
            color: #0B3C5E;
            }
            
            .partTable {
            margin-top: 16px;
            margin-bottom: 16px;
            }
            
            #addPartTable1, #addPartTable2 {
            border-collapse: collapse; 
            }
            
            #addPartTable1 td, #addPartTable2 td {
            padding-top: 24px;
            padding-bottom: 24px;
            }
            
            #addPartTable1 tr:first-child, #addPartTable2 tr:first-child {
            border-top: 2px solid rgba(18, 23, 36, 0.2);
            }
            
            #addPartTable1 tr:last-child, #addPartTable2 tr:last-child {
            border-bottom: 2px solid rgba(18, 23, 36, 0.2);
            }
            
            #addPartTable2 tr td:first-child, #addPartTable2 tr td:last-child {
            width: 1%;
            white-space: nowrap;
            }
            
            .modal {
            display: none;
            background: rgba(18, 23, 36, 0.2);
            position: fixed;
            margin:0 auto;
            width:100%;
            height:100%;
            }
            
            .content{
            width: 640px;
            background: rgba(255, 255, 255, 1);
            margin:0 auto;
            padding-top: 1%;
            padding-bottom: 2%;
            border-radius: 7px;
            top: 50%;
            -ms-transform: translateY(35%);
            transform: translateY(35%);
            }
            
            #modalHeaderTable td {
            padding-bottom: 2%;
            padding-left: 3.5%;
            padding-right: 3.5%;
            }
                        
            .modalHeaderTitle {
            font-weight: 500;
            font-size: 20px;
            line-height: 28px;
            letter-spacing: 0.15px;
            color: rgba(18, 23, 36, 0.91);
            }
            
            .slds-scope button.modalHeaderClose {
            float: right;
            color: rgba(18, 23, 36, 0.65);
            background-color: #FFFFFF;
            background: #FFFFFF;
            border: 1px solid #FFFFFF;
            font-weight: 500;
            font-size: 15px;
            line-height: 16px;
            letter-spacing: 0.75px;
            margin-top: 2.5%;
            }
            
            .slds-scope button.modalHeaderClose:hover {
            color: #000000;
            }
            
            #modalBody {
            padding-top: 32px;
            padding-bottom: 32px;
            padding-right: 3.5%;
            padding-left: 3.5%;
            }
            
            .form-floating input {
            font-weight: 400;
            border: 1px solid rgba(18, 23, 36, 0.2);
            border-radius: 4px;
            display: flex;
            flex-direction: column;
            font-weight: normal;
            font-size: 15px;
            line-height: 20px;
            color: rgba(18, 23, 36, 0.65);
            }
            
            #modalBody>.form-floating>input {
            height: 54px;
            width: 480px;
            }
            
            #modalBody>.form-floating {
            padding-bottom: 24px;
            }
            
            #modalFooter {
            padding-right: 2%;
            padding-left: 2%;
            }
            
            .slds-scope button.btnAddRow, .slds-scope button.btnSaveEditClient, .slds-scope button.btnSaveEditPackage, .slds-scope button#skipficaexample {
            color: #FFFFFF;
            background-color: #F15F22;
            background: #F15F22;
            border: 1px solid #F15F22;
            opacity: 0.25;
            font-weight: 600;
            font-size: 15px;
            line-height: 24px;
            letter-spacing: 0.02em;
            border-radius: 30px;
            line-height: 16px;
            margin: 0px 8px;
            padding: 13.7px 18px 13.7px 18px;
            }
            
            .slds-scope button.btnCloseModal {
            color: rgba(18, 23, 36, 0.91);
            background-color: #FFFFFF;
            background: #FFFFFF;
            border: 1px solid rgba(18, 23, 36, 0.2);
            font-weight: 600;
            font-size: 15px;
            line-height: 24px;
            letter-spacing: 0.02em;
            border-radius: 30px;
            line-height: 16px;
            margin: 0px 8px;
            padding: 13.7px 18px 13.7px 18px;
            }
            
            .slds-scope button.btnCloseModal:hover {
            background-color: #E6E6E6;
            background: #E6E6E6;
            }
            
            .slds-scope button.backBtn {
            color: #1776B6;
            background-color: #FFFFFF;
            background: #FFFFFF;
            border: none;
            padding: 0;
            font-size: 15px;
            line-height: 24px;
            }
            
            .slds-scope button.backBtn:hover {
            color: #04475d;
            }
            
            .backDesc {
            letter-spacing: 0.01em;
            color: rgba(18, 23, 36, 0.65);
            }
            
            .modalTitle {
            font-size: 20px;
            line-height: 32px;
            letter-spacing: 0.01em;
            color: rgba(18, 23, 36, 0.91);
            }
            
            .modalDesc {
            font-size: 14px;
            line-height: 20px;
            letter-spacing: 0.01em;
            color: rgba(18, 23, 36, 0.65);
            }

            #notLLC, #incomplete, #notInterested {
                margin-top: 1%;
            }
            
            .slds-scope p.modalOption {
                font-weight: 400;
                font-size: 16px;
                line-height: 24px;
                letter-spacing: 0.01em;
                color: rgba(18, 23, 36, 0.65);
                margin-bottom: 3%;
            }
            
            #btnSubMenu {
            cursor: pointer;
            }
            
            .dropdown-content {
            display: none;
            position: absolute;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
            width: 166px;
            background: #FFFFFF;
            border-radius: 8px;
            top: 100%;
            left: -595%;
            }
            
            .slds-scope .dropdown-content a {
            padding: 12px;
            display: block;
            font-size: 15px;
            line-height: 24px;
            letter-spacing: 0.5px;
            float: left;
            }
            
            .slds-scope .contMore a:hover {
            text-decoration: none;
            color: #1776B6;
            }
            
            .show {
            display: block; 
            }
            
            #icon {
            color: rgba(0, 0, 0, 0.54);
            vertical-align: middle;
            }
            
            #edit {
            border-top: 1px solid rgba(18, 23, 36, 0.2);
            }
            
            .context-menu {
            position: absolute;
            text-align: center;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            background: #FFFFFF;
            border-radius: 8px;
            }
            
            .context-menu ul {
            min-width: 130px;
            }
            
            .context-menu ul li {
            padding-bottom: 7px;
            padding-top: 7px;
            }
            
            .context-menu ul li:hover {
            text-decoration: none;
            color: #1776B6;
            }
            
            .highlight {
            background-color: #8BD5C6;
            }
            
            .unhighlight {
            background-color: none;
            }
            
            #engageTxt {
            font-size: 24px;
            line-height: 36px;
            letter-spacing: 0.0075em;
            color: rgba(18, 23, 36, 0.65);
            vertical-align: middle;
            }
            
            #engage, #engagee, #emailSent {
            vertical-align: middle;
            border-bottom-style: solid;
            border-Top-style: solid;
            border-bottom-width: 1px;
            border-top-width: 1px;
            border-bottom-color: rgba(18, 23, 36, 0.2);
            border-Top-color: rgba(18, 23, 36, 0.2);
            margin-bottom: 20px;
            padding-Top: 10px;
            padding-bottom: 10px;            
            }

            #emailSent {
                display: none;
            }

            #engagee {
            margin-top: 24px;
            }
            
            .slds-scope button#currSlide2, .slds-scope button#currSlide1, .slds-scope button#currSlide3, 
            .slds-scope button#currentSlide1, .slds-scope button#currentSlide2, .slds-scope button#currentSlide3, 
            .slds-scope button#currtSlide3, .slds-scope button#currtSlide2, .slds-scope button#currtSlide1,
            .slds-scope button#currtSlide1features, .slds-scope button#currtSlide2features, .slds-scope button#currtSlide3features,
            .slds-scope button#currtSlide1portalTour, .slds-scope button#currtSlide2portalTour, .slds-scope button#currtSlide3portalTour, .slds-scope button#currtSlide4portalTour, 
            .slds-scope button#currtSlide5portalTour, .slds-scope button#currtSlide6portalTour, .slds-scope button#currtSlide7portalTour, .slds-scope button#currtSlide8portalTour , 
            .slds-scope button#currtSlide9portalTour {
            font-weight: 600;
            font-size: 15px;
            line-height: 24px;
            letter-spacing: 0.02em;
            color: rgba(18, 23, 36, 0.91);
            border-radius: 36px;
            padding: 5px 16px;
            float: center;
            display: inline-block;
            border: 1px solid #E7EAF0;
            background-color: #E7EAF0;
            background: #E7EAF0;
            }
            
            .placeHold {
            font-size: 15px;
            line-height: 20px;
            letter-spacing: 0.15px;
            color: rgba(18, 23, 36, 0.65);
            }
            
            .form-floating select#state option:first-child { 
            color: rgba(18, 23, 36, 0.65);
            }
            
            #verticaltLine1,  #verticaltLine2,  #verticaltLine3, 
            #verticalSectLine1, #verticalSectLine2, #verticalSectLine3,
            #vertSectLine1, #vertSectLine2, #vertSectLine3, 
            #vertLine1features, #vertLine2features, #vertLine3features, 
            #vertLine1portalTour, #vertLine2portalTour, #vertLine3portalTour, #vertLine4portalTour, #vertLine5portalTour, #vertLine6portalTour, #vertLine7portalTour, #vertLine8portalTour, #vertLine9portalTour {
            border-radius: 4px;
            border-left: 5px solid #F15F22;
            padding-left: 16px;
            margin-left: -20px;
            }
            
            .quote {
            display: none;
            padding: 10px 10px 10px 20px;
            width: 91.2%;
            height: 60px;
            left: 0px;
            background: #F7F5F2;
            border: 1px solid rgba(18, 23, 36, 0.2);
            border-radius: 64px;
            }
            
            .slds-scope p.quoteTitle {
            font-weight: 500;
            font-size: 18px;
            line-height: 28px;
            letter-spacing: 0.01em;
            color: rgba(18, 23, 36, 0.91);
            }
            
            .slds-scope p.quoteText {
            font-weight: 600;
            font-size: 18px;
            line-height: 28px;
            text-align: right;
            letter-spacing: 0.01em;
            color: rgba(18, 23, 36, 0.91);
            }
            
            .slds-scope button#quoteEdit {
            padding: 8px 16px;
            width: 62px;
            height: 40px;
            font-weight: 600;
            line-height: 24px;
            letter-spacing: 0.02em;
            opacity: 1;
            float: right;
            }
                        
            .form-floating>.form-select#mainCategory {
            padding-top: 16px;
            padding-bottom: 16px;
            height: 2%;
            }
            
            #quetionsTable tr {
            border-bottom: 1px solid rgba(18, 23, 36, 0.2);
            }
            
            #quetionsTable tr td.actionRow {
            display: flex;
            margin-top: 25%;
            }
            
            #quetionsTable tr td.questionRow {
            width: 85%;
            }
            
            #showtxt {
            font-weight: 500;
            font-size: 14px;
            line-height: 20px;
            letter-spacing: 0.01em;
            margin-right: 7%;
            }
            
            .switch {
            position: relative;
            display: inline-block;
            width: 36px;
            height: 22px;
            margin-top: 1.6%;
            margin-right: 4%
            }
            
            .switch input { 
            opacity: 0;
            width: 0;
            height: 0;
            }
            
            .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #75777A;
            -webkit-transition: .4s;
            transition: .4s;
            }
            
            .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 3px;
            background-color: white;
            -webkit-transition: .4s;
            transition: .4s;
            
            }
            
            input:checked + .slider {
            background-color: #F15F22;
            /* opacity: 0.25; */
            
            
            }
            
            input:checked + .slider:before {
            -webkit-transform: translateX(80%);
            -ms-transform: translateX(80%);
            transform: translateX(80%);
            
            
            }
            
            .slider.round {
            border-radius: 34px;
            }
            
            .slider.round:before {
            border-radius: 50%;
            }
            
            #optTitle {
            font-weight: 600;
            font-size: 16px;
            line-height: 24px;
            }
            
            p.optText {
            background: #F6F4F2;     
            padding: 20px;
            border-left: 4px solid rgba(18, 23, 36, 0.2);
            border-radius: 5px;
            }
            
            #shadowText {
            text-shadow: 1px 1px grey;
            }

            #employees, #hasEmpContractors, #hasRentals, #workingHome, #drive {
                border: none !important;
            }
            
            #editPackage, #reschedule {
            display: flex;
            margin-bottom: 3%;
            vertical-align: middle;
            }
            
            #ending {
            opacity: 1;
            margin-bottom: 3%;
            vertical-align: middle;
            }
            
            #btnSendQuote {
            border: 1px solid rgb(231, 234, 240);
            color: rgb(23, 118, 182);
            background: white;
            font-weight: 600;
            font-size: 15px;
            line-height: 24px;
            letter-spacing: 0.02em;
            border-radius: 36px;
            padding: 5px 16px;
            float: center;
            display: inline;
            margin-bottom: 3%;
            margin-top: 3%;
            vertical-align: middle;
            }
            
            #skiptoSale, #btnDissolution, #keepEditing {
            border: 1px solid rgb(231, 234, 240);
            color: rgb(23, 118, 182);
            background: white;
            font-weight: 500;
            font-size: 15px;
            line-height: 16px;
            letter-spacing: 0.75px;
            border-radius: 36px;
            padding: 13.7px 18px 13.7px 18px;
            display: inline;
            vertical-align: middle;
            }

            #keepEditing {
            padding: 9.7px 18px 9.7px 18px;
            }

            .slds-scope button.accordion {
            width: 100%;
            border: none;
            background-color: white; 
            border-bottom: solid 1px rgba(18, 23, 36, 0.2);
            text-align: left;
            outline: none;
            font-weight: 500;
            font-size: 24px;
            line-height: 36px;
            letter-spacing: 0.0075em;
            color: rgba(18, 23, 36, 0.91);
            transition: 0.4s;
            margin-bottom: 3%;
            }

            .active, .accordion:hover {
            background-color: white; 
            }

            .panel {
            display: none;
            overflow: hidden;
            padding-left: 1%;
            padding-right: 1%;
            }
            
            .slds-scope p#commonObjections {
            font-weight: 500;
            font-size: 28px;
            line-height: 40px;
            color: rgba(18, 23, 36, 0.91);
            margin-bottom: 5%;
            margin-top: 5%;
            }
            
            .arrows {
            text-align: right;
            padding: 4px;
            float: right;
            background: #E7EAF0;
            border-radius: 32px;
            }
            
            #lessArrow1, #lessArrow2, #lessArrow3, #lessArrow4, #lessArrow5, #lessArrow6 {
            display: none;
            }
            
            #modalBodyPackage {
            padding-top: 1.5%;
            padding-right: 1.5%;
            padding-left: 1.5%;
            }
            
            .tabs {
            display: flex;
            margin: 0;
            overflow: hidden; 
            }
            
            .tabs [class^="tab"] label, .tabs [class*=" tab"] label {
            color: rgba(18, 23, 36, 0.91);
            cursor: pointer;
            display: block;
            font-weight: 500;
            font-size: 14px;
            line-height: 24px;
            letter-spacing: 0.75px;
            padding: 7px 15px;
            text-align: center;
            background: #FFFFFF;
            border: 1px solid rgba(18, 23, 36, 0.2);
            border-radius: 40px;
            margin-right: 6px;
            }
  
            .tabs [class^="tab"] [type="radio"], .tabs [class*=" tab"] [type="radio"] {
            cursor: pointer;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            display: block;
            width: 100%;
            -webkit-transition: all 0.3s ease-in-out;
            -moz-transition: all 0.3s ease-in-out;
            -o-transition: all 0.3s ease-in-out;
            transition: all 0.3s ease-in-out; 
            }

            .tabs [class^="tab"] label:hover, .tabs [class^="tab"] label:focus, 
            .tabs [class*=" tab"] label:hover, .tabs [class*=" tab"] label:focus {
            background: #e3e4e4;
            }
                
            .tabs [class^="tab"] [type="radio"]:checked + div, .tabs [class*=" tab"] [type="radio"]:checked + div {
            opacity: 1; 
            }
    
            .tabs [class^="tab"] [type="radio"] + div, .tabs [class*=" tab"] [type="radio"] + div {
            display: block;
            opacity: 0;
            padding: 10px 0;
            width: 90%;
            -webkit-transition: all 0.3s ease-in-out;
            -moz-transition: all 0.3s ease-in-out;
            -o-transition: all 0.3s ease-in-out;
            transition: all 0.3s ease-in-out; 
            }
              
            .tabs .tab-2 [type="radio"]:checked + div {
            margin-left: 0; 
            }
            
            input[type=checkbox].radiobtn, output[type=checkbox].radiobtn {
            position: absolute;
            visibility: hidden;
            display: none;
            }
        
            .radioLabel {
            color: #1776B6;
            display: table-cell;
            cursor: pointer;
            font-weight: bold;
            padding: 11px 9px;
            }
        
            input[type=checkbox]:checked + label, output[type=checkbox]:checked + label {
            color: rgba(18, 23, 36, 0.91);
            background: rgba(23, 118, 182, 0.16);
            }
        
            label + input[type=checkbox] + label, label + output[type=checkbox] + label {
            border-left: 1px solid rgba(18, 23, 36, 0.2);
            }
            
            .radio-group {
            border: 1px solid rgba(18, 23, 36, 0.2);
            display: inline-block;
            margin-left: 11px;
            margin-right: 11px;
            border-radius: 10px;
            overflow: hidden;
            }
            
            .slds-scope p.planPackageTableTitle {
            font-weight: 500;
            font-size: 14px;
            line-height: 20px;
            text-align: center;
            letter-spacing: 0.01em;
            color: rgba(18, 23, 36, 0.65);
            }
            
            .slds-scope p.planPackageTableProd {
            font-weight: 400;
            font-size: 16px;
            line-height: 24px;
            letter-spacing: 0.01em;
            color: rgba(18, 23, 36, 0.91);
            margin-left: 18px;
            }
            
            .slds-scope p.planPackageTableCost {
            font-weight: 400;
            font-size: 16px;
            line-height: 24px;
            text-align: right;
            letter-spacing: 0.01em;
            color: rgba(18, 23, 36, 0.91);
            }
            
            .slds-scope p.planPackageTableSubtotal {
            font-weight: 600;
            font-size: 16px;
            line-height: 24px;
            text-align: right;
            letter-spacing: 0.01em;
            color: rgba(18, 23, 36, 0.91);
            }
            
            .form-floating>#planPackageTableQuantity:not(:placeholder-shown), .form-floating>#planPackageTableQuantityOutput:not(:placeholder-shown) {
            padding-top: 0.6rem;
            width: 105px;
            float: right;
            }
            
            input[type=checkbox]#actionPlanTable:checked, input[type=checkbox]#authorizes:checked, input[type=checkbox]#receiveMessages:checked {
            background: #3B7A80;
            background-color: #3B7A80;
            }
            
            input[type=checkbox]#actionPlanTable, input[type=checkbox]#authorizes, input[type=checkbox]#receiveMessages {
            background: #FFFFFF;
            Width: 25px;
            Height: 15px;
            }
            
            .modalNote {
            font-weight: 400;
            font-size: 14px;
            line-height: 20px;
            text-align: right;
            letter-spacing: 0.01em;
            color: #000000;
            }
            
            .modalAmount {
            font-weight: 800;
            font-size: 18px;
            line-height: 28px;
            text-align: right;
            letter-spacing: 0.01em;
            color: #000000;
            }
            
            #currentPlan, #AllPlan, #frequentPlan, #businessPlan, #personalPlan, #payrollPlan, #bookkeepingPlan, #entityFormationPlan {
            overflow-y: auto;         
            height: 271px;
            position: relative;
            }
            
            .slds-scope table.planPackageTable {
            width: 99%;
            }
            
            #mainCategoryDiv {
            position: sticky;
            top: -8px;
            background-color: white;
            z-index: 20;
            width: 100%;
            margin-bottom: 8%;
            }
            
            #errorMessage, #errorMess, #errorMesse {
            background: rgba(222, 38, 68, 0.12);
            border-radius: 4px;
            margin-top: 15px;
            }
            
            #errorMessageText {
            font-weight: 400;
            font-size: 14px;
            line-height: 20px;
            letter-spacing: 0.01em;
            color: rgba(18, 23, 36, 0.91);
            vertical-align: middle;
            margin-top: 12px;
            margin-bottom: 12px;
            margin-left: 25px;
            }
            
            #errorMessageIcon {
            color: red;
            vertical-align: middle;
            }
            
            .slds-scope button#errorMessageBtn {
                background-color: transparent;
                background: transparent;
                border: 1px solid rgba(18, 23, 36, 0.2);
                padding: 5px;
                font-size: 14px;
                line-height: 20px;
                border-radius: 4px;
                margin-right: 2%;
                display: inline;
                margin-top: 1%;
                margin-bottom: 1%
            }
            
            .slds-scope button#errorMessageBtn:hover {
            background-color: rgba(222, 38, 68, 0.12);
            background: rgba(222, 38, 68, 0.12);
            }
            
            .form-floating>.form-control:focus~label#searchProd, .form-floating>.form-control:not(:placeholder-shown)~label#searchProd, .form-floating>.form-select~label#searchProd{
            transform: scale(0.95) translateY(-0.4rem) translateX(0.15rem);
            top: 0;
            }
            
            .form-floating>label#searchProd {
            top: -8px;
            }
            
            #switchText {
            font-weight: 500;
            font-size: 14px;
            line-height: 20px;
            letter-spacing: 0.01em;
            color: #000000;
            float: left;
            margin-top: 1.6%;
            margin-right: 1%
            }
            
            .planPackageTable {
            border-collapse: collapse; 
            }
            
            .planPackageTable td {
            padding-top: 10px;
            padding-bottom: 9px;
            }
            
            .planPackageTable tr {
            border: solid rgba(18, 23, 36, 0.2);
            border-width: 1px 0;
            }
            
            .planPackageTable tr:first-child {
            border-top: none;
            }
                        
            .planPackageTable tr:last-child {
            border-bottom: none;
            }
            
            #proceedTxt {
            font-style: italic;
            font-weight: 400;
            font-size: 24px;
            line-height: 36px;
            letter-spacing: 0.0075em;
            color: rgba(18, 23, 36, 0.65);
            }
            
            #proceed {
            vertical-align: middle;
            border-bottom-style: solid;
            border-Top-style: solid;
            border-bottom-width: 1px;
            border-top-width: 1px;
            border-bottom-color: rgba(18, 23, 36, 0.2);
            border-Top-color: rgba(18, 23, 36, 0.2);
            margin-bottom: 30px;
            margin-top: 45px;
            padding-Top: 10px;
            padding-bottom: 10px;     
            }
            
            .no-js #loader, #financingScript { 
            display: none;  
            }
            
            .js #loader { 
            display: block; 
            position: absolute; 
            left: 100px;
            top: 0; 
            }
            
            .se-pre-con {
            position: fixed;
            left: 0px;
            top: 0px;
            width: 100%;
            height: 100%;
            z-index: 9999;
            /* background: url(https://smallenvelop.com/wp-content/uploads/2014/08/Preloader_11.gif) center no-repeat #fff; */
            }

            #payTermsLabel {
            font-weight: 400;
            font-size: 16px;
            line-height: 24px;
            letter-spacing: 0.01em;
            color: rgba(18, 23, 36, 0.91);
            }

            #payTable {
            width: 70%;
            margin-top: 4%;
            }

            .payTableTitle {
            font-weight: 400;
            font-size: 16px;
            line-height: 24px;
            letter-spacing: 0.01em;
            color: rgba(18, 23, 36, 0.91);
            }

            .payTableAmount {
            font-weight: 800;
            font-size: 16px;
            line-height: 24px;
            text-align: right;
            letter-spacing: 0.02em;
            color: rgba(18, 23, 36, 0.91);
            }
            
            .scheduleCalendar {
            border: 1px solid rgba(18, 23, 36, 0.2);
            border-radius: 5px;
            padding: 3%;
            }

            #scheduleCalendarTitle {
            font-weight: 500;
            font-size: 24px;
            line-height: 36px;
            letter-spacing: 0.0075em;
            color: #000000;
            }

            #scheduleCalendarDate {
            width: 60%;
            height: 45px;
            border: 1px solid rgba(18, 23, 36, 0.2);
            border-radius: 5px;
            margin: 3% 0%;
            color: #000000;
            }

            #scheduleCalendarNote {
            font-weight: 500;
            font-size: 14px;
            line-height: 20px;
            text-align: center;
            letter-spacing: 0.01em;
            color: rgba(18, 23, 36, 0.65);
            margin-top: 5%;
            }

            .slds-scope button.hourBtn {
            box-sizing: border-box;
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            padding: 9px 16px;
            width: 98.67px;
            height: 42px;
            border: 1px solid rgba(18, 23, 36, 0.2);
            border-radius: 4px;
            background-color: transparent;
            background: transparent;
            font-size: 14px;
            line-height: 20px;
            color: #000000;
            margin: 5px;
            display: inline-flex;  
            }
            
            .slds-scope button.hourBtn:hover {
            background-color: #e9fcf6;
            background: #e9fcf6;
            }

            .slds-scope button.saveChanges:hover {
            background-color: #FFA07A;
            background: #FFA07A;
            }

            #scheduleCalendarHours {
            margin-left: -5px;
            }

            .scheduleCalendarDatePayroll {
            font-weight: 600;
            font-size: 18px;
            line-height: 28px;
            letter-spacing: 0.01em;
            color: rgba(18, 23, 36, 0.91);
            }

            .scheduleCalendarDateSelect {
            font-weight: 400;
            font-size: 16px;
            line-height: 24px;
            letter-spacing: 0.01em;
            color: rgba(18, 23, 36, 0.91);
            }

            .scheduleCalendarTable {
            margin: 3% 0%;
            }

            .cal {
            width: 56px;
            height: 56px;
            background: #AAF2DC;
            border-radius: 800px;
            color: #3B7A80;
            padding-top: 16px;
            padding-left: 16px;
            }

            .slds-scope button#confAppoi {
            font-size: 15px;
            border-radius: 36px;
            padding: 10px 16px;
            float: center;
            display: inline-block;
            font-weight: 500;
            line-height: 16px;
            letter-spacing: 0.75px;
            background: #F15F22;
            border: 1px solid #F15F22;
            background-color: #F15F22;
            color: white;
            }

            .slds-scope button#confAppoi:hover { 
            background-color: #f7a987;
            background: #f7a987;
            border: 1px solid #f7a987;
            }

            .slds-scope p.scheduleCalendarInfoNote {
            font-weight: 400;
            font-size: 14px;
            line-height: 20px;
            letter-spacing: 0.01em;
            color: rgba(18, 23, 36, 0.91);
            padding: 10px 0px;
            }

            #scheduleCalendarTable {
            background: rgba(23, 118, 182, 0.12);
            border-radius: 4px;
            }
            
            #cardInformation {
            margin-top: 32px;
            }

            #Changeover{
            width: 100%;
            height: 600px;
            }

            #ficaBtns, .slds-scope button#showficaexample, .slds-scope button#skipficaexample {
            display: block;
            }

            .slds-scope button#showficaexample {
                margin-bottom: 28px;
                padding: 8px;
            }

            .slds-scope button#skipficaexample {
                margin: 0;
                padding: 8px;
            }

            .slds-scope input.master {
            margin-left: 11px;
            }

            #waitingScreen {
            position: absolute;
            display: none;
            background: transparent;
            margin:0 auto;
            width:100%;
            height:100%;
            }

            #whiteWaiting {
                z-index: 200;
                width: 100%;
                height: 100%;
                background-color: white;
                background: white;
                opacity: 0.65;
            }

            .slds-scope button#optionBack {
            margin-left: 2%;
            margin-left: 3%;
            color: rgba(18, 23, 36, 0.91);
            }
            
            #backArrow {
            padding-right: 17px;
            }
            
            .backTitle {
            font-weight: 600;
            letter-spacing: 0.02em;
            }

            #addNoteBtn {
                background: #3F5261;
                color: #FFFFFF;
                font-weight: 600;
                font-size: 16px;
                line-height: 24px;
                letter-spacing: 0.02em;
                position: absolute;
                bottom: 12px;
                right: 32px;
                padding: 12px;
                border: 1px solid #3F5261;
                border-radius: 12px;
            }  

            #modalNotes {
                display: none;
                position: absolute;
                bottom: 12px;
                right: 32px;
                border-radius: 12px;
                box-shadow: 12px 12px 15px 17px rgb(0 0 0 / 20%);
                background: #ffffff;
                width: 380px;
                height: 430px;
            }

            #modalNotesHeader {
                background: #3F5261;
                color: #FFFFFF;
                font-weight: 600;
                font-size: 16px;
                line-height: 24px;
                letter-spacing: 0.02em;
                display: inline-flex;
                padding: 12px 25px;
                border-radius: 12px 12px 0px 0px;
                width: 100%;
            }

            .slds-scope button#modalNotesHeaderBtn {
                float: right;
                color: #FFFFFF;
                background: #3F5261;
                font-weight: 600;
                font-size: 16px;
                line-height: 24px;
                letter-spacing: 0.02em;
                border: none;
                display: flex;
                right: -140px;
                position: relative;
            }

            #modalNotesContent {
                background: #FFFFFF;
                padding: 15px;
            }

            #modalNoteNote {
                background: rgba(23, 118, 182, 0.12);
                border-radius: 4px;
                width: fit-content;
                padding: 3%;
                font-weight: 400;
                font-size: var(--step--1);
                line-height: 20px;
                letter-spacing: 0.01em;
                color: rgba(18, 23, 36, 0.91);
                margin-bottom: 15px;
            }

            #noteTitle {
                height: 50px;
                margin-bottom: 15px;
            }

            #noteBody {
                height: 215px;
            }

            .row {
                margin-left: 0px;
                flex: 0;
                width: 100%;
            }

            .col, .row>.col {
                flex: 0;
                display: table-cell;
                vertical-align: middle;
            }

            .row>* {
                padding: 7px 7px;
                width: auto;
            }
                        
            @media screen and (max-width: 1280px) {
            #formBody, #blastBody, #menuBody, #businessDisc, #businessDiscParts, #properEstityStrugleLLC, #flowThroughEntitySCorp, #entityClassificationElec, 
            #selfEmploymentTaxSCorp, #reasonableSalarySCorp, #selfEmploymentTaxLLC, #properEntityStrugReviewSCorp, #deductionsIntro, #startUpCosts, #medicalDeduction, 
            #vehicleDeduction, #homeOfficeDeduction, #properEntityStrugReviewLLC,
            #codeDeduction, #reviewDeduction, #paperloss, #preparedPackages, #verifyInformation, #scheduleDiscMeeting, #paymentDetails, #postPurchase, 
            #features, #expertAccountant, #portalTour, #filingBusinessTaxes, #filingECE, #presWrapUp, #properEstityStrugleSCorp #flowThroughEntityLLC { 
            padding-right: 37px;
            padding-left: 37px;
            }
            }

            @media screen and (max-width: 2200px) {
            .slds-scope p.noteClientView {
            margin-left: 33%;
            }
            }

            @media screen and (max-width: 1600px) {
            .slds-scope p.noteClientView {
            margin-left: 32%;
            }
            }

            @media screen and (max-width: 1500px) {
            .slds-scope p.noteClientView {
            margin-left: 30%;
            }
            }
        </style>
    </head>
    <script src="https://kit.fontawesome.com/8e2856d80f.js" crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/3.3.4/jquery.inputmask.bundle.min.js"></script>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.3.1/socket.io.js'></script>
    <apex:includeScript value="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.9.1.min.js"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.js"></script>

    <script type='text/javascript'> 
    
    $(window).load(function() {
        $(".se-pre-con").fadeOut("slow");
    });
    
    $(document).ready(function () {
        Inputmask("(9{3}) 9{3}-9{4}", {
            placeholder: " ",
            greedy: false
        }).mask('#phone');
        Inputmask("(9{3}) 9{3}-9{4}", {
            placeholder: " ",
            greedy: false
        }).mask('#contphone');
        Inputmask("(9{3}) 9{3}-9{4}", {
            placeholder: " ",
            greedy: false
        }).mask('#phoneEditClient');
        Inputmask("(9{3}) 9{3}-9{4}", {
            placeholder: " ",
            greedy: false
        }).mask('#phoneModalEditClientInfo');
        
    });
    
    window.addEventListener('resize', function(event) {
        var newHeight = window.innerHeight; 
        var height = document.getElementById('menuBody').offsetHeight;

        var quarterHeight = newHeight / 5;
        var clientHeight = quarterHeight * 3;
        var detailsHeight = quarterHeight * 2;

        document.getElementById("formClientDet").style.height = (detailsHeight) + 'px';
        document.getElementById("formClientView").style.height = (clientHeight) + 'px';
        document.getElementById('preparedPackages').style.height = (newHeight - height) + 'px';
        document.getElementById('verifyInformation').style.height = (newHeight - height) + 'px';
        document.getElementById('paymentDetails').style.height = (newHeight - height) + 'px';
        document.getElementById('postPurchase').style.height = (newHeight - height) + 'px';
        document.getElementById('businessDiscParts').style.height = (newHeight - height) + 'px';
    });
    
    var cInd;
    var answers = '';
    var isFirstTime = false;
    var isFirstTime2 = true;
    var isFirstTime3 = true;
    var isFirstTime4 = true;
    var isFirstTime5 = true;
    var flagOne = false;
    var flagTwo = false;
    var flagThree = false;
    var flagFour = false;
    var flagFive = false;
    var flagDoSubmit = false
    var pulledPartners = false;
    var partnersGone = true;
    var isfinalScreen = false;
    var firstPackage = false;
    const currentPlan = new Array();
    const AllPlan = new Array();
    const frequentPlan = new Array();
    const businessPlan = new Array();
    const personalPlan = new Array();
    const payrollPlan = new Array();
    const bookkeepingPlan = new Array();
    const entityFormationPlan = new Array();
    var chosenProducts = new Array();
    var uniquechosenProducts = new Array();
    const productIdToBilling = new Map();
    const questionToProduct = new Map();
    const productToQuestion = new Map();
    const questionToText = new Map();
    const textToQuestion = new Map();
    const defaultAnswers = new Map();
    const selectedProducts = new Array();
    const selectedProductsToQuote = new Array();
    const deletedProducts = new Array();
    const billingAnnualMonthly = new Map();
    var productsToPrice = JSON.parse('{!productToPrice}');
    var pricesMap = new Map(Object.entries(productsToPrice));
    const oridinalPricesMap = new Map(Object.entries(productsToPrice));
    var hasPayroll = '';
    var stateBilli = '';
    var payTerms = 'yrl';
    var entity = '';
    var primaryDisp = 'Consulted';
    var secondaryDisp = 'Not Interested';
    var notEntityType = '';
    var eventId = "{!$CurrentPage.parameters.rId}";
    var whenDisposition = 'early';
    var schedulerURL = '';
    var entitySelected = '';
    defaultAnswers.set('Is this your first business?', '');
    defaultAnswers.set('How many years have you been in business?', '---');
    defaultAnswers.set('What entity type is your business?', 'defaultEntity');
    defaultAnswers.set('What industry is your business in?', 'defaultIndustry');
    defaultAnswers.set('What is your state of incorporation?', 'defaultDomesticState');
    defaultAnswers.set('What is your foreign state of incorporation?', 'defaultForeignState ');
    //defaultAnswers.set('What is your state of residence?', 'defaultPersonalState');
    defaultAnswers.set('How much have you invested so far in start-up costs?', 'defaultStartupCosts');
    defaultAnswers.set('What do you anticipate your revenue to be over the next 12 months?', 'defaultRevenue');
    defaultAnswers.set('What do you project your 1st year profit to be over the next 12 months?', 'defaultFirstYearProfit');
    //defaultAnswers.set('What is your total investor funding?', 'defaultInvestorFunding');
    defaultAnswers.set('How many monthly bookkeeping transactions do you have?', 'defaultNumTransactions');
 
    function loadingPage() {
        
        var newHeight = window.innerHeight; 
        var height = document.getElementById('menuBody').offsetHeight;

        var quarterHeight = newHeight / 5;
        var clientHeight = quarterHeight * 3;
        var detailsHeight = quarterHeight * 2;

        document.getElementById("formClientDet").style.height = (detailsHeight) + 'px';
        document.getElementById("formClientView").style.height = (clientHeight) + 'px';
        document.getElementById('preparedPackages').style.height = (newHeight - height) + 'px';
        document.getElementById('verifyInformation').style.height = (newHeight - height) + 'px';
        document.getElementById('paymentDetails').style.height = (newHeight - height) + 'px';
        document.getElementById('postPurchase').style.height = (newHeight - height) + 'px';
        document.getElementById('businessDiscParts').style.height = (newHeight - height) + 'px';

        document.getElementById('stopPres').setAttribute("disabled", "disabled");
        document.getElementById('btnAddRow').setAttribute("disabled", "disabled");
        document.getElementById("menuOpts").value = "Discovery Questions";
        document.getElementById('verifyInformation').style.display = "none";
        document.getElementById('paymentDetails').style.display = "none";
        document.getElementById('postPurchase').style.display = "none";
        document.getElementById('waitingScreen').style.display = "none";
        document.getElementById('preparedPackages').style.display = "none";
        document.getElementById('engagee').style.display = "none";
        document.getElementById('showAllAnswer').style.display = "none";
        document.getElementById('firstBackBtn').style.display = "none";
        
        var menuList = document.getElementById("menuOpts").options;
        for (let i = 1; i < menuList.length; i++) {
            menuList[i].setAttribute("disabled", "disabled");
        }

        <apex:repeat var="p" value="{!defaultProducts}">
            var mark = document.getElementsByClassName('{!p.Id}');
            for (let i = 0; i < mark.length; i++) {
                mark[i].checked = true;
            }

            currentPlan.push('{!p.Id}');
            chosenProducts.push('{!p.Id}');
            uniquechosenProducts = [...new Set(chosenProducts)]; 
        </apex:repeat>

        <apex:repeat var="p" value="{!finalProducts}">
            productIdToBilling.set('{!p.Id}', '{!p.Billing_Frequency__c}');
        </apex:repeat>

        nextSection(0, 'Discovery Questions', null, 'businessDiscParts')
    }
    
    //const socket = io('https://staging.1800accountant.com', { path: '/socket.io', autoConnect: false });
    //const socket = io('https://1800accountant.com', { path: '/socket.io', autoConnect: false });
    //console.log('sessionId: {!$CurrentPage.parameters.sessionId}');
    //console.log('token: {!$CurrentPage.parameters.token}');
    //socket.connect();
    //socket.auth = {sessionID: '{!$CurrentPage.parameters.sessionId}', authToken: '{!$CurrentPage.parameters.token}', source: 'controller'}; 
    //socket.on("connect", () => {
    //    console.log('socket.id: ' + socket.id);
    //});
        
    //socket.on("private message", (message) => {
    //     console.log("message", message);
    // });
        
    // socket.onerror = function(event) {
    //     console.error("WebSocket error observed:", event);
    // }
        
    // socket.on('disconnect', function (reason) {
    //     console.log('disconnecting:');
    //     console.log(reason);
    // });

    var businessId = '{!businessId}';
    var accId = '{!opportunity.AccountId}';

    function YesDecision(num) {
        document.getElementById('yesBtn' + num).style.border = "1px solid #3B7A80";
        document.getElementById('yesBtn' + num).style.color = "white";
        document.getElementById('yesBtn'+num).style.background = "#3B7A80";
        
        document.getElementById('noBtn' + num).style.border = "1px solid #c0c0c0";
        document.getElementById('noBtn' + num).style.color = "black";
        document.getElementById('noBtn' + num).style.background = "white";
    }
        
    function NoDecision(num) {
        document.getElementById('yesBtn' + num).style.border = "1px solid #c0c0c0";
        document.getElementById('yesBtn' + num).style.color = "black";
        document.getElementById('yesBtn' + num).style.background = "white";
        
        document.getElementById('noBtn' + num).style.border = "1px solid #3B7A80";
        document.getElementById('noBtn' + num).style.color = "white";
        document.getElementById('noBtn' + num).style.background = "#3B7A80";
    }
    
    function hideAll() {
        document.getElementById('preparedPackages').style.display = "none";
        document.getElementById('verifyInformation').style.display = "none";
        document.getElementById('paymentDetails').style.display = "none";
        document.getElementById('postPurchase').style.display = "none";
        document.getElementById('businessDiscParts').style.display = "none";
    }

    function updateStates() {
        var stateResi = $('[data-id="state"]').val();
        stateBilli = "{!businessOwner.State__c}";

        if (stateBilli == '' || stateBilli == null) { 
            stateBilli = stateResi;
        }
        document.getElementById("busOwnerState").innerHTML = stateBilli;
        $('[data-id="stateAddress"]').val(stateBilli);
    }
                    
    function goToPage() {
        var selected = document.getElementById("menuOpts").value;
        //socket.connect();
        
        if(selected == "Discovery Questions") {
            hideAll();
            document.getElementById('businessDiscParts').style.display = "block";
            document.getElementById("menuOpts").value = "Discovery Questions";
            document.getElementById("discoveryQuestionTitle").innerHTML = "Business Discovery";
            document.getElementById('engagee').style.display = "none";

            document.getElementById('mainCategoryDiv').style.background = "white";
            document.getElementById('mainCategoryDiv').style.border = "none";
            document.getElementById('mainCategoryDiv').style.borderRadius = "0px";
            document.getElementById('mainCategory').style.marginTop = "0px";
            document.getElementById('mainCategory').style.width = "100%";
            document.getElementById('mainCategory').style.marginLeft = "0px";
            document.getElementById('mainCategory').style.marginBottom = "0px";
            document.getElementById('showAllAnswer').style.display = "none";

        } else if(selected == "Prepared Packages") {
            hideAll();
            document.getElementById('preparedPackages').style.display = "block";
            nextSection(2, 'Prepared Packages', 'paperloss', 'preparedPackages');
        } else if(selected == "Verify Information") {
            hideAll();
            document.getElementById('verifyInformation').style.display = "block";
            nextSection(3, 'Verify Information', 'preparedPackages', 'verifyInformation');
        } else if(selected == "Payment Details") {
            hideAll();
            document.getElementById('paymentDetails').style.display = "block";
            nextSection(4, 'Payment Details', 'preparedPackages', 'paymentDetails');
        } else if(selected == "Post Purchase") {
            hideAll();
            document.getElementById('postPurchase').style.display = "block";
            nextSection(35, 'Post Purchase', 'paymentDetails', 'postPurchase');
        }
    }

    function calculateTaxSavings() {
        if(beenPastReview) {
            var entityType = $('[data-id="entity"]').val();
            var profits = $('[data-id="profit"]').val();
            var startup = $('[data-id="startup"]').val();
            var mileage = $('[data-id="miles"]').val();
            var office = $('[data-id="footage"]').val();
            var filingStatus = $('[data-id="filingStatus"]').val();
            var income = $('[data-id="household"]').val();
            var industryType = $('[data-id="industry"]').val();
            var numForeignOwners = $('[data-id="foreignowners"]').val();
            var eventId = '{!$CurrentPage.parameters.id}';
            var recordId = '{!$CurrentPage.parameters.recordId}';

            Visualforce.remoting.Manager.invokeAction('GuidedSellingEditControllerExtension.calculateSavingsGuidedSelling', entityType, profits, startup, mileage, office, filingStatus, income, industryType, numForeignOwners, accId,  function(r,e){
                
                var dataResult = e.result;
                const dataList = dataResult.split(",");

                var ece = parseFloat(dataList[0]);
                var office = parseFloat(dataList[1]);
                var mileage = parseFloat(dataList[2]);
                var qbi = parseFloat(dataList[3]);
                var startup = parseFloat(dataList[4]);
                var final = parseFloat(dataList[5]);

                ece = ece.toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,');
                office = office.toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,');
                mileage = mileage.toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,');
                qbi = qbi.toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,');
                startup = startup.toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,');
                final = final.toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,');
                
                // socket.connect();
                // content = {
                //     savings: final, 
                //     ece: ece, 
                //     office: office, 
                //     mileage: mileage, 
                //     qbi: qbi, 
                //     startup: startup
                // }
                // socket.emit("private message", {
                //     content
                // });
            });

            var productIdToIdentifier = JSON.parse('{!productToIdentifier}');
            const nameMap = new Map(Object.entries(productIdToIdentifier));
                
            for (let i = 0; i < currentPlan.length; i++) {
                var productName = nameMap.get(currentPlan[i]);
                productSelected(true, currentPlan[i], productName);
            } 

            for (let i = 0; i < selectedProducts.length; i++) {
                var productName = nameMap.get(selectedProducts[i]);
                
                if(document.getElementById(selectedProducts[i]).childNodes.length > 6) {
                    autoChecks(productName, document.getElementById(selectedProducts[i]).childNodes[1].childNodes[1]);
                } else {
                    autoChecks(productName, document.getElementById(selectedProducts[i]).childNodes[0].childNodes[0]);
                }
            }
        }
    }

    function reviewBusiDisc(flagReview) {
        if(flagReview == true) {
            document.getElementById("menuOpts").options[1].removeAttribute('disabled'); 
            document.getElementById("menuOpts").value = "Review Business Discovery";
            document.getElementById("discoveryQuestionTitle").innerHTML = "Review Business Discovery";
            document.getElementById('engagee').style.display = "block";
            document.getElementById('busiDisc').innerHTML = "Discovery Questions";
            document.getElementById('businessDiscParts').scrollTop = 0;
            document.getElementById('endNote').innerHTML = "Proper Entity Structuring";
            document.getElementById("mainCategory").value = "Show All Questions";

            document.getElementById('mainCategoryDiv').style.background = "#F7F5F2";
            document.getElementById('mainCategoryDiv').style.border = "1px solid rgba(18, 23, 36, 0.2)";
            document.getElementById('mainCategoryDiv').style.borderRadius = "8px";
            document.getElementById('mainCategory').style.marginTop = "20px";
            document.getElementById('mainCategory').style.width = "92%";
            document.getElementById('mainCategory').style.marginLeft = "20px";
            document.getElementById('mainCategory').style.marginBottom = "20px";
            //document.getElementById('showAllAnswer').style.display = "block";
            
            filterQuestions('Show All Questions');
            var menuList = document.getElementById("menuOpts").options;
            for (let i = 4; i < menuList.length; i++) {
                menuList[i].setAttribute("disabled", "disabled");
            }

            // socket.connect();
            // content = {
            //     page: "Business Discovery Review"
            // }
            // socket.emit("private message", {
            //     content
            // });
        } else {

            document.getElementById("menuOpts").value = "Prepared Packages";
            document.getElementById('businessDiscParts').style.display = "none";
            
            document.getElementById("menuOpts").options[2].removeAttribute('disabled');
            document.getElementById('quoteEdit').style.display = "block"; 
            
            nextSection(2, 'Prepared Packages', 'businessDiscParts', 'preparedPackages');
        }
    }
    
    function disableButton() {
        var firstName = document.getElementById("firstName").value;
        var lastName = document.getElementById("lastName").value;
        var email = document.getElementById("email").value;
        var phone = document.getElementById("phone").value;
            
        if(firstName != '' && lastName != '' && email != '' && phone != '') {
            document.getElementById('btnAddRow').removeAttribute('disabled');
            document.getElementById('btnAddRow').style.opacity = "1";
        } else {
            document.getElementById('btnAddRow').setAttribute("disabled", "disabled");
            document.getElementById('btnAddRow').style.opacity = "0.25";
        }
    }
            
    function showModal() {
        document.getElementById("modal").style.display = "block";  
    }
            
    function showModalSkip() {
        document.getElementById("modalSkip").style.display = "block";  
    }

    function showModalClientScreen() {
        document.getElementById("modalClientScreenn").style.display = "block";  
    }
            
    function showModalCancel() {
        if(isfinalScreen == true) {
            endPresentation();
        } else {
            document.getElementById('stopPres').setAttribute("disabled", "disabled");
            document.getElementById("modalCancel").style.display = "block";  
        }
    }
            
    function showModalEditClient() {
        document.getElementById("modalEditClient").style.display = "block";  
    }
            
    function showModalEditPackage() {
        document.getElementById("closeOptions").style.display = "inline";
        document.getElementById("keepEditing").style.display = "none";
        document.getElementById("discardEditing").style.display = "none";
        
        loadProdsData(firstPackage);
        
        Visualforce.remoting.Manager.invokeAction('GuidedSellingEditControllerExtension.getBusinessInfo', accId, function(r,e) {
            if(e.status) {
                hasPayroll = e.result;
            }
        });

        document.getElementById("modalEditPackage").style.display = "block";  

        displayTablePlan('currentPlan', document.getElementById("tab2-1"), true);

        firstPackage = true;
    }

    function loadProdsData(fp) {
        if(fp == false) {
            var productIdToIdentifier = JSON.parse('{!productToIdentifier}');
            const nameMap = new Map(Object.entries(productIdToIdentifier));
                    
            for (let i = 0; i < currentPlan.length; i++) {
                var productName = nameMap.get(currentPlan[i]);
                productSelected(true, currentPlan[i], productName);
            } 

            for (let i = 0; i < selectedProducts.length; i++) {
                var productName = nameMap.get(selectedProducts[i]);
                    
                if(document.getElementById(selectedProducts[i]).childNodes.length > 6) {
                    autoChecks(productName, document.getElementById(selectedProducts[i]).childNodes[1].childNodes[1]);
                } else {
                    autoChecks(productName, document.getElementById(selectedProducts[i]).childNodes[0].childNodes[0]);
                }
            }
        }

    }

    function showModalEditClientInfo() {
        document.getElementById("modalEditClientInfo").style.display = "block";  
    }

    function showModalEditBillingAdd() {
        document.getElementById("modalEditBillingAdd").style.display = "block";  
    }

    function showModalEditPayTerms() {
        var total = document.getElementById('payAmountDue').innerHTML;
        total = total.replace('$','');
        total = total.replace(',','');
        
        var payList = document.getElementById("payTerms").options;
        for (let i = 1; i < payList.length; i++) {
            payList[i].setAttribute("disabled", "disabled");
        }

        payList[0].removeAttribute('disabled');

        if(parseInt(total) < 500) {
            document.getElementById('payTerms').setAttribute('disabled', 'disabled');
            document.getElementById("payTerms").value = "No Financing";
        } else {
            document.getElementById('payTerms').removeAttribute('disabled');
            if(parseInt(total) >= 500 && parseInt(total) < 1000) {
                payList[1].removeAttribute('disabled');
                payList[2].removeAttribute('disabled');
            } else if(parseInt(total) >= 1000 && parseInt(total) < 1450) {
                payList[1].removeAttribute('disabled');
                payList[2].removeAttribute('disabled');
                payList[3].removeAttribute('disabled');
            } else if(parseInt(total) >= 1450 && parseInt(total) < 1790) {
                payList[1].removeAttribute('disabled');
                payList[2].removeAttribute('disabled');
                payList[3].removeAttribute('disabled');
                payList[4].removeAttribute('disabled');
            } else if(parseInt(total) >= 1790) {
                payList[1].removeAttribute('disabled');
                payList[2].removeAttribute('disabled');
                payList[4].removeAttribute('disabled');
                payList[3].removeAttribute('disabled');
                payList[5].removeAttribute('disabled');
            }
        }
        document.getElementById("modalEditPayTerms").style.display = "block";  
    }
            
    function closeModal() {
        document.getElementById("modal").style.display = "none";  
        document.getElementById("firstName").value = "";
        document.getElementById("lastName").value = "";
        document.getElementById("role").value = "";
        document.getElementById("email").value = "";
        document.getElementById("phone").value = "";
        document.getElementById("partnerResponseErrors").value = "";
    }
            
    function closeModalSkip() {
        document.getElementById("modalSkip").style.display = "none";  
    }

    function closeModalClientScreen() {
        document.getElementById("modalClientScreenn").style.display = "none";  
    }
            
    function closeModalCancel() {
        document.getElementById("modalCancel").style.display = "none";  
    }
            
    function closeModalEditClient() {
        document.getElementById("modalEditClient").style.display = "none";  
    }
            
    function closeModalEditPackage() {
        document.getElementById("closeOptions").style.display = "none";
        document.getElementById("keepEditing").style.display = "inline";
        document.getElementById("discardEditing").style.display = "inline";
    }

    function closeAndSave() {
        document.getElementById("closeOptions").style.display = "inline";
        document.getElementById("keepEditing").style.display = "none";
        document.getElementById("discardEditing").style.display = "none";
        document.getElementById("modalEditPackage").style.display = "none"; 

        calcFinance(false);
    }

    function confimCloseModalEditPackage() {
        document.getElementById("closeOptions").style.display = "inline";
        document.getElementById("keepEditing").style.display = "none";
        document.getElementById("discardEditing").style.display = "none";
        document.getElementById("modalEditPackage").style.display = "none"; 
        
        for (let i = 0; i < currentPlan.length; i++) {
            for (let j = 0; j < selectedProducts.length; j++) {
                if(!currentPlan[i].includes(selectedProducts[j])) {
                    const list = document.getElementsByClassName(selectedProducts[j]);
                    for (let l = 0; l < list.length; l++) {
                        if(list[l].id.includes("actionPlanTable")) {
                            list[l].checked = false;
                            list[l].value = false;
                            
                        }
                    }
                }
            }
        }
        calculateTaxSavings();
    }

    function backToEditing() {
        document.getElementById("closeOptions").style.display = "inline";
        document.getElementById("keepEditing").style.display = "none";
        document.getElementById("discardEditing").style.display = "none";
    }

    function backToEdit() {
        closeModalOptions();
        showModalEditPackage();
    }

    function closeModalEditClientInfo() {
        document.getElementById("modalEditClientInfo").style.display = "none";
        document.getElementById("modalEditClientInfoErrors").value = "";
    }

    function closeModalEditBillingAdd() {
        document.getElementById("modalEditBillingAdd").style.display = "none";
        document.getElementById("modalEditBillingAddErrors").value = "";
    }

    function closeModalEditPayTerms() {
        document.getElementById("modalEditPayTerms").style.display = "none";
        document.getElementById("modalEditPayTermsErrors").value = "";
    }

    function addRow(j) {
        document.getElementById('btnAddRow').setAttribute("disabled", "disabled");
        document.getElementById('btnAddRow').style.opacity = "0.25";

        var action = document.getElementById("btnAddRow").innerHTML;
        var firstName = document.getElementById("firstName").value;
        var lastName = document.getElementById("lastName").value;
        var role = document.getElementById("role").value;
        var email = document.getElementById("email").value;
        
        if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(email))) {
            document.getElementById("emailFormatError").innerHTML = "Invalid email format.";
        } else {
            var phone = document.getElementById("phone").value;
            var contactId = (undefined == document.getElementById("contactId").value) ? null : document.getElementById("contactId").value;           
            
            var name = firstName + ' ' + lastName;
            var tBody = document.getElementById("tBody");
            var tableBody = document.getElementById("tableBody");
            var success = false;
            var jsonString = JSON.stringify({firstName: firstName, lastName: lastName, role: role, email: email, phone: phone});
        
            Visualforce.remoting.Manager.invokeAction('GuidedSellingEditControllerExtension.createUpdatePartner', businessId, contactId, jsonString, function(r,e) {
                if(e.status) {
                    if(action == "Add Partner") {
                        document.getElementById("addPartTable1").style.display = "none";  
                    
                        var ind1 = document.getElementById('contTable').getElementsByTagName('tbody')[0].getElementsByTagName('tr').length;
                        var rowData1 = getRowData(ind1, "prin", name, role, email, phone, e.result);
                    
                        var ind2 = document.getElementById('addPartTable2').getElementsByTagName('tbody')[0].getElementsByTagName('tr').length;
                        var rowData2 = getRowData(ind2, "sec", name, role, email, phone, e.result);
                    
                        if(tBody.innerHTML != null) {
                            tableBody.innerHTML = tableBody.innerHTML + rowData1;
                            tBody.innerHTML = tBody.innerHTML + rowData2;
                        } else {
                            tableBody.innerHTML = rowData1;
                            tBody.innerHTML = rowData2;
                        }
                    
                        // socket.connect();
                        // content = {
                        //     page: "Partner Info",
                        //     name: name,
                        //     role: role,
                        //     email: email,
                        //     phone: phone 
                        // }
                        // socket.emit("private message", {
                        //     content
                        // });
                        document.getElementById("menuOpts").options[1].removeAttribute('disabled'); 
                        
                        document.getElementById('start').removeAttribute('disabled');
                        document.getElementById('start').style.opacity = "1";
                        
                    } else if(action == "Save Partner") {
                        document.getElementById("addPartTable1").style.display = "none";  
                        var col;
                        
                        if(cPar.includes("prin")) {
                            col = cInd - 1;
                            
                            tBody.rows[cInd - 1].cells[0].childNodes[0].innerText = name[0];
                            tBody.rows[cInd - 1].cells[1].childNodes[0].childNodes[0].innerText = name;
                            tBody.rows[cInd - 1].cells[1].childNodes[0].childNodes[1].innerText = role;
                            tBody.rows[cInd - 1].cells[2].childNodes[0].childNodes[0].innerText = phone;
                            tBody.rows[cInd - 1].cells[2].childNodes[0].childNodes[1].innerText = email;
                            
                            tableBody.rows[cInd].cells[0].childNodes[0].innerText = name[0];
                            tableBody.rows[cInd].cells[1].childNodes[0].childNodes[0].innerText = name;
                            tableBody.rows[cInd].cells[1].childNodes[0].childNodes[1].innerText = role;
                            tableBody.rows[cInd].cells[2].childNodes[0].childNodes[0].innerText = phone;
                            tableBody.rows[cInd].cells[2].childNodes[0].childNodes[1].innerText = email;
                        
                        } else if (cPar.includes("sec")) {
                            col = cInd;
                            
                            tBody.rows[cInd].cells[0].childNodes[0].innerText = name[0];
                            tBody.rows[cInd].cells[1].childNodes[0].childNodes[0].innerText = name;
                            tBody.rows[cInd].cells[1].childNodes[0].childNodes[1].innerText = role;
                            tBody.rows[cInd].cells[2].childNodes[0].childNodes[0].innerText = phone;
                            tBody.rows[cInd].cells[2].childNodes[0].childNodes[1].innerText = email;
                            
                            tableBody.rows[cInd + 1].cells[0].childNodes[0].innerText = name[0];
                            tableBody.rows[cInd + 1].cells[1].childNodes[0].childNodes[0].innerText = name;
                            tableBody.rows[cInd + 1].cells[1].childNodes[0].childNodes[1].innerText = role;
                            tableBody.rows[cInd + 1].cells[2].childNodes[0].childNodes[0].innerText = phone;
                            tableBody.rows[cInd + 1].cells[2].childNodes[0].childNodes[1].innerText = email;
                        } 
                        
                        // socket.connect();
                        // content = {
                        //     page: "Edit Partner", 
                        //     index: col,
                        //     name: name,
                        //     role: role,
                        //     email: email,
                        //     phone: phone
                        // }
                        // socket.emit("private message", {
                        //     content
                        // });
                        
                        cInd = '';
                        cPar = '';
                    } else if(action == "Save Primary Contact") {
                        tableBody.rows[0].cells[0].childNodes[1].innerText = name[0];
                        tableBody.rows[0].cells[1].childNodes[1].childNodes[1].innerText = name;
                        tableBody.rows[0].cells[1].childNodes[1].childNodes[3].innerText = role;
                        tableBody.rows[0].cells[2].childNodes[1].childNodes[1].innerText = phone;
                        tableBody.rows[0].cells[2].childNodes[1].childNodes[3].innerText = email;
                        for(x = 0; x < 5; x++){
                            document.getElementById('additionalFirstName' + x).innerText = firstName;
                        }
                    }
                
                    name = '';
                    role = '';
                    email = '';
                    phone = '';
                    document.getElementById("btnAddRow").removeAttribute('disabled'); 
                    document.getElementById('btnAddRow').style.opacity = "1";
                
                    closeModal();
                } else if(e.type === 'exception') {
                    document.getElementById("partnerResponseErrors").innerHTML = e.message + "<br/>\n<pre>" + e.where + "</pre>";
                    document.getElementById("btnAddRow").removeAttribute('disabled'); 
                    document.getElementById('btnAddRow').style.opacity = "1";
                }
            });
        }
    }
    
    function getRowData(num, diff, name, role, email, phone, contactId) {
        var rowData = '<tr>'
        + '<td>' 
        + '<spam class="contIni">' + name[0] + '</spam>'
        + '</td>'
        + '<td>'
        + '<div class="contInfo">'
        + '<p class="contName">' + name + '</p>'
        + '<p class="contRole">' +  role + '</p>'
        + '</div>'
        + '</td>'
        + '<td>'
        + '<div class="contContaInfo">'
        + '<p class="contPhone">' + phone + '</p>'
        + '<p class="contEmail">' + email + '</p>'
        + '<p class="contContactId" style="display:none">' + contactId + '</p>'
        + '</div>'
        + '</td>'
        + '<td>'
        + '<div class="contMore">'
        + '<span class="material-icons" onClick="' + diff + 'rowMenu' + num + '();" id="btnSubMenu">more_vert</span>'
        + '<div id="' + diff + 'menu' + num + '" class="dropdown-content">'
        + '<a onclick="editPartner(this);"><span class="material-icons" id="icon">edit</span>&nbsp;Edit Partner</a>'
        + '<a onclick="deletePartner(this);" id="edit"><span class="material-icons" id="icon">delete</span>&nbsp;Delete Partner</a>'
        + '</div>'                               
        + '</div>'
        + '</td>'
        + '</tr>';
        return rowData;
    }
    var seenDefaults = false;
    
    function nextSection(pickNum, opt, hideOne, showOne) { 

        isfinalScreen = false;
        
        if(hideOne != null) {
            document.getElementById(hideOne).style.display = "none";
        }
        document.getElementById(showOne).style.display = "block";
        
        if(opt == 'Discovery Questions') {
            document.getElementById("menuOpts").options[pickNum].removeAttribute('disabled'); 
            document.getElementById("menuOpts").value = opt;
            document.getElementById("discoveryQuestionTitle").innerHTML = "Business Discovery";
            document.getElementById('engagee').style.display = "none";
            document.getElementById('thirdStart').setAttribute("disabled", "disabled");
            document.getElementById('thirdStart').style.opacity = "0.25";
            document.getElementById('errorMessage').style.display = "flex"; 

            document.getElementById('mainCategoryDiv').style.background = "white";
            document.getElementById('mainCategoryDiv').style.border = "none";
            document.getElementById('mainCategoryDiv').style.borderRadius = "0px";
            document.getElementById('mainCategory').style.marginTop = "0px";
            document.getElementById('mainCategory').style.width = "100%";
            document.getElementById('mainCategory').style.marginLeft = "0px";
            document.getElementById('mainCategory').style.marginBottom = "0px";
            document.getElementById('showAllAnswer').style.display = "none";

            // content = {
            //     page: "Business Discovery Parts"
            // }
            // socket.emit("private message", {
            //     content
            // });

            var defaultYearsInBusiness = '{!defaultYearsInBusiness}';
            var defaultEntity = '{!defaultEntity}';
            var defaultIndustry = '{!defaultIndustry}';
            var defaultDomesticState = '{!defaultDomesticState}';
            var defaultForeignState = '{!defaultForeignState}';
            //var defaultPersonalState = '{defaultPersonalState}';
            var defaultStartupCosts = '{!defaultStartupCosts}';
            var defaultRevenue = '{!defaultRevenue}';
            var defaultFirstYearProfit = '{!defaultFirstYearProfit}';
            //var defaultInvestorFunding = '{defaultInvestorFunding}';
            var defaultNumTransactions = '{!defaultNumTransactions}';
            //var defaultNumForeignOwners = '{defaultNumForeignOwners}';
            var defaultNumOwners = '{!defaultNumOwners}';
            var defaultNumEmployees = '{!defaultNumEmployees}';
            //var defaultNumContractors = '{defaultNumContractors}';
            var defaultFilingStatus = '{!defaultFilingStatus}';
            var defaultPersonalIncome = '{!defaultPersonalIncome}';
            var defaultNumberOfRentalProperties = '{!defaultNumberOfRentalProperties}';
            //var defaultOtherInvestments = '{defaultOtherInvestments}';
            var defaultOffice = '{!defaultOffice}';
            var defaultMileage = '{!defaultMileage}';
            var firstBusiness = '{!firstBusiness}';
            var runPayrollBefore = '{!runPayrollBefore}';
            var hasEmployeesContractors = '{!hasEmployeesContractors}';
            //var foreignIncome = '{foreignIncome}';
            var hasRentalProperties = '{!hasRentalProperties}';
            var isWorkingFromHome = '{!isWorkingFromHome}';
            var commutesWithOwnVehicle = '{!commutesWithOwnVehicle}';
            //var eCommerce = '{eCommerce}';

            setRequiredUnasweredFields();

            if('---' != defaultYearsInBusiness){
                getNextBtn('Years In Business');
                populateAnswer('How many years have you been in business?', defaultYearsInBusiness, false);
            }
            if('Select an Entity Type' != defaultEntity){
                getNextBtn('Entity Type');
                populateAnswer('What entity type is your business?', defaultEntity, false);
            }
            if('Select an Industry' != defaultIndustry){
                getNextBtn('Industry Type');
                populateAnswer('What industry is your business in?', defaultIndustry, false);
            }
            if('Select a State' != defaultDomesticState){
                getNextBtn('State of Incorporation');
                populateAnswer('What is your state of incorporation?', defaultDomesticState, false);
            }
            if('Select a State' != defaultForeignState){
                getNextBtn('Foreign State');
                populateAnswer('What is your foreign state of incorporation?', defaultForeignState, false);
            }
            // if('Select a State' != defaultPersonalState){
            //     getNextBtn('State of Residence');
            //     populateAnswer('What is your state of residence?', defaultPersonalState, false);
            // }
            if('---' != defaultStartupCosts){
                getNextBtn('Total Startup Cost');
                populateAnswer('How much have you invested so far in start-up costs?', defaultStartupCosts, false);
            }
            if('---' != defaultRevenue){
                getNextBtn('Projected 1st Year Revenue');
                populateAnswer('What do you anticipate your revenue to be over the next 12 months?', defaultRevenue, false);
            }
            if('---' != defaultFirstYearProfit){
                getNextBtn('Projected 1st Year Profit');
                populateAnswer('What do you project your 1st year profit to be over the next 12 months?', defaultFirstYearProfit, false);
            }
            // if('---' != defaultInvestorFunding){
            //     getNextBtn('Investor Funding');
            //     populateAnswer('What is your total investor funding?', defaultInvestorFunding, false);
            // }
            if('---' != defaultNumTransactions){
                getNextBtn('Number of Transactions');
                populateAnswer('How many monthly bookkeeping transactions do you have?', defaultNumTransactions, false);
            }
            if('---' != defaultNumOwners){
                getNextBtn('Number of Owners');
                populateAnswer('How many owners does your business have?', defaultNumOwners, false);
            }
            // if('---' != defaultNumForeignOwners){
            //     getNextBtn('Number of Owners');
            //     getNextBtn('Foreign Owners');
            //     populateAnswer('How many owners are outside the USA?', defaultNumForeignOwners, false);
            // }
            if('---' != defaultNumEmployees){
                getNextBtn('Number of Employees');
                populateAnswer('How many employees do you have?', defaultNumEmployees, false);
            }
            // if('---' != defaultNumContractors){
            //     getNextBtn('Number of Contractors');
            //     populateAnswer('How many contractors do you have?', defaultNumContractors, false);
            // }
            if('Select a Filing Status' != defaultFilingStatus){
                getNextBtn('Filing Status');
                populateAnswer('What is your tax filing status?', defaultFilingStatus, false);
            }
            if('---' != defaultPersonalIncome){
                getNextBtn('Personal Income');
                populateAnswer('What was your household W-2 income last year?', defaultPersonalIncome, false);
            }
            if('---' != defaultNumberOfRentalProperties){
                getNextBtn('Number of Rental Properties');
                populateAnswer('How many rental properties do you have?', defaultNumberOfRentalProperties, false);
            }
            // if('---' != defaultOtherInvestments){
            //     getNextBtn('Number of Rental Properties');
            //     populateAnswer('How many K-1s are from other investments?', defaultOtherInvestments, false);
            // }
            if('---' != defaultOffice){
                getNextBtn('Office Square Footage');
                populateAnswer('What is the approximate square footage of your home office?', defaultOffice, false);
            }
            if('---' != defaultMileage){
                getNextBtn('Business Miles');
                populateAnswer('How many business-related miles do you estimate youll drive per year?', defaultMileage, false);
            }
            if(firstBusiness == 'true'){
                YesDecision(1.1);
                populateAnswer('Is this your first business?', 'Yes', false);
                getNextBtn('First Business');
            }
            if(runPayrollBefore == 'true'){
                YesDecision(1.2);
                populateAnswer('Have you run payroll before?', 'Yes', false);
                getNextBtn('Run Payroll Before');
            }
            if(hasEmployeesContractors == 'true'){
                YesDecision(1.3);
                populateAnswer('Do you currently have any employees?', 'Yes', false);
                linkedYesNo('Employees and Contractors');
            }
            // if(foreignIncome == 'true'){
            //     YesDecision(1.5);
            //     populateAnswer('Do you have any foreign sourced income?', 'Yes', false);
            // }
            if(hasRentalProperties == 'true'){
                YesDecision(1.6);
                populateAnswer('Do you currently have any rental properties?', 'Yes', false);
                linkedYesNo('Number of Rental Properties');
            }
            if(isWorkingFromHome == 'true'){
                YesDecision(1.7);
                populateAnswer('Will you be working from home?', 'Yes', false);
                linkedYesNo('Working from Home');
            }
            // if(eCommerce == 'true'){
            //     YesDecision(1.9);
            //     populateAnswer('Will your business have a web or e-commerce presence?', 'Yes', false);
            // }
            if(commutesWithOwnVehicle == 'true'){
                YesDecision(1.8);
                populateAnswer('Will you use your personal vehicle for business purposes?', 'Yes', false);
                linkedYesNo('Driving');
            }
            if(eCommerce == 'true'){
                YesDecision(1.9);
                populateAnswer('Will your business have a web or e-commerce presence?', 'Yes', false);
            }

        } else if(opt == 'Prepared Packages') {
            document.getElementById("menuOpts").options[pickNum].removeAttribute('disabled'); 
            document.getElementById("menuOpts").value = opt; 
            
            document.getElementById("entityFormationPlan").style.display = "none";
            document.getElementById("bookkeepingPlan").style.display = "none";
            document.getElementById("payrollPlan").style.display = "none";
            document.getElementById("personalPlan").style.display = "none";
            document.getElementById("businessPlan").style.display = "none";
            document.getElementById("frequentPlan").style.display = "none";
            document.getElementById("AllPlan").style.display = "none";
            
            displayTablePlan('currentPlan', document.getElementById("tab2-1"), true);

            //socket.connect();

            seenDefaults = true;

            // content = {
            //     page: "Prepared Packages",
            //     showProgress: true
            // }
            // socket.emit("private message", {
            //     content
            // });

        } else if(opt == 'Verify Information') {
            document.getElementById("menuOpts").options[pickNum].removeAttribute('disabled'); 
            document.getElementById("menuOpts").value = opt;
            var t = document.getElementById('payAmountDue').innerHTML;
            var d = document.getElementById('payAmountToday').innerHTML;
            // socket.connect();
            // content = {
            //     page: "Payment Details",
            //     name: "{!businessOwner.First_Name__c} {!businessOwner.Last_Name__c}",
            //     total: t,
            //     due: d
            // }
            // socket.emit("private message", {
            //     content
            // });
        } else if(opt == 'Payment Details') {
            document.getElementById("menuOpts").options[pickNum].removeAttribute('disabled'); 
            document.getElementById("menuOpts").value = opt;

            document.getElementById('nextPayment').setAttribute('disabled', 'disabled');
            document.getElementById('nextPayment').style.opacity = "0.25";

            var t = document.getElementById('payAmountDue').innerHTML;
            var d = document.getElementById('payAmountToday').innerHTML;

            // socket.connect();
            // content = {
            //     page: "Payment Details",
            //     name: "{!businessOwner.First_Name__c} {!businessOwner.Last_Name__c}",
            //     total: t,
            //     due: d
            // }
            // socket.emit("private message", {
            //     content
            // });
        } else if(opt == 'Post Purchase') {
            isfinalScreen = true;

            document.getElementById("menuOpts").options[pickNum].removeAttribute('disabled'); 
            document.getElementById("menuOpts").value = opt;

            schedulerURL = schedulerURL + '&Frame=1';
            document.getElementById('Scheduler').src = schedulerURL;

            // socket.connect();
            // content = {
            //     page: "Post Purchase"
            // }
            // socket.emit("private message", {
            //     content
            // });

            secondaryDisp = 'Sale';  
            whenDisposition = 'afterPayment';
        } 
    } 

    function linkedYesNo(fieldSet){
        switch (fieldSet) {
            case 'Employees and Contractors':
            //If there are not employees or contractors
            if("white" != document.getElementById('yesBtn1.3').style.color){
                $('[data-id="employees"]').val('0');
                $('[data-id="employees"]').parent().parent().children().find("spam").css("color", "rgba(18, 23, 36, 0.65)");
                populateAnswer('How many employees do you have?', '0', false);
                $('[data-id="contractors"]').val('0');
                $('[data-id="contractors"]').parent().parent().children().find("spam").css("color", "rgba(18, 23, 36, 0.65)");
                populateAnswer('How many contractors do you have?', '0', false);
            } else {
                $('[data-id="employees"]').parent().parent().children().find("spam").css("color", "#F15F22");
                $('[data-id="contractors"]').parent().parent().children().find("spam").css("color", "#F15F22");
            }
            break;
            case 'Number of Rental Properties':
            if("white" != document.getElementById('yesBtn1.6').style.color){
                $('[data-id="rental"]').val('0');
                $('[data-id="rental"]').parent().parent().children().find("spam").css("color", "rgba(18, 23, 36, 0.65)");
                populateAnswer('How many rental properties do you have?', '0', false);
            } else {
                $('[data-id="rental"]').parent().parent().children().find("spam").css("color", "#F15F22");
            }
            break;
            case 'Working from Home':
            if("white" != document.getElementById('yesBtn1.7').style.color){
                $('[data-id="footage"]').val('0');
                $('[data-id="footage"]').parent().parent().children().find("spam").css("color", "rgba(18, 23, 36, 0.65)");
                populateAnswer('What is the approximate square footage of your home office?', '0', false);
            } else {
                $('[data-id="footage"]').parent().parent().children().find("spam").css("color", "#F15F22");
            }
            break;
            case 'Driving':
            if("white" != document.getElementById('yesBtn1.8').style.color){
                $('[data-id="miles"]').val('0');
                $('[data-id="miles"]').parent().parent().children().find("spam").css("color", "rgba(18, 23, 36, 0.65)");
                populateAnswer('How many business-related miles do you estimate youll drive per year?', '0', false);
            } else {
                $('[data-id="miles"]').parent().parent().children().find("spam").css("color", "#F15F22");
            }
            break;

            //Take dependent questions off the client form
        }
    }

    const allIds = [
    "firstBusiness",
    "years",
    "entity",
    "industry",
    "domState",
    "foreignState",
    "state",
    "startup",
    "revenue",
    "profit",
    "investor",
    "household",
    "foreignIncome",
    "transactions",
    "hasRentals",
    "rental",
    "k1s",
    "owners",
    "foreignOwners",
    "runPayroll",
    "hasEmpContractors",
    "employees",
    "contractors",
    "filingStatus",
    "workingHome",
    "footage",
    "drive",
    "miles",
    "website"
    ];

    const years = [
    "firstBusiness",
    "years"
    ];

    const entityIndustry = [
    "entity",
    "industry"
    ];

    const state = [
    "domState",
    "foreignState",
    "state"
    ];

    const businessIncome = [
    "startup",
    "revenue",
    "profit",
    "investor"
    ];

    const bookkeeping = [
    "transactions"
    ];

    const owners = [
    "owners",
    "foreignOwners"
    ];

    const payroll = [
    "runPayroll",
    "hasEmpContractors",
    "employees",
    "contractors"
    ];

    const filing = [
    "filingStatus"
    ];

    const personalIncome = [
    "household",
    "hasRentals",
    "rental",
    "foreignIncome",
    "k1s"
    ];

    const deductions = [
    "workingHome",
    "footage",
    "drive",
    "miles",
    "website"
    ];

    const requiredFields = [];
    const requiredUnasweredFields = [];

    function setRequiredUnasweredFields() {

        if('{!requiredFields}'.includes('First Business')) {
            requiredUnasweredFields.push("firstBusiness");
        }
        if('{!requiredFields}'.includes('Years In Business')) {
            requiredUnasweredFields.push("years");
        }
        if('{!requiredFields}'.includes('Entity Type')) {
            requiredUnasweredFields.push("entity");
        }
        if('{!requiredFields}'.includes('Industry Type')) {
            requiredUnasweredFields.push("industry");
        }
        if('{!requiredFields}'.includes('State of Incorporation')) {
            requiredUnasweredFields.push("domState");
        }
        if('{!requiredFields}'.includes('Foreign State')) {
            requiredUnasweredFields.push("foreignState");
        }
        if('{!requiredFields}'.includes('State of Residence')) {
            requiredUnasweredFields.push("state");
        }
        if('{!requiredFields}'.includes('Total Startup Cost')) {
            requiredUnasweredFields.push("startup");
        }
        if('{!requiredFields}'.includes('Projected 1st Year Revenue')) {
            requiredUnasweredFields.push("revenue");
        }
        if('{!requiredFields}'.includes('Projected 1st Year Profit')) {
            requiredUnasweredFields.push("profit");
        }
        if('{!requiredFields}'.includes('Investor Funding')) {
            requiredUnasweredFields.push("investor");
        }
        if('{!requiredFields}'.includes('Number of Transactions')) {
            requiredUnasweredFields.push("transactions");
        }
        if('{!requiredFields}'.includes('Number of Owners')) {
            requiredUnasweredFields.push("owners");
        }
        if('{!requiredFields}'.includes('Foreign Owners')) {
            requiredUnasweredFields.push("foreignOwners");
        }
        if('{!requiredFields}'.includes('Run Payroll Before')) {
            requiredUnasweredFields.push("runPayroll");
        }
        if('{!requiredFields}'.includes('Number of Employees')) {
            requiredUnasweredFields.push("hasEmpContractors");
            requiredUnasweredFields.push("employees");
        }
        if('{!requiredFields}'.includes('Number of Contractors')) {
            requiredUnasweredFields.push("contractors");
        }
        if('{!requiredFields}'.includes('Filing Status')) {
            requiredUnasweredFields.push("filingStatus");
        }
        if('{!requiredFields}'.includes('Personal Income')) {
            requiredUnasweredFields.push("household");
        }
        if('{!requiredFields}'.includes('Foreign Income')) {
            requiredUnasweredFields.push("foreignIncome");
        }
        if('{!requiredFields}'.includes('Number of Rental Properties')) {
            requiredUnasweredFields.push("hasRentals");
            requiredUnasweredFields.push("rental");
        }
        if('{!requiredFields}'.includes('Number of K1s')) {
            requiredUnasweredFields.push("k1s");
        }
        if('{!requiredFields}'.includes('Office Square Footage')) {
            requiredUnasweredFields.push("workingHome");
            requiredUnasweredFields.push("footage");
        }
        if('{!requiredFields}'.includes('Business Miles')) {
            requiredUnasweredFields.push("drive");
            requiredUnasweredFields.push("miles");
        }
        if('{!requiredFields}'.includes('Website Selling Goods')) {
            requiredUnasweredFields.push("website");
        }
    }
                
    function backSection(opt, showOne, hideOne) {
        document.getElementById("menuOpts").value = opt;
        document.getElementById(hideOne).style.display = "none";
        document.getElementById(showOne).style.display = "block";
        //socket.connect();
                
         if(opt == 'Prepared Packages') {
            //document.getElementById("switchText").style.display = "inline-block";
            //document.getElementById("showPackagelabel").style.display = "inline-block";

            seenDefaults = true;

            // content = {
            //     page: "Prepared Packages",
            //     showProgress: true
            // }
            // socket.emit("private message", {
            //     content
            // });
        } else if(opt == 'Verify Information') {
            var t = document.getElementById('payAmountDue').innerHTML;
            var d = document.getElementById('payAmountToday').innerHTML;

            // content = {
            //     page: "Payment Details",
            //     name: "{!businessOwner.First_Name__c} {!businessOwner.Last_Name__c}",
            //     total: t,
            //     due: d
            // }
            // socket.emit("private message", {
            //     content
            // });
        } else if(opt == 'Payment Details') {
            var t = document.getElementById('payAmountDue').innerHTML;
            var d = document.getElementById('payAmountToday').innerHTML;

            // content = {
            //     page: "Payment Details",
            //     name: "{!businessOwner.First_Name__c} {!businessOwner.Last_Name__c}",
            //     total: t,
            //     due: d
            // }
            // socket.emit("private message", {
            //     content
            // });
        }  
    }
        
    function prinrowMenu0() { document.getElementById("prinmenu0").classList.toggle("show"); }
    function prinrowMenu1() { document.getElementById("prinmenu1").classList.toggle("show"); }
    function prinrowMenu2() { document.getElementById("prinmenu2").classList.toggle("show"); }
    function prinrowMenu3() { document.getElementById("prinmenu3").classList.toggle("show"); }
    function prinrowMenu4() { document.getElementById("prinmenu4").classList.toggle("show"); }
    function prinrowMenu5() { document.getElementById("prinmenu5").classList.toggle("show"); }
                
    function secrowMenu0() { document.getElementById("secmenu0").classList.toggle("show"); }
    function secrowMenu1() { document.getElementById("secmenu1").classList.toggle("show"); }
    function secrowMenu2() { document.getElementById("secmenu2").classList.toggle("show"); }
    function secrowMenu3() { document.getElementById("secmenu3").classList.toggle("show"); }
    function secrowMenu4() { document.getElementById("secmenu4").classList.toggle("show"); }
                
    window.onclick = function(event) {
        if (!event.target.matches('#btnSubMenu')) {
            var dropdowns = document.getElementsByClassName("dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
                var openDropdown = dropdowns[i];
                if (openDropdown.classList.contains('show')) {
                    openDropdown.classList.remove('show');
                }
            }
        }
    }
                
    function deletePartner(i) { 
        var parent = i.parentElement.id;
        var index = i.parentElement.parentElement.parentElement.parentElement.rowIndex;
        var col;
                
        cInd = i.parentElement.parentElement.parentElement.parentElement.rowIndex;
        cPar = i.parentElement.id;
                
        var path = i.parentElement.parentElement.parentElement.parentElement;
        var contactId = path.childNodes[2].childNodes[0].childNodes[2].innerText;
        
        Visualforce.remoting.Manager.invokeAction('GuidedSellingEditControllerExtension.createUpdatePartner', businessId, contactId, null, null, function(r,e) {
            if(e.status) {
                if(parent.includes("prin")) {
                    col = index - 1;
                    document.getElementById("contTable").deleteRow(index);
                    document.getElementById("addPartTable2").deleteRow(index - 1);
                } else if (parent.includes("sec")) {
                    col = index;
                    document.getElementById("contTable").deleteRow(index + 1);
                    document.getElementById("addPartTable2").deleteRow(index);
                }
                
                var tableLength = document.getElementById("addPartTable2").rows.length;
                
                if(tableLength == 0) {
                    document.getElementById("addPartTable1").style.display = "table";
                    document.getElementById('start').setAttribute("disabled", "disabled");
                    document.getElementById('start').style.opacity = "0.25";
                    partnersGone = true;
                
                } 
                
                if(tableLength == 4) {
                    document.getElementById("btnAdd").style.display = "block";  
                } 
                
                // socket.connect();
                // content = {
                //     page: "Delete Partner", 
                //     index: col
                // }
                // socket.emit("private message", {
                //     content
                // });
            } else if(e.type === 'exception') {
                alert(e.message);
            }
        });
    }
    
    function editPartner(x) { 
        document.getElementById("modal").style.display = "block";
        
        cInd = x.parentElement.parentElement.parentElement.parentElement.rowIndex;
        cPar = x.parentElement.id;
        
        var path = x.parentElement.parentElement.parentElement.parentElement;
        var name = path.childNodes[1].childNodes[0].childNodes[0].innerText;
        var role = path.childNodes[1].childNodes[0].childNodes[1].innerText;
        var phone = path.childNodes[2].childNodes[0].childNodes[0].innerText;
        var email = path.childNodes[2].childNodes[0].childNodes[1].innerText;
        var contactId = path.childNodes[2].childNodes[0].childNodes[2].innerText;
        
        var theName = name.split(" ");
        
        document.getElementById("firstName").value = theName[0];
        document.getElementById("lastName").value = theName[1];
        document.getElementById("role").value = role;
        document.getElementById("email").value = email;
        document.getElementById("phone").value = phone;
        document.getElementById("contactId").value = contactId;
        
        document.getElementById("btnAddRow").innerHTML = "Save Partner";
    }
    
    function editPrimary(x) { 
        document.getElementById("modal").style.display = "block";
        
        cInd = x.parentElement.parentElement.parentElement.parentElement.rowIndex;
        cPar = x.parentElement.id;
        
        var path = document.querySelector("#prinmenu0 > a:nth-child(1)").parentElement.parentElement.parentElement.parentElement;
        var name = path.childNodes[3].childNodes[1].childNodes[1].innerText;
        var role = path.childNodes[3].childNodes[1].childNodes[3].innerText;
        var phone = path.childNodes[5].childNodes[1].childNodes[1].innerText;
        var email = path.childNodes[5].childNodes[1].childNodes[3].innerText;
        var contactId = path.childNodes[5].childNodes[1].childNodes[5].innerText;
        
        var theName = name.split(" ");
        
        document.getElementById("firstName").value = theName[0];
        document.getElementById("lastName").value = theName[1];
        document.getElementById("role").value = role;
        document.getElementById("email").value = email;
        document.getElementById("phone").value = phone;
        document.getElementById("contactId").value = contactId;
        
        document.getElementById("btnAddRow").innerHTML = "Save Primary Contact";
    }
    
    const answeredQuestions = new Map();
    let numRequiredQAnswered = 0;
    var numOptionalQAnswered = 0;
    let scrollAmount = 0;
    var beenPastReview = true;  
             
    function backThirdSection() {
        //socket.connect();
        document.getElementById("menuOpts").value = "Discovery Questions";
        document.getElementById("discoveryQuestionTitle").innerHTML = "Business Discovery";
        document.getElementById('engagee').style.display = "none";
        document.getElementById('busiDisc').innerHTML = "Business Discovery Intro";
        document.getElementById('endNote').innerHTML = "Review Business Discovery";

        document.getElementById('mainCategoryDiv').style.background = "white";
        document.getElementById('mainCategoryDiv').style.border = "none";
        document.getElementById('mainCategoryDiv').style.borderRadius = "0px";
        document.getElementById('mainCategory').style.marginTop = "0px";
        document.getElementById('mainCategory').style.width = "100%";
        document.getElementById('mainCategory').style.marginLeft = "0px";
        document.getElementById('mainCategory').style.marginBottom = "0px";
        document.getElementById('showAllAnswer').style.display = "none";

            // content = {
            //     page: "Business Discovery Parts", 
            //     name: "Initial"
            // }
            // socket.emit("private message", {
            //     content
            // });
    }
      
    function accordionFunct(accbtn, question) {
        accbtn.classList.toggle("active");
        var panel = accbtn.nextElementSibling;
        if (panel.style.display === "block") {
            panel.style.display = "none";
            document.getElementById("lessArrow"+question).style.display = "none";
            document.getElementById("moreArrow"+question).style.display = "block";
        } else {
            panel.style.display = "block";
            document.getElementById("lessArrow"+question).style.display = "block";
            document.getElementById("moreArrow"+question).style.display = "none";
        }
    }
         
    function cleanBtnSeleccion() {
        document.getElementById('tab2-1label').style.color = "#121724";
        document.getElementById('tab2-1label').style.background = "#FFFFFF";
        document.getElementById('tab2-2label').style.color = "#121724";
        document.getElementById('tab2-2label').style.background = "#FFFFFF";
        document.getElementById('tab2-3label').style.color = "#121724";
        document.getElementById('tab2-3label').style.background = "#FFFFFF";
        document.getElementById('tab2-4label').style.color = "#121724";
        document.getElementById('tab2-4label').style.background = "#FFFFFF";
        document.getElementById('tab2-5label').style.color = "#121724";
        document.getElementById('tab2-5label').style.background = "#FFFFFF";
        document.getElementById('tab2-6label').style.color = "#121724";
        document.getElementById('tab2-6label').style.background = "#FFFFFF";
        document.getElementById('tab2-7label').style.color = "#121724";
        document.getElementById('tab2-7label').style.background = "#FFFFFF";
        document.getElementById('tab2-8label').style.color = "#121724";
        document.getElementById('tab2-8label').style.background = "#FFFFFF";
    }        
            
    function hideTables() {
        document.getElementById("entityFormationPlan").style.display = "none";
        document.getElementById("bookkeepingPlan").style.display = "none";
        document.getElementById("payrollPlan").style.display = "none";
        document.getElementById("personalPlan").style.display = "none";
        document.getElementById("businessPlan").style.display = "none";
        document.getElementById("frequentPlan").style.display = "none";
        document.getElementById("AllPlan").style.display = "none";
        document.getElementById("currentPlan").style.display = "none";
    }
           
    function resizeTables(size) {
        document.getElementById("entityFormationPlan").style.height = size + "px";
        document.getElementById("bookkeepingPlan").style.height = size + "px";
        document.getElementById("payrollPlan").style.height = size + "px";
        document.getElementById("personalPlan").style.height = size + "px";
        document.getElementById("businessPlan").style.height = size + "px";
        document.getElementById("frequentPlan").style.height = size + "px";
        document.getElementById("AllPlan").style.height = size + "px";
        document.getElementById("currentPlan").style.height = size + "px";
    }
            
    function displayTablePlan(tableName, tabSelect, isFirst) {
        var tabSelected = tabSelect.checked;

        cleanBtnSeleccion();
        document.getElementById(tabSelect.id+'label').style.color = "#FFFFFF";
        document.getElementById(tabSelect.id+'label').style.background = "#75777A";
        
        document.getElementById("modalBodyTitleTable").style.display = "none";
        resizeTables(341);
                
        if (tabSelected == true || isFirst == true) {
            hideTables();
            document.getElementById(tableName).style.display = "block";
            if(tableName == "AllPlan") {
                searchProds('all');
                document.getElementById("modalBodyTitleTable").style.display = "block";
                resizeTables(291);
            }
        }

        var frecuencyBtnList = document.getElementsByClassName('radiobtn');
        
        for(var i = 0; i < frecuencyBtnList.length; i++) {
            
            if(frecuencyBtnList[i].value == 'true') {
                frecuencyBtnList[i].checked = true;
            } else {
                frecuencyBtnList[i].checked = false;
            }

            if(frecuencyBtnList[i].tagName == 'OUTPUT') {
                var btnsList = document.getElementsByClassName(frecuencyBtnList[i].id+'label');
                for(var j = 0; j < btnsList.length; j++) {
                    btnsList[j].style.opacity = "0.55";
                    btnsList[j].style.cursor = "not-allowed";
                    if(frecuencyBtnList[i].value == 'true') {
                        btnsList[j].style.background = "rgba(23, 118, 182, 0.16)";
                        btnsList[j].style.color = "rgba(18, 23, 36, 0.91)"
                    }
                }
            }
        }
    }
           
    function checkAll(thisObj) {
        
        var isMaster = thisObj.hasAttribute('data-master-checkbox');
        var group = thisObj.closest('[data-checkbox-group]');
        var boxes = group.querySelectorAll('input[type=checkbox]:not([data-master-checkbox])');
        var master = isMaster ? thisObj : group.querySelector('input[type=checkbox][data-master-checkbox]');
        var allRows = thisObj.parentElement.parentElement.parentElement.childElementCount;
        var numRows = allRows - 1;

        if(isMaster) {
            // Check and Uncheck all with the parent 
            for(var i = 0; i < boxes.length; i++) {
                if(boxes[i].id.includes("actionPlanTable") && boxes[i].parentNode.parentNode.style.display == 'table-row') {
                    boxes[i].checked = thisObj.checked;
                    boxes[i].value = thisObj.value;

                    var name = boxes[i].parentNode.parentNode.className;
                    var prodName = name.replace(/(\r\n|\n|\r)/gm, "");
                    if(prodName.includes('row')) {
                        prodName = prodName.replace('row ','');
                    }
                    var prodId = boxes[i].parentNode.parentNode.id;
                    chosenProducts.push(prodId);
                    uniquechosenProducts = [...new Set(chosenProducts)];
    
                    productSelected(boxes[i].checked, prodId, prodName);
                }
            }
        } else {
            // Check and Uncheck the parent if the childs are all checked or unchecked
            var checkedCount = 0;
            for(var i = 0; i < boxes.length; i++) {
                if(boxes[i].id.includes("actionPlanTable") && boxes[i].parentNode.parentNode.style.display == 'table-row') {
                    var name = boxes[i].parentNode.parentNode.className;
                    var prodName = name.replace(/(\r\n|\n|\r)/gm, "");
                    if(prodName.includes('row')) {
                        prodName = prodName.replace('row ','');
                    }
                    var prodId = boxes[i].parentNode.parentNode.id;

                    if(boxes[i].checked) { 
                        checkedCount += 1;      

                        chosenProducts.push(prodId);
                        uniquechosenProducts = [...new Set(chosenProducts)];
                    } else {             
                        var prodsList = document.getElementsByClassName(prodId);
                        for(var l = 0; l < prodsList.length; l++) {
                            prodsList[l].checked = boxes[i].checked;
                        }
                    }
                    productSelected(boxes[i].checked, prodId, prodName);
                }
            }
            
            if(checkedCount == numRows) { 
                master.checked = true;
                master.value = true;
            } else {
                master.checked = false;
                master.value = false;
            }
        }
    }
            
    function showWaitingScreen(isShow) {
        if(isShow != false) {
            isShow = isShow.checked;
        }

        // socket.connect();
        // if(isShow == false) {
        //     content = {
        //         page: "Waiting"
        //     }
        //     socket.emit("private message", {
        //         content
        //     }); 
        // } else {
        //     content = {
        //         page: "Prepared Packages",
        //         showProgress: true
        //     }
        //     socket.emit("private message", {
        //         content
        //     });
        // }
    }

    function setRequiredFields() {

        if('{!requiredFields}'.includes('First Business')) {
            requiredFields.push("firstBusiness");
        }
        if('{!requiredFields}'.includes('Years In Business')) {
            requiredFields.push("years");
        }
        if('{!requiredFields}'.includes('Entity Type')) {
            requiredFields.push("entity");
        }
        if('{!requiredFields}'.includes('Industry Type')) {
            requiredFields.push("industry");
        }
        if('{!requiredFields}'.includes('State of Incorporation')) {
            requiredFields.push("domState");
        }
        if('{!requiredFields}'.includes('Foreign State')) {
            requiredFields.push("foreignState");
        }
        // if('{requiredFields}'.includes('State of Residence')) {
        //     requiredUnasweredFields.push("state");
        // }
        if('{!requiredFields}'.includes('Total Startup Cost')) {
            requiredFields.push("startup");
        }
        if('{!requiredFields}'.includes('Projected 1st Year Revenue')) {
            requiredFields.push("revenue");
        }
        if('{!requiredFields}'.includes('Projected 1st Year Profit')) {
            requiredFields.push("profit");
        }
        // if('{requiredFields}'.includes('Investor Funding')) {
        //     requiredUnasweredFields.push("investor");
        // }
        if('{!requiredFields}'.includes('Number of Transactions')) {
            requiredFields.push("transactions");
        }
        if('{!requiredFields}'.includes('Number of Owners')) {
            requiredFields.push("owners");
        }
        // if('{requiredFields}'.includes('Foreign Owners')) {
        //     requiredUnasweredFields.push("foreignOwners");
        // }
        if('{!requiredFields}'.includes('Run Payroll Before')) {
            requiredFields.push("runPayroll");
        }
        if('{!requiredFields}'.includes('Number of Employees')) {
            requiredFields.push("hasEmpContractors");
            requiredFields.push("employees");
        }
        // if('{requiredFields}'.includes('Number of Contractors')) {
        //     requiredUnasweredFields.push("contractors");
        // }
        if('{!requiredFields}'.includes('Filing Status')) {
            requiredFields.push("filingStatus");
        }
        if('{!requiredFields}'.includes('Personal Income')) {
            requiredFields.push("household");
        }
        // if('{requiredFields}'.includes('Foreign Income')) {
        //     requiredUnasweredFields.push("foreignIncome");
        // }
        if('{!requiredFields}'.includes('Number of Rental Properties')) {
            requiredFields.push("hasRentals");
            requiredFields.push("rental");
        }
        // if('{requiredFields}'.includes('Number of K1s')) {
        //     requiredUnasweredFields.push("k1s");
        // }
        if('{!requiredFields}'.includes('Office Square Footage')) {
            requiredFields.push("workingHome");
            requiredFields.push("footage");
        }
        if('{!requiredFields}'.includes('Business Miles')) {
            requiredFields.push("drive");
            requiredFields.push("miles");
        }
        if('{!requiredFields}'.includes('Website Selling Goods')) {
            requiredFields.push("website");
        }

        setYesNoFields();
    }

    function setYesNoFields(question, answer) {

        if('Is this your first business?' == question) {
            index = requiredUnasweredFields.indexOf('firstBusiness');
            if(answer == 'Yes') {
                if (index > -1) {
                    requiredUnasweredFields.splice(index, 1);
                }
            } else {
                requiredFields.push("firstBusiness");
            }
        } else if('Do you currently have any employees?' == question) {
            index = requiredUnasweredFields.indexOf('hasEmpContractors');
            if(answer == 'Yes') {
                if (index > -1) {
                    requiredUnasweredFields.splice(index, 1);
                }
            } else {
                requiredFields.push("hasEmpContractors");
            }
        } else if('Do you currently have any rental properties?' == question) {
            index = requiredUnasweredFields.indexOf('hasRentals');
            if(answer == 'Yes') {
                if (index > -1) {
                    requiredUnasweredFields.splice(index, 1);
                }
            } else {
                requiredFields.push("hasRentals");
            }
        } else if('Will you be working from home?' == question) {
            index = requiredUnasweredFields.indexOf('workingHome');
            if(answer == 'Yes') {
                if (index > -1) {
                    requiredUnasweredFields.splice(index, 1);
                }
            } else {
                requiredFields.push("workingHome");
            }
        } else if('Will you use your personal vehicle for business purposes?' == question) {
            index = requiredUnasweredFields.indexOf('drive');
            if(answer == 'Yes') {
                if (index > -1) {
                    requiredUnasweredFields.splice(index, 1);
                }
            } else {
                requiredFields.push("drive");
            }
        }
    }

    function filterQuestions(value) {

        setRequiredFields();

        if('Show All Questions' == value) {
            for (let i = 0; i < allIds.length; i++) {
                document.getElementById(allIds[i]).style.display = "";
            }
        } else if('Years' == value) {
            for (let i = 0; i < allIds.length; i++) {
                if(!years.includes(allIds[i])) {
                    document.getElementById(allIds[i]).style.display = "none";
                } else {
                    for(let j = 0; j < years.length; j++) {
                        document.getElementById(years[j]).style.display = ""; 
                    }
                }
            }
        } else if('Entity & Industry' == value) {
            for (let i = 0; i < allIds.length; i++) {
                if(!entityIndustry.includes(allIds[i])) {
                    document.getElementById(allIds[i]).style.display = "none";
                } else {
                    for(let j = 0; j < entityIndustry.length; j++) {
                        document.getElementById(entityIndustry[j]).style.display = ""; 
                    }
                }
            }
        } else if('State' == value) {
            for (let i = 0; i < allIds.length; i++) {
                console.log(allIds[i]);
                if(!state.includes(allIds[i])) {
                    document.getElementById(allIds[i]).style.display = "none";
                } else {
                    for(let j = 0; j < state.length; j++) {
                        document.getElementById(state[j]).style.display = ""; 
                    }
                }
            }
        }  else if('Business Income' == value) {
            for (let i = 0; i < allIds.length; i++) {
                if(!businessIncome.includes(allIds[i])) {
                    document.getElementById(allIds[i]).style.display = "none";
                } else {
                    for(let j = 0; j < businessIncome.length; j++) {
                        document.getElementById(businessIncome[j]).style.display = ""; 
                    }
                }
            }
        } else if('Bookkeeping' == value) {
            for (let i = 0; i < allIds.length; i++) {
                if(!bookkeeping.includes(allIds[i])) {
                    document.getElementById(allIds[i]).style.display = "none";
                } else {
                    for(let j = 0; j < bookkeeping.length; j++) {
                        document.getElementById(bookkeeping[j]).style.display = ""; 
                    }
                }
            }
        } else if('Owners' == value) {
            for (let i = 0; i < allIds.length; i++) {
                if(!owners.includes(allIds[i])) {
                    document.getElementById(allIds[i]).style.display = "none";
                } else {
                    for(let j = 0; j < owners.length; j++) {
                        document.getElementById(owners[j]).style.display = ""; 
                    }
                }
            }
        } else if('Payroll' == value) {
            for (let i = 0; i < allIds.length; i++) {
                if(!payroll.includes(allIds[i])) {
                    document.getElementById(allIds[i]).style.display = "none";
                } else {
                    for(let j = 0; j < payroll.length; j++) {
                        document.getElementById(payroll[j]).style.display = ""; 
                    }
                }
            }
        } else if('Filing' == value) {
            for (let i = 0; i < allIds.length; i++) {
                if(!filing.includes(allIds[i])) {
                    document.getElementById(allIds[i]).style.display = "none";
                } else {
                    for(let j = 0; j < filing.length; j++) {
                        document.getElementById(filing[j]).style.display = ""; 
                    }
                }
            }
        } else if('Personal Income' == value) {
            for (let i = 0; i < allIds.length; i++) {
                if(!personalIncome.includes(allIds[i])) {
                    document.getElementById(allIds[i]).style.display = "none";
                } else {
                    for(let j = 0; j < personalIncome.length; j++) {
                        document.getElementById(personalIncome[j]).style.display = ""; 
                    }
                }
            }
        } else if('Deductions' == value) {
            for (let i = 0; i < allIds.length; i++) {
                if(!deductions.includes(allIds[i])) {
                    document.getElementById(allIds[i]).style.display = "none";
                } else {
                    for(let j = 0; j < deductions.length; j++) {
                        document.getElementById(deductions[j]).style.display = ""; 
                    }
                }
            }
        } else if('Unanswered Required Questions' == value) {
            for (let i = 0; i < allIds.length; i++) {
                if(!requiredUnasweredFields.includes(allIds[i])) {
                    document.getElementById(allIds[i]).style.display = "none";
                } else {
                    for(let j = 0; j < requiredUnasweredFields.length; j++) {
                        document.getElementById(requiredUnasweredFields[j]).style.display = ""; 
                    }
                }
            }
        } else if('Required Questions' == value) {
            for (let i = 0; i < allIds.length; i++) {
                if(!requiredFields.includes(allIds[i])) {
                    document.getElementById(allIds[i]).style.display = "none";
                } else {
                    for(let j = 0; j < requiredFields.length; j++) {
                        document.getElementById(requiredFields[j]).style.display = ""; 
                    }
                }
            }
        }
    }

    function autoChecks(name, chck) {

        const corpList = document.querySelectorAll("[data-product='Corp State Filing Fee']");
        const llcList = document.querySelectorAll("[data-product='LLC State Filing Fee']");
        const businessTaxList = document.querySelectorAll("[data-product='Business Tax Preparation']");
        const taxAdvisoryList = document.querySelectorAll("[data-product='Tax Advisory']");
        const backBookkList = document.querySelectorAll("[data-product='Back Bookkeeping']");
        const bookkList = document.querySelectorAll("[data-product='Bookkeeping Advisory']");
        const dedicBookkList = document.querySelectorAll("[data-product='Dedicated Bookkeeping']");
        const expediList = document.querySelectorAll("[data-product='Expedited Fee - Bookkeeping']");
        const threePageList = document.querySelectorAll("[data-product='3-Page Templated Website']");
        const fivePageList = document.querySelectorAll("[data-product='5-Page Templated Website']");
        const mainManaList = document.querySelectorAll("[data-product='Maintenance & Management']");
        const websiteList = document.querySelectorAll("[data-product='Website Builder']");
        const persoTaxPrepList = document.querySelectorAll("[data-product='Personal Tax Preparation']");
        const nonTaxPrepList = document.querySelectorAll("[data-product='Non-Profit Tax Preparation']");
        const nonProfBookkList = document.querySelectorAll("[data-product='Non-Profit Bookkeeping']");
        const nonProfBackBookkList = document.querySelectorAll("[data-product='Non-Profit Back Bookkeeping']");
        const payrollList = document.querySelectorAll("[data-product='Payroll']");
        const audDefBusiList = document.querySelectorAll("[data-product='Audit Defense - Business']");
        const audDefPersList = document.querySelectorAll("[data-product='Audit Defense - Personal']");
        const twoYearList = document.querySelectorAll("[data-product='Two-Year Review']");
        const loanAgreeList = document.querySelectorAll("[data-product='Loan Agreement']");
        const prepList = document.querySelectorAll("[data-product='1099 Prep']");
        const prepQTYList = document.querySelectorAll("[data-product-qty='1099 Prep']");
        const foreQuali = document.querySelectorAll("[data-product='Foreign Qualification - LLC']");
        var transactions = $('[data-id="transactions"]').val();
        var foreignState = $('[data-id="foreignState"]').val();
        
        var newName = name;
        if(name == 'Business Return') {
            newName = 'Business Tax Preparation';
        } else if(name == 'Personal Return') {
            newName = 'Personal Tax Preparation';
        } else if(name == 'Advisory') {
            newName = 'Tax Advisory';
        }
        console.log("product name: " + newName);
        var listProdPrice = document.querySelectorAll("[data-product-cost='" + newName + "']");
        var prodPrice = listProdPrice[0].innerHTML;
        prodPrice = prodPrice.replace('$','');
        pricesMap.set(chck.className, prodPrice);

        if(name == 'LLC State Filing Fee') {
            for (let j = 0; j < corpList.length; j++) {
                if(chck.checked == true) {
                    corpList[j].checked = false;
                    autoCheckEntity(true);
                } else {
                    autoCheckEntity(false);
                }
            }
        } else if(name == 'Corp State Filing Fee') {
            for (let i = 0; i < llcList.length; i++) {
                if(chck.checked == true) {
                    llcList[i].checked = false;
                    autoCheckEntity(true);
                } else {
                    autoCheckEntity(false);
                }
            }
        } else if(name == 'Entity Formation') {
            for (let j = 0; j < corpList.length; j++) {
                for (let i = 0; i < llcList.length; i++) {
                    if(corpList[j].checked == true || llcList[i].checked == true) {
                        autoCheckEntity(true);
                    }
                }
            }
        } else if(name == 'Payroll') {
            if(chck.checked == true) {
                if(hasPayroll == 'true') {
                    autoCheckPayrollFee(false);
                } else {
                    autoCheckPayrollFee(true);
                }
            } else {
                autoCheckPayrollFee(false);
            }
        } else if(name == 'Payroll Setup Fee') {
            for (let l = 0; l < payrollList.length; l++) {
                if(payrollList[l].checked == true) {
                    autoCheckPayrollFee(true);
                }
            }
        } else if(name == 'Business Tax Preparation' || name == 'Business Return') {
            var taxAdvisory = false;
            var persoTaxPrep = false;
            
            for (let j = 0; j < taxAdvisoryList.length; j++) {
                if(taxAdvisoryList[j].checked == true) {
                    taxAdvisory = true;
                }
            }

            for (let f = 0; f < persoTaxPrepList.length; f++) {
                if(persoTaxPrepList[f].checked == true) {
                    persoTaxPrep = true;
                }
            }

            if(chck.checked == true && taxAdvisory == true && persoTaxPrep == true) {
                autoAmountAdvisory(true);
            } else {
                autoAmountAdvisory(false);
            }

            if(taxAdvisory == true && chck.checked == true) {
                autoCheck1800Acc(true);
                if(persoTaxPrep == true) {
                    autoAmount1800Acc(true);
                } else {
                    autoAmount1800Acc(false);
                }
            } else {
                autoAmount1800Acc(false);
            }
        } else if(name == 'Tax Advisory' || name == 'Advisory') {
            var persoTaxPrepFlag = false;
            var audDefBusiFlag = false;
            var audDefPersFlag = false;
            var loanAgreeFlag = false;
            var twoYearFlag = false;
            var taxAdvisoryFlag = false;
            var businessTax = false;
            var persoTaxPrep = false;
            var nonTaxPrep = false;

            for (let j = 0; j < businessTaxList.length; j++) {
                if(businessTaxList[j].checked == true) {
                    businessTax = true; 
                }
            } 

            for (let f = 0; f < persoTaxPrepList.length; f++) {
                if(persoTaxPrepList[f].checked == true) {
                    persoTaxPrep = true;  
                }
            }

            if(chck.checked == true && businessTax == true && persoTaxPrep == true) {
                autoAmountAdvisory(true);
            } else {
                autoAmountAdvisory(false);
            }
            
            if(chck.checked == true && businessTax == true) {
                autoCheck1800Acc(true);
                if(persoTaxPrep == true) {
                    autoAmount1800Acc(true);
                } else {
                    autoAmount1800Acc(false);
                }
            } else {
                autoAmount1800Acc(false);
            }

            for (let j = 0; j < nonTaxPrepList.length; j++) {
                if(nonTaxPrepList[j].checked == true) {
                    nonTaxPrep = true;  
                }
            }

            if(persoTaxPrep == true && nonTaxPrep == true && chck.checked == true) {
                autoAmount1800Acc(true);
            } else if(persoTaxPrep == false && nonTaxPrep == false && chck.checked == false) {
                autoAmount1800Acc(false);
            }

            if(persoTaxPrep == true && chck.checked == true) {
                persoTaxPrepFlag = true;
                taxAdvisoryFlag = true;
                autoCheckLoanAgree(true);
            } else if(persoTaxPrep == false && chck.checked == false) {
                autoCheckLoanAgree(false);
            }

            for (let j = 0; j < audDefBusiList.length; j++) {
                if(audDefBusiList[j].checked == true) {
                    audDefBusiFlag = true;
                }
            }

            for (let j = 0; j < audDefPersList.length; j++) {
                if(audDefPersList[j].checked == true) {
                    audDefPersFlag = true;
                }
            }

            for (let j = 0; j < loanAgreeList.length; j++) {
                if(loanAgreeList[j].checked == true) {
                    loanAgreeFlag = true;
                }
            }

            for (let j = 0; j < twoYearList.length; j++) {
                if(twoYearList[j].checked == true) {
                    twoYearFlag = true;
                }
            }

            if(persoTaxPrepFlag && taxAdvisoryFlag && audDefBusiFlag && audDefPersFlag && loanAgreeFlag && twoYearFlag) {
                autoAmount1800Acc(true);
            }
        } else if(name == '1-800Accountant Access') {
            var businessTax = false;
            var taxAdvisory = false;
            for (let l = 0; l < businessTaxList.length; l++) {
                if(businessTaxList[l].checked == true) {
                    businessTax = true;
                }
            }
            for (let j = 0; j < taxAdvisoryList.length; j++) {
                const taxAdvisoryText = taxAdvisoryList[j].className;
                if(taxAdvisoryList[j].checked == true) {
                    taxAdvisory = true;
                }
            } 
            if(businessTax == true && taxAdvisory == true) {
                autoCheck1800Acc(true);
            }
        } else if(name == '3-Page Templated Website') {
            for (let j = 0; j < fivePageList.length; j++) {
                if(chck.checked == true) {
                    if(fivePageList[j].checked == true) {
                        autoCheckMainMana(true);
                        autoCheckWebsite(true);
                    }
                } 
            }
        } else if(name == '5-Page Templated Website') {
            for (let j = 0; j < threePageList.length; j++) {
                if(chck.checked == true) {
                    if(threePageList[j].checked == true) {
                        autoCheckMainMana(true);
                        autoCheckWebsite(true);
                    }
                } 
            }
        } else if(name == 'Maintenance & Management') {
            if(chck.checked == true) {
                for (let d = 0; d < fivePageList.length; d++) {
                    for (let j = 0; j < threePageList.length; j++) {
                        for (let f = 0; f < websiteList.length; f++) {
                            if(fivePageList[d].checked == false && 
                               threePageList[j].checked == false && 
                               websiteList[f].checked == false) {
                                autoCheckWebsite(true);
                            }
                        }
                    }
                }
            }
        } else if(name == 'Expedited Fee - Bookkeeping') {
            if(chck.checked == true) {
                var backBookk = false;
                for (let l = 0; l < backBookkList.length; l++) {
                    if(backBookkList[l].checked == false) {
                        autoCheckBackBookk(true);
                        backBookk = true;
                    } 
                }
                for (let j = 0; j < bookkList.length; j++) {
                    if(bookkList[j].checked == false && backBookk == false) {
                        autoCheckBookk(true);
                    }
                }
            }
        } else if(name == 'Back Bookkeeping') {
            if(chck.checked == false) {
                for (let l = 0; l < expediList.length; l++) {
                    if(expediList[l].checked == true) {
                        autoCheckExpedited(false);
                    } 
                }
            }
        } else if(name == 'Personal Tax Preparation' || name == 'Personal Return') {
            var persoTaxPrepFlag = false;
            var audDefBusiFlag = false;
            var audDefPersFlag = false;
            var loanAgreeFlag = false;
            var twoYearFlag = false;
            var taxAdvisoryFlag = false;
            var businessTax = false;nonTaxPrep
            var nonTaxPrep = false;

            for (let j = 0; j < taxAdvisoryList.length; j++) {
                const taxAdviClassList = taxAdvisoryList[j].className;
                if(!taxAdviClassList.includes('Personal')) {
                    if(taxAdvisoryList[j].checked == true && chck.checked == true) {
                        taxAdvisoryFlag = true;
                    }
                }
            }

            for (let f = 0; f < businessTaxList.length; f++) {
                if(businessTaxList[f].checked == true) {
                    businessTax = true;
                }
            }

            for (let f = 0; f < nonTaxPrepList.length; f++) {
                if(nonTaxPrepList[f].checked == true) {
                    nonTaxPrep = true;
                }
            }

            if(chck.checked == true && taxAdvisoryFlag == true && businessTax == true) {
                autoAmountAdvisory(true);
            } else {
                autoAmountAdvisory(false);
            }

            if(taxAdvisoryFlag == true && chck.checked == true) {
                persoTaxPrepFlag = true;
                autoCheckLoanAgree(true);
                if(businessTax == true) {
                    autoAmount1800Acc(true);
                } 
                if(nonTaxPrep == true) {
                    autoAmount1800Acc(true);
                } 
                if(nonTaxPrep == false && businessTax == false) {
                    autoAmount1800Acc(false);
                }
            } else {
                autoCheckLoanAgree(false);
                autoAmount1800Acc(false);
                autoAmount1800Acc(false);
            }

            for (let j = 0; j < audDefBusiList.length; j++) {
                if(audDefBusiList[j].checked == true) {
                    audDefBusiFlag = true;
                }
            }
            for (let j = 0; j < audDefPersList.length; j++) {
                if(audDefPersList[j].checked == true) {
                    audDefPersFlag = true;
                }
            }
            for (let j = 0; j < loanAgreeList.length; j++) {
                if(loanAgreeList[j].checked == true) {
                    loanAgreeFlag = true;
                }
            }
            for (let j = 0; j < twoYearList.length; j++) {
                if(twoYearList[j].checked == true) {
                    twoYearFlag = true;
                }
            }
            if(persoTaxPrepFlag && taxAdvisoryFlag && audDefBusiFlag && audDefPersFlag && loanAgreeFlag && twoYearFlag) {
                autoAmount1800Acc(true);
            }
        } else if(name == 'Non-Profit Tax Preparation') {
            for (let j = 0; j < taxAdvisoryList.length; j++) {
                for (let f = 0; f < persoTaxPrepList.length; f++) {
                    if(persoTaxPrepList[f].checked == true && taxAdvisoryList[j].checked == true && chck.checked == true) {
                        autoAmount1800Acc(true);
                    } else {
                        autoAmount1800Acc(false);
                    }
                }
            }
        } else if(name == 'Audit Defense - Business') {
            var persoTaxPrepFlag = false;
            var audDefBusiFlag = false;
            var audDefPersFlag = false;
            var loanAgreeFlag = false;
            var twoYearFlag = false;
            var taxAdvisoryFlag = false;

            if(chck.checked == true) {
                audDefBusiFlag = true;
            }
            for (let j = 0; j < persoTaxPrepList.length; j++) {
                if(persoTaxPrepList[j].checked == true) {
                    persoTaxPrepFlag = true;
                }
            }
            for (let j = 0; j < audDefPersList.length; j++) {
                if(audDefPersList[j].checked == true) {
                    audDefPersFlag = true;
                }
            }
            for (let j = 0; j < loanAgreeList.length; j++) {
                if(loanAgreeList[j].checked == true) {
                    loanAgreeFlag = true;
                }
            }
            for (let j = 0; j < twoYearList.length; j++) {
                if(twoYearList[j].checked == true) {
                    twoYearFlag = true;
                }
            }
            for (let j = 0; j < taxAdvisoryList.length; j++) {
                if(taxAdvisoryList[j].checked == true) {
                    taxAdvisoryFlag = true;
                }
            }
            if(persoTaxPrepFlag && taxAdvisoryFlag && audDefBusiFlag && audDefPersFlag && loanAgreeFlag && twoYearFlag) {
                autoAmount1800Acc(true);
            } else if(!persoTaxPrepFlag && !taxAdvisoryFlag && !audDefBusiFlag && !audDefPersFlag && !loanAgreeFlag && !twoYearFlag) {
                autoAmount1800Acc(false);
            }
        } else if(name == 'Audit Defense - Personal') {
            var persoTaxPrepFlag = false;
            var audDefBusiFlag = false;
            var audDefPersFlag = false;
            var loanAgreeFlag = false;
            var twoYearFlag = false;
            var taxAdvisoryFlag = false;

            if(chck.checked == true) {
                audDefPersFlag = true;
            }
            for (let j = 0; j < persoTaxPrepList.length; j++) {
                if(persoTaxPrepList[j].checked == true) {
                    persoTaxPrepFlag = true;
                }
            }
            for (let j = 0; j < audDefBusiList.length; j++) {
                if(audDefBusiList[j].checked == true) {
                    audDefBusiFlag = true;
                }
            }
            for (let j = 0; j < loanAgreeList.length; j++) {
                if(loanAgreeList[j].checked == true) {
                    loanAgreeFlag = true;
                }
            }
            for (let j = 0; j < twoYearList.length; j++) {
                if(twoYearList[j].checked == true) {
                    twoYearFlag = true;
                }
            }
            for (let j = 0; j < taxAdvisoryList.length; j++) {
                if(taxAdvisoryList[j].checked == true) {
                    taxAdvisoryFlag = true;
                }
            }
            if(persoTaxPrepFlag && taxAdvisoryFlag && audDefBusiFlag && audDefPersFlag && loanAgreeFlag && twoYearFlag) {
                autoAmount1800Acc(true);
            } else if(!persoTaxPrepFlag && !taxAdvisoryFlag && !audDefBusiFlag && !audDefPersFlag && !loanAgreeFlag && !twoYearFlag) {
                autoAmount1800Acc(false);
            }
        } else if(name == 'Two-Year Review') {
            var persoTaxPrepFlag = false;
            var audDefBusiFlag = false;
            var audDefPersFlag = false;
            var loanAgreeFlag = false;
            var twoYearFlag = false;
            var taxAdvisoryFlag = false;

            if(chck.checked == true) {
                twoYearFlag = true;
            }
            for (let j = 0; j < persoTaxPrepList.length; j++) {
                if(persoTaxPrepList[j].checked == true) {
                    persoTaxPrepFlag = true;
                }
            }
            for (let j = 0; j < audDefBusiList.length; j++) {
                if(audDefBusiList[j].checked == true) {
                    audDefBusiFlag = true;
                }
            }
            for (let j = 0; j < loanAgreeList.length; j++) {
                if(loanAgreeList[j].checked == true) {
                    loanAgreeFlag = true;
                }
            }
            for (let j = 0; j < audDefPersList.length; j++) {
                if(audDefPersList[j].checked == true) {
                    audDefPersFlag = true;
                }
            }
            for (let j = 0; j < taxAdvisoryList.length; j++) {
                if(taxAdvisoryList[j].checked == true) {
                    taxAdvisoryFlag = true;
                }
            }
            if(persoTaxPrepFlag && taxAdvisoryFlag && audDefBusiFlag && audDefPersFlag && loanAgreeFlag && twoYearFlag) {
                autoAmount1800Acc(true);
            } else if(!persoTaxPrepFlag && !taxAdvisoryFlag && !audDefBusiFlag && !audDefPersFlag && !loanAgreeFlag && !twoYearFlag) {
                autoAmount1800Acc(false);
            }
        } else if(name == 'Loan Agreement') {
            var persoTaxPrepFlag = false;
            var audDefBusiFlag = false;
            var audDefPersFlag = false;
            var loanAgreeFlag = false;
            var twoYearFlag = false;
            var taxAdvisoryFlag = false;

            if(chck.checked == true) {
                loanAgreeFlag = true;
            }
            for (let j = 0; j < persoTaxPrepList.length; j++) {
                if(persoTaxPrepList[j].checked == true) {
                    persoTaxPrepFlag = true;
                }
            }
            for (let j = 0; j < audDefBusiList.length; j++) {
                if(audDefBusiList[j].checked == true) {
                    audDefBusiFlag = true;
                }
            }
            for (let j = 0; j < audDefPersList.length; j++) {
                if(audDefPersList[j].checked == true) {
                    audDefPersFlag = true;
                }
            }
            for (let j = 0; j < twoYearList.length; j++) {
                if(twoYearList[j].checked == true) {
                    twoYearFlag = true;
                }
            }
            for (let j = 0; j < taxAdvisoryList.length; j++) {
                if(taxAdvisoryList[j].checked == true) {
                    taxAdvisoryFlag = true;
                }
            }
            if(persoTaxPrepFlag && taxAdvisoryFlag && audDefBusiFlag && audDefPersFlag && loanAgreeFlag && twoYearFlag) {
                autoAmount1800Acc(true);
            } else if(!persoTaxPrepFlag && !taxAdvisoryFlag && !audDefBusiFlag && !audDefPersFlag && !loanAgreeFlag && !twoYearFlag) {
                autoAmount1800Acc(false);
            }
        } else if(name == '1099 Prep') { 
            for (let j = 0; j < prepQTYList.length; j++) {
                if(chck.checked == true) {
                    var qtyPrep = parseInt(prepQTYList[j].value);
                    autoAmount1099(qtyPrep);
                }
            }
        }

        if(transactions == null || transactions == ''){
            for (let l = 0; l < dedicBookkList.length; l++) {
                dedicBookkList[l].setAttribute('disabled', 'disabled');
            }
            for (let l = 0; l < backBookkList.length; l++) {
                backBookkList[l].setAttribute('disabled', 'disabled');
            }
            for (let l = 0; l < nonProfBookkList.length; l++) {
                nonProfBookkList[l].setAttribute('disabled', 'disabled');
            }
            for (let l = 0; l < nonProfBackBookkList.length; l++) {
                nonProfBackBookkList[l].setAttribute('disabled', 'disabled');
            }
            for (let l = 0; l < bookkList.length; l++) {
                bookkList[l].setAttribute('disabled', 'disabled');
            }
            for (let l = 0; l < expediList.length; l++) {
                expediList[l].setAttribute('disabled', 'disabled');
            }
        } else { 
            for (let l = 0; l < dedicBookkList.length; l++) {
                dedicBookkList[l].removeAttribute('disabled');
            }
            for (let l = 0; l < backBookkList.length; l++) {
                backBookkList[l].removeAttribute('disabled');
            }
            for (let l = 0; l < nonProfBookkList.length; l++) {
                nonProfBookkList[l].removeAttribute('disabled');
            }
            for (let l = 0; l < nonProfBackBookkList.length; l++) {
                nonProfBackBookkList[l].removeAttribute('disabled');
            }
            for (let l = 0; l < bookkList.length; l++) {
                bookkList[l].removeAttribute('disabled');
            }
            for (let l = 0; l < expediList.length; l++) {
                expediList[l].removeAttribute('disabled');
            }
        }

        if(foreignState == null || foreignState == ''){
            for (let l = 0; l < foreQuali.length; l++) {
                foreQuali[l].setAttribute('disabled', 'disabled');
            }
        } else {
            for (let l = 0; l < foreQuali.length; l++) {
                foreQuali[l].removeAttribute('disabled');
            }
        }

        checkAll(chck);
    }

    function autoCheckEntity(val) {
        const entityList = document.querySelectorAll("[data-product='Entity Formation']");
        for (let l = 0; l < entityList.length; l++) {
            entityList[l].checked = val;
        }
    }

    function autoCheckPayrollFee(val) {
        const payrollFeeList = document.querySelectorAll("[data-product='Payroll Setup Fee']");
        for (let l = 0; l < payrollFeeList.length; l++) {
            payrollFeeList[l].checked = val;
        }
    }

    function autoCheck1800Acc(val) {
        const accList = document.querySelectorAll("[data-product='1-800Accountant Access']");
        for (let l = 0; l < accList.length; l++) {
            accList[l].checked = val;
        }
    }

    function autoCheckExpedited(val) {
        const expeditList = document.querySelectorAll("[data-product='Expedited Fee - Bookkeeping']");
        for (let l = 0; l < expeditList.length; l++) {
            expeditList[l].checked = val;
        }
    }

    function autoCheckBackBookk(val) {
        const backBookkList = document.querySelectorAll("[data-product='Back Bookkeeping']");
        for (let l = 0; l < backBookkList.length; l++) {
            backBookkList[l].checked = val;
        }
    }

    function autoCheckBookk(val) {
        const bookkList = document.querySelectorAll("[data-product='Bookkeeping Advisory']");
        for (let l = 0; l < bookkList.length; l++) {
            bookkList[l].checked = val;
        }
    }

    function autoCheckMainMana(val) {
        const mainManaList = document.querySelectorAll("[data-product='Maintenance & Management']");
        for (let l = 0; l < mainManaList.length; l++) {
            mainManaList[l].checked = val;
        }
    }

    function autoCheckWebsite(val) {
        const websiteList = document.querySelectorAll("[data-product='Website Builder']");
        for (let l = 0; l < websiteList.length; l++) {
            websiteList[l].checked = val;
        }
    }

    function autoCheckLoanAgree(val) {

        const loanAgreeList = document.querySelectorAll("[data-amount='Loan Agreement']");
        var id = '';
        var productPrice = 0;

        for (let l = 0; l < loanAgreeList.length; l++) {
            id = loanAgreeList[l].parentNode.parentNode.id;
            if(val == true) {
                loanAgreeList[l].innerHTML = '$0.00';
                productPrice = 0.00;
            } else {
                productPrice = oridinalPricesMap.get(id);
                productPrice = parseFloat(productPrice).toFixed(2);
                loanAgreeList[l].innerHTML = '$' + productPrice.toString();
            }
        }
        pricesMap.set(id, productPrice);
    }

    function autoAmount1800Acc(val) {
        
        const accList = document.querySelectorAll("[data-amount='1-800Accountant Access']");
        var id = '';
        var productPrice = 0;

        for (let l = 0; l < accList.length; l++) {
            id = accList[l].parentNode.parentNode.id;
            if(val == true) {
                accList[l].innerHTML = '$29.99';
                productPrice = 29.99;
            } else {
                productPrice = oridinalPricesMap.get(id);
                productPrice = parseFloat(productPrice).toFixed(2);
                accList[l].innerHTML = '$' + productPrice.toString();
            }
        }
        pricesMap.set(id, productPrice);
    }

    function autoAmount1099(qtyPrep) {

        const prepList = document.querySelectorAll("[data-amount='1099 Prep']");
        var id = '';
        var productPrice = 0;
        var newPrice = 0;
        
        for (let l = 0; l < prepList.length; l++) {
            id = prepList[l].parentNode.parentNode.id;
            productPrice = oridinalPricesMap.get(id);
            newPrice = productPrice;
                
            if(qtyPrep > 1) {
                newPrice = (productPrice + ((qtyPrep - 1) * 20)) / qtyPrep;
                newPrice = parseFloat(newPrice).toFixed(2);
            } else {
                newPrice = 50;
                newPrice = parseFloat(newPrice).toFixed(2);
            }
                
            prepList[l].innerHTML = '$' + newPrice.toString();
        }
        pricesMap.set(id, newPrice);
    }

    function autoAmountAdvisory(val) {
        
        const advList = document.querySelectorAll("[data-amount='Tax Advisory']");
        var id = '';
        var productPrice = 0;

        var perPrice = document.querySelector("[data-amount='Personal Tax Preparation']").innerHTML;
        var busiPrice = document.querySelector("[data-amount='Business Tax Preparation']").innerHTML;
        perPrice = perPrice.replace('$','');
        busiPrice = busiPrice.replace('$','');
        
        for (let l = 0; l < advList.length; l++) {
            id = advList[l].parentNode.parentNode.id;
            if(val == true) {
                var price = (((parseInt(busiPrice) + parseInt(perPrice)) / (869 + 390)) * 1199);
                advList[l].innerHTML = '$' + parseFloat(price).toFixed(2);
                productPrice = parseFloat(price).toFixed(2);
            } else {
                productPrice = oridinalPricesMap.get(id);
                productPrice = parseFloat(productPrice).toFixed(2);
                advList[l].innerHTML = '$' + productPrice.toString();
            }
        }
        pricesMap.set(id, productPrice);
    }

    function productSelected(checked, value, name) {

        const link = document.getElementsByClassName(value);

        for (let i = 0; i < link.length; i++) {
            if(checked) {
                link[i].checked = true;
            } else {
                link[i].checked = false;
            }
        }

        if(checked) {
            var questionNumber;
            for(var i = 1; i < 31; i++) {
                if(null == questionToProduct.get(i)) {
                    questionNumber = i;
                    questionToProduct.set(i, name);
                    productToQuestion.set(name, i);
                    break;
                }
            }
        } else {
            var questionNumber = productToQuestion.get(name);
            questionToProduct.delete(questionNumber);
            productToQuestion.delete(name);
        }

        var totalPrice = 0;
        var monthlyPrice = 0;
        var monthPrice = 0;
        var oneTimePricing = 0;
        var oneTimePrice = 0;
        var yearlyPricing = 0;
        var yearlyPrice = 0;

        selectedProducts.length = 0;
        selectedProductsToQuote.length = 0;
        
        for (let i = 0; i < uniquechosenProducts.length; i++) {
            var mark = document.getElementsByClassName(uniquechosenProducts[i]);
            
            for(let j = 0; j < mark.length; j++) {

                if(mark[j].checked  && !selectedProducts.includes(uniquechosenProducts[i])) {

                    var productPrice = pricesMap.get(uniquechosenProducts[i]);
                    var newProductPrice = productPrice;
                    var billing = productIdToBilling.get(uniquechosenProducts[i]);
                    var prod = document.getElementById(uniquechosenProducts[i]);

                    var billiDet = billingAnnualMonthly.get(uniquechosenProducts[i]);
                    
                    var billingSelect = new Array();
                    if(billiDet != null && billiDet != undefined && billiDet != '') {
                        billingSelect = billiDet.split(",");

                        if(billingSelect[0] == 'Monthly') {
                            if(billingSelect[1] == 'false') {
                                newProductPrice = productPrice * 11;
                                billing = 'Annual';
                            } else {
                                newProductPrice = productPrice;
                                billing = 'Monthly';
                            }
                        } else if(billingSelect[0] == 'Annual' || billingSelect[0] == 'One-Time') {
                            if(billingSelect[1] == 'false') {
                                newProductPrice = (productPrice / 12) * 1.2;
                                productPrice = productPrice * 1.2;
                                billing = 'Monthly';
                            } else {
                                newProductPrice = productPrice;
                                if(billingSelect[0] == 'One-Time') {
                                    billing = 'One-Time';
                                } else if(billingSelect[0] == 'Annual') {
                                    billing = 'Annual';
                                }
                            }
                        }
                    } else {
                        newProductPrice = productPrice;
                    }

                    var qty = 0;
                    if(prod.childNodes.length > 6) {
                        qty = prod.childNodes[9].childNodes[1].childNodes[1].value;
                    } else {
                        qty = prod.childNodes[4].childNodes[0].childNodes[0].value;
                    }
                    
                    var subtotal = newProductPrice * qty;

                    if('Monthly' == billing) {
                        monthlyPrice += subtotal;
                    } else if('Annual' == billing) {
                        yearlyPricing += subtotal;
                    } else if('One-Time' == billing) {
                        oneTimePricing += subtotal;
                    }

                    subtotal = parseFloat(subtotal).toFixed(2);
                    var subtotalList = document.getElementsByClassName(uniquechosenProducts[i]+'subtotal');
                    for(var k = 0; k < subtotalList.length; k++) {
                        subtotalList[k].innerHTML = '$' + subtotal.toString();
                    }
                }

                var prodValues = '';
                prodValues = uniquechosenProducts[i] + '//' + billing + '//' + qty + '//' + productPrice + '//' + newProductPrice + '//' + subtotal;    
                selectedProducts.push(uniquechosenProducts[i]); 
                selectedProductsToQuote.push(prodValues);
            }
        } 

        monthPrice = parseFloat(monthlyPrice).toFixed(2);
        oneTimePrice = parseFloat(oneTimePricing).toFixed(2);
        yearlyPrice = parseFloat(yearlyPricing).toFixed(2); 

        totalPrice = parseFloat(yearlyPrice) + parseFloat(oneTimePrice);
        totalPrice = parseFloat(totalPrice).toFixed(2); 
        
        document.getElementById('onTime').innerHTML = oneTimePrice;
        document.getElementById('originalValue').innerHTML = totalPrice;

        document.getElementById('quoteTotal').innerHTML = '$' + totalPrice.replace(/\d(?=(\d{3})+\.)/g, '$&,') + '+ $' + monthPrice + '/Mo'; 
        document.getElementById('quoteText').innerHTML = '$' + totalPrice.replace(/\d(?=(\d{3})+\.)/g, '$&,') + ' + $' + monthPrice + '/Mo'; 

        var quoteTotal = parseFloat(yearlyPrice) + parseFloat(oneTimePrice) + parseFloat(monthlyPrice);
        quoteTotal = parseFloat(quoteTotal).toFixed(2);
        quoteTotal = '$' + quoteTotal.replace(/\d(?=(\d{3})+\.)/g, '$&,');

        document.getElementById('payAmountDue').innerHTML = quoteTotal;
        document.getElementById('payAmountToday').innerHTML = quoteTotal;
        document.getElementById('paymentAmount').innerHTML = quoteTotal;

        document.getElementById('finalAmount').innerHTML = '$' + totalPrice.replace(/\d(?=(\d{3})+\.)/g, '$&,'); 
        document.getElementById('finalAmou').innerHTML = '$' + totalPrice.replace(/\d(?=(\d{3})+\.)/g, '$&,');
        
        if(monthPrice > 0 && monthPrice != 0) {
            document.getElementById('finalMonthAmount').innerHTML = '+ $' + monthPrice + '/Mo 1-800Accountant Portal monthly access fee.'; 
            document.getElementById('finalMonthAmou').innerHTML = '+ $' + monthPrice + '/Mo 1-800Accountant Portal monthly access fee.';
        } else {
            document.getElementById('finalMonthAmount').innerHTML = ''; 
            document.getElementById('finalMonthAmou').innerHTML = '';
        }
        
        const date = new Date();
        let day = date.getDate();
        document.getElementById('numDay').innerHTML = day;

        if(name.includes('row')) {
            name = name.replace('row ','');
        }
        // socket.connect();
        // content = {
        //     page: "Prepared Packages",
        //     showProgress: false,
        //     checked: checked,
        //     productName: name,
        //     productCant: qty,
        //     question: questionNumber,
        //     quoteTotal: quoteTotal
        // }
        // socket.emit("private message", {
        //     content
        // });
    }

    function calcQuantityChange(quantity, prodName) {

        var qty = quantity.value;

        if(prodName == '1099 Prep') {
            autoAmount1099(qty);
        }

        const qtyBtnList = document.querySelectorAll("[data-product-qty='" + prodName + "']");
        for(var i = 0; i < qtyBtnList.length; i++) {
            qtyBtnList[i].value = qty;
        }

        const subBtnList = document.querySelectorAll("[data-product-subtotal='" + prodName + "']");
        var listProdPrice = document.querySelectorAll("[data-product-cost='" + prodName + "']");
        var prodPrice = listProdPrice[0].innerHTML;
        prodPrice = prodPrice.replace('$','');
        for(var i = 0; i < subBtnList.length; i++) {
            if(qty != null && qty != '' && qty != undefined) {
                var subtotalValue = parseInt(qty) * parseFloat(prodPrice).toFixed(2);
                subtotalValue = parseFloat(subtotalValue).toFixed(2);
                subBtnList[i].innerHTML = '$' + subtotalValue.toString();
            }
        }

        var checkRow = quantity.parentNode.parentNode.parentNode.childNodes[1].childNodes[1].checked;
        var classNameRow = quantity.parentNode.parentNode.parentNode.id;
        var nameRow = quantity.parentNode.parentNode.parentNode.className;
        nameRow = nameRow.replace('row ','');
  
        productSelected(checkRow, classNameRow, nameRow);
    }

    function calcFrecuencyChange(frecuencyBtn, prodId, prodName, prodBill, prodAnnMon) { 
        var thisChecked = frecuencyBtn.checked;
        var thisId = frecuencyBtn.id;
        var frecuencyBtnList = document.getElementsByClassName(frecuencyBtn.className);
        var keepSame = true;

        for(var i = 0; i < frecuencyBtnList.length; i++) {
            if(thisId.includes("yearly") && thisChecked == true) {
                var monthlyOnes = document.getElementsByClassName(prodId + 'monthly');
                for(var r = 0; r < monthlyOnes.length; r++) {
                    monthlyOnes[r].checked = false;
                    monthlyOnes[r].value = false;
                }
            } 
            if(thisId.includes("monthly") && thisChecked == true) {
                var yearlyOnes = document.getElementsByClassName(prodId + 'yearly');
                for(var r = 0; r < yearlyOnes.length; r++) {
                    yearlyOnes[r].checked = false;
                    yearlyOnes[r].value = false;
                }
            } 
            frecuencyBtnList[i].checked = thisChecked;
            frecuencyBtnList[i].value = thisChecked;
        }

        const list = document.querySelectorAll("[data-product='" + prodName + "']");
        var chck = false;
        for (let l = 0; l < list.length; l++) {
            chck = list[l].checked;
        }

        var item = '';
        item = prodBill + ',' + keepSame;
        billingAnnualMonthly.set(prodId, item);
        
        var listProdPrice = document.querySelectorAll("[data-product-cost='" + prodName + "']");
        var prodPrice = listProdPrice[0].innerHTML;
        prodPrice = prodPrice.replace('$','');
        var productPrice = parseFloat(prodPrice).toFixed(2);
        var newProductPrice = productPrice;
        var prod = document.getElementById(prodId);
        var billiDet = billingAnnualMonthly.get(prodId);
        var billingSelect = new Array();

        if(billiDet != null && billiDet != undefined && billiDet != '') {
            billingSelect = billiDet.split(",");

            if(billingSelect[0] == 'Monthly') {
                if(thisId.includes("yearly")) {
                    keepSame = false;
                    newProductPrice = productPrice * 11;
                } else {
                    newProductPrice = productPrice;
                }
            } else if(billingSelect[0] == 'Annual' || billingSelect[0] == 'One-Time') {
                if(thisId.includes("monthly")) {
                    keepSame = false;
                    newProductPrice = (productPrice / 12) * 1.2;
                } else {
                    newProductPrice = productPrice;
                }
            }
        }

        item = '';
        if(prodName == '1-800Accountant Access' && thisId.includes("yearly")) {
            item = prodBill + ',false';
        } else {
            item = prodBill + ',' + keepSame;
        } 
        billingAnnualMonthly.set(prodId, item);
        
        var qty = 0;
        if(prod.childNodes.length > 6) {
            qty = prod.childNodes[9].childNodes[1].childNodes[1].value;
        } else {
            qty = prod.childNodes[4].childNodes[0].childNodes[0].value;
        }

        var subtotal = newProductPrice * qty;
        subtotal = parseFloat(subtotal).toFixed(2);
        
        var subtotalList = document.getElementsByClassName(prodId+'subtotal');
                    
        for(var k = 0; k < subtotalList.length; k++) {
            subtotalList[k].innerHTML = '$' + subtotal.toString();
        }

        productSelected(chck, prodId, prodName);
    }

    function justRemoveProduct(pId) {

        var productIdToIdentifier = JSON.parse('{!productToIdentifier}');
        const nameMap = new Map(Object.entries(productIdToIdentifier));
        var nameProd = nameMap.get(pId);
        const businessTaxList = document.querySelectorAll("[data-product='Business Tax Preparation']");
        const taxAdvisoryList = document.querySelectorAll("[data-product='Tax Advisory']");
        var businessTax = false;
        var taxAdvisory = false;

        if(nameProd == '1-800Accountant Access') {
            for (let l = 0; l < businessTaxList.length; l++) {
                if(businessTaxList[l].checked == true) {
                    businessTax = true;
                }
            }
            for (let j = 0; j < taxAdvisoryList.length; j++) {
                const taxAdvisoryText = taxAdvisoryList[j].className;
                if(taxAdvisoryList[j].checked == true) {
                    taxAdvisory = true;
                }
            } 
        }

        if(businessTax != true || taxAdvisory != true) {
            if(nameProd == '1-800Accountant Access' || nameProd == 'Business Return' || nameProd == 'Loan Agreement' || 
               nameProd == 'Personal Return' || nameProd == 'Tax Advisory') {
                document.getElementById(pId).childNodes[1].childNodes[1].value = false;
                document.getElementById(pId).childNodes[1].childNodes[1].checked = false;
            } else {
                document.getElementById(pId).childNodes[0].childNodes[0].value = false;
                document.getElementById(pId).childNodes[0].childNodes[0].checked = false;
            }
            var rowToDelete = document.getElementById(pId);
            rowToDelete.remove();

            deletedProducts.push(pId);
        } else if(businessTax == true || taxAdvisory == true) {
            autoAmount1800Acc(true);
        }
    }

    function addRemoveProduct(pChecked, pId, pName, pPrice, pAnnualMonthly, pBillingFreq, pQtyAllow) {

        var tBody = document.getElementById("selectedPlan");

        if(pChecked.checked == true) {
            var pQty = pChecked.parentNode.parentNode.childNodes[9].childNodes[1].childNodes[1].value;
            var pSubtotal = pChecked.parentNode.parentNode.childNodes[11].childNodes[1].innerHTML;
            pSubtotal = pSubtotal.replace('$','');
            var none = '';
            var flex = '';

            if(pBillingFreq == 'Annual' || pBillingFreq == 'One-Time') {
                pAnnualOne = true;
            } else {
                pAnnualOne = false;
            }
            if(pBillingFreq == 'Monthly') {
                pMonthly = true;
            } else {
                pMonthly = false;
            }
            
            if(pQtyAllow == true || pQtyAllow == 'true') {
                none = 'flex';
                flex = 'none';
            } else {
                none = 'none';
                flex = 'flex';
            }

            if(pAnnualMonthly == true || pAnnualMonthly == 'true') {
                var rowData = '<div id="' + pId + '" class="row ' + pName + '" style="display: table-row;border-bottom: 1px solid rgba(18, 23, 36, 0.2);">'
                + '<div class="col" style="text-align: center;vertical-align: middle;padding-left: 17px;">'
                + '<input type="checkbox" html-data-id="' + pId + '" data-product="' + pName + '" style="Height: 13px;margin-left: 12px;" id="actionPlanTable" class="' + pId + '" onchange="autoChecks(&apos;' + pName + '&apos;, this);justRemoveProduct(&apos;' + pId + '&apos;);" checked="checked" value="true"/>'
                + '</div>'
                + '<div class="col" style="padding-left: 0px;">'
                + '<p class="planPackageTableProd">' + pName + '</p>'
                + '</div>'
                + '<div class="col" style="padding-left: 195px;">'
                + '<p class="planPackageTableCost" data-product-cost="' + pName + '" data-amount="' + pName + '">$' + pPrice + '</p>'
                + '</div>'
                + '<div class="col" style="width: 160px;">'
                + '<div class="radio-group">'
                + '<input type="checkbox" class="radiobtn ' + pId + 'yearly" id="' + pId + 'yearly" name="selector" value="' + pAnnualOne + '" onchange="calcFrecuencyChange(this, &apos;' + pId + '&apos;, &apos;' + pName + '&apos;, &apos;' + pBillingFreq + '&apos;, &apos;' + pAnnualOne + '&apos;);"/>'
                + '<label for="' + pId + 'yearly" class="radioLabel"  >Yearly</label>'
                + '<input type="checkbox" class="radiobtn ' + pId + 'monthly" id="' + pId + 'monthly" name="selector" value="' + pMonthly + '" onchange="calcFrecuencyChange(this, &apos;' + pId + '&apos;, &apos;' + pName + '&apos;, &apos;' + pBillingFreq + '&apos;, &apos;' + pMonthly + '&apos;);"/>'
                + '<label for="' + pId + 'monthly" class="radioLabel">Monthly</label>'
                + '</div>'
                + '</div>'
                + '<div class="col" style="width: 110px;">'
                + '<div class="form-floating">'
                + '<input type="tel" data-product-qty="' + pName + '" class="form-control ' + pId + 'qty" id="planPackageTableQuantity" style="display: ' + flex + '" value="' + pQty + '" oninput="calcQuantityChange(this, &apos;' + pName + '&apos;);"/>'
                + '<output type="tel" data-product-qty="' + pName + '" class="form-control" id="planPackageTableQuantityOutput" style="display: ' + none + '; background: rgba(18, 23, 36, 0.2);opacity: 0.75;">' + pQty + '</output>'
                + '</div>'
                + '</div>'
                + '<div class="col" style="40px">'
                + '<p class="planPackageTableSubtotal ' + pId + 'subtotal" data-product-subtotal="' + pName + '" data-amount="' + pName + '">$' + pSubtotal + '</p>'
                + '</div>'
                + '</div>';
            } else {
                var rowData = '<div id="' + pId + '" class="row ' + pName + '" style="display: table-row;border-bottom: 1px solid rgba(18, 23, 36, 0.2);">'
                + '<div class="col" style="text-align: center;vertical-align: middle;padding-left: 17px;">'
                + '<input type="checkbox" html-data-id="' + pId + '" data-product="' + pName + '" style="Height: 13px;margin-left: 12px;" id="actionPlanTable" class="' + pId + '" onchange="autoChecks(&apos;' + pName + '&apos;, this);justRemoveProduct(&apos;' + pId + '&apos;);" checked="checked" value="true"/>'
                + '</div>'
                + '<div class="col" style="padding-left: 0px;">'
                + '<p class="planPackageTableProd">' + pName + '</p>'
                + '</div>'
                + '<div class="col" style="padding-left: 195px;">'
                + '<p class="planPackageTableCost" data-product-cost="' + pName + '" data-amount="' + pName + '">$' + pPrice + '</p>'
                + '</div>'
                + '<div class="col" style="width: 160px;">'                
                + '<div class="radio-group">'
                + '<output type="checkbox" class="radiobtn" id="' + pId + 'yearly" name="selector" disabled="disabled">' + pAnnualOne + '</output>'
                + '<label for="' + pId + 'yearly" class="radioLabel ' + pId + 'yearlylabel" id="' + pId + 'yearlylabel">Yearly</label>'
                + '<output type="checkbox" class="radiobtn" id="' + pId + 'monthly" name="selector" disabled="disabled">' + pMonthly + '</output>'
                + '<label for="' + pId + 'monthly" class="radioLabel ' + pId + 'monthlylabel" id="' + pId + 'monthlylabel">Monthly</label>'
                + '</div>'
                + '</div>'
                + '<div class="col" style="width: 110px;">'
                + '<div class="form-floating">'
                + '<input type="tel" data-product-qty="' + pName + '" class="form-control ' + pId + 'qty" id="planPackageTableQuantity" style="display: ' + flex + '" value="' + pQty + '" oninput="calcQuantityChange(this, &apos;' + pName + '&apos;);"/>'
                + '<output type="tel" data-product-qty="' + pName + '" class="form-control" id="planPackageTableQuantityOutput" style="display: ' + none + '; background: rgba(18, 23, 36, 0.2);opacity: 0.75;">' + pQty + '</output>'
                + '</div>'
                + '</div>'
                + '<div class="col" style="40px">'
                + '<p class="planPackageTableSubtotal ' + pId + 'subtotal" data-product-subtotal="' + pName + '" data-amount="' + pName + '">$' + pSubtotal + '</p>'
                + '</div>'
                + '</div>';
            }
            
            tBody.innerHTML = tBody.innerHTML + rowData;
        } else {
            document.getElementById(pId).childNodes[0].childNodes[0].value = false;
            document.getElementById(pId).childNodes[0].childNodes[0].checked = false;
            var rowToDelete = document.getElementById(pId);
            rowToDelete.remove();

            deletedProducts.push(pId);
        }
    }

    function linkedFields(value){
        switch (value) {
            case 'Employees and Contractors':
            var employees = $('[data-id="employees"]').val();
            var contractors = $('[data-id="contractors"]').val();


            if("white" != document.getElementById('yesBtn1.3').style.color){
                if(0 != employees || 0 != contractors){
                    YesDecision(1.3);
                    populateAnswer('Do you currently have any employees?', 'Yes', false);
                }
            }
            break;

            case 'Number of Rental Properties':
            var rental = $('[data-id="rental"]').val();

            if("white" != document.getElementById('yesBtn1.7').style.color){
                if(0 != rental){
                    YesDecision(1.6);
                    populateAnswer('Do you currently have any rental properties?', 'Yes', false);
                }
            }
            break;
            case 'Working from Home':
            var footage = $('[data-id="footage"]').val();

            if("white" != document.getElementById('yesBtn1.7').style.color){
                if(0 != footage){
                    YesDecision(1.7);
                    populateAnswer('Will you be working from home?', 'Yes', false);
                }
            }
            break;
            case 'Driving':
            var footage = $('[data-id="miles"]').val();

            if("white" != document.getElementById('yesBtn1.8').style.color){
                if(0 != footage){
                    YesDecision(1.8);
                    populateAnswer('Will you use your personal vehicle for business purposes?', 'Yes', false);
                }
            }
            break;
        }
    }

    function saveClientInfo(infoType) {
        var businessOwnerId = "{!businessOwner.Id}";
        var email = '';
        var phone = '';
        var address = '';
        var city = '';
        var state = '';
        var zip = '';
        var country = '';

        if(infoType == 'personal') {
            email = document.getElementById('emailModalEditClientInfo').value;
            phone = document.getElementById('phoneModalEditClientInfo').value;
            address = '';
            city = '';
            state = '';
            zip = '';
            country = '';
        } 

        if(infoType == 'billing') {
            email = '';
            phone = '';
            address = document.getElementById('streetAddress').value;
            city = document.getElementById('cityAddress').value;
            state = $('[data-id="stateAddress"]').val();
            zip = document.getElementById('zipAddress').value;
            country = $('[data-id="countryAddress"]').val();
        }

        if(businessOwnerId != '' && businessOwnerId != null) {
            Visualforce.remoting.Manager.invokeAction('GuidedSellingEditControllerExtension.saveClientInfo', infoType, businessId, businessOwnerId, accId, email, phone, address, city, state, zip, country, function(r,e) {
                if(e.status) {
                    if(infoType == 'personal') {
                        document.getElementById('busOwnerPhone').innerHTML = phone;
                        document.getElementById('busOwnerEmail').innerHTML = email;
                        closeModalEditClientInfo();
                    } 
                    if(infoType == 'billing') {
                        document.getElementById('busOwnerAddress').innerHTML = address;
                        document.getElementById('busOwnerCity').innerHTML = city + ',';
                        document.getElementById('busOwnerState').innerHTML = state;
                        document.getElementById('busOwnerZip').innerHTML = zip;
                        document.getElementById('busOwnerCountry').innerHTML = country;
                        closeModalEditBillingAdd();
                    }
                } else if(e.type === 'exception') {
                    if(infoType == 'personal') {
                        document.getElementById("modalEditClientInfoErrors").innerHTML = e.message + "<br/>\n<pre>" + e.where + "</pre>";
                    } 
                    if(infoType == 'billing') {
                        document.getElementById("modalEditBillingAddErrors").innerHTML = e.message + "<br/>\n<pre>" + e.where + "</pre>";
                    }
                } else {
                    if(infoType == 'personal') {
                        document.getElementById("modalEditClientInfoErrors").innerHTML = e.message + "<br/>\n<pre>" + e.where + "</pre>";
                    } 
                    if(infoType == 'billing') {
                        document.getElementById("modalEditBillingAddErrors").innerHTML = e.message + "<br/>\n<pre>" + e.where + "</pre>";
                    }
                }
            });
        }
    }

    function calcFinance(showClient) {
        var payTe = document.getElementById('payTerms').value;

        var month = document.getElementById('quoteTotal').innerHTML;
        var monthData = month.split("+");
        var monthly = monthData[1];
        monthly = monthly.replace(' $','');
        monthly = monthly.replace('/Mo','');

        var oneTime = document.getElementById('onTime').innerHTML;

        var total = document.getElementById('originalValue').innerHTML;
        total = total.replace('$','');
        total = total.replace(',','');

        var tTotal = total - oneTime;
        var newTotal = tTotal - monthly;
        var today = 0; 
        var newToday = 0; 
        var t = total;

        switch (payTe) {
            case 'No Financing':
                payTerms = 'yrl';
                var tdy = monthData[0];
                tdy = tdy.replace('$','');
                tdy = tdy.replace(',','');
                today = tdy;
                document.getElementById('financingScript').style.display = "none";
            break;
            case '2 Pay':
                payTerms = '2pay';
                today = newTotal / 2;
                document.getElementById('financingScript').style.display = "block";
                document.getElementById('planLength').innerHTML = '2';
            break;
            case '3 Pay':
                payTerms = '3pay';
                today = newTotal / 3;
                document.getElementById('financingScript').style.display = "block";
                document.getElementById('planLength').innerHTML = '3';
            break;
            case '4 Pay':
                payTerms = '4pay';
                today = newTotal / 4;
                document.getElementById('financingScript').style.display = "block";
                document.getElementById('planLength').innerHTML = '4';
            break;
            case '6 Pay':
                payTerms = '6pay';
                today = newTotal / 6;
                document.getElementById('financingScript').style.display = "block";
                document.getElementById('planLength').innerHTML = '5';
            break;
            case 'Apply for Monthly Installments':
                payTerms = 'mon';
                today = (newTotal / 12) * 1.2;
                document.getElementById('financingScript').style.display = "block";
                document.getElementById('planLength').innerHTML = '12';

                var tl = total - oneTime;
                var ttl = tl - monthly;
                ttl  = ttl * 1.2;
                ttl = parseFloat(ttl) + parseFloat(monthly) + parseFloat(oneTime);
                ttl = parseFloat(ttl).toFixed(2);
                t = ttl;
            break;
        }

        newToday = parseFloat(today) + parseFloat(monthly) + parseFloat(oneTime);
        monthly = parseFloat(monthly);
        var quoteTotal = parseFloat(newToday).toFixed(2);
        quoteTotal = '$' + quoteTotal.replace(/\d(?=(\d{3})+\.)/g, '$&,');
        t = '$' + t.replace(/\d(?=(\d{3})+\.)/g, '$&,');
        today = parseFloat(today).toFixed(2);
        today = '$' + today.replace(/\d(?=(\d{3})+\.)/g, '$&,');

        document.getElementById('payAmountDue').innerHTML = t;
        document.getElementById('quoteTotal').innerHTML = t + ' + $' + monthly + '/Mo'; 
        document.getElementById('quoteText').innerHTML = t + ' + $' + monthly + '/Mo'; 

        document.getElementById('planTerms').innerHTML = payTe;
        document.getElementById('payAmountToday').innerHTML = quoteTotal;
        document.getElementById('finalAmou').innerHTML = quoteTotal;
        document.getElementById('finalMonthAmou').innerHTML = '';
        document.getElementById('finalAmount').innerHTML = quoteTotal;
        document.getElementById('finalMonthAmount').innerHTML = '';
        document.getElementById('paymentAmount').innerHTML = today;

    //     if(showClient == true) {
    //         socket.connect();
    //         content = {
    //             page: "Payment Details",
    //             name: "{!businessOwner.First_Name__c} {!businessOwner.Last_Name__c}",
    //             total: t,
    //             due: quoteTotal
    //         }
    //         socket.emit("private message", {
    //             content
    //         });
    //     }
    }

    function activateNext() {
        var authorizes = document.getElementById("authorizes").checked;
        
        if(authorizes == true) {
            document.getElementById('nextPayment').removeAttribute('disabled');
            document.getElementById('nextPayment').style.opacity = "1";
        } else {
            document.getElementById('nextPayment').setAttribute('disabled', 'disabled');
            document.getElementById('nextPayment').style.opacity = "0.25";
        }
    }

    function savePayTerms() {
        closeModalEditPayTerms();
        calcFinance(true);
    }

    function skipToSale() {
        hideAll();
        closeModalOptions();
    }

    function skipDoNotSave() {
        hideAll();
        closeModalOptions();
        confimCloseModalEditPackage();
    }

    function searchProds(name) {
        const rowList = document.getElementById("AllPlan").childNodes[0].childNodes;
        for (let i = 1; i < rowList.length; i++) {
            var className = rowList[i].className;
            className = className.replace('row ','');
            if(name != 'all' && name.value != '' && name.value != null) {
                if(className != null && className != '' && className != undefined) { 
                    className = className.toLowerCase();
                    if(!className.includes(name.value)) {
                        rowList[i].style.display = 'none';
                    }
                }
            } else {
                if(className != null && className != '' && className != undefined) { 
                    if(entity != 'Personal Only' && className == 'Personal Tax Advisory') {
                        rowList[i].style.display = 'none';
                    } else {
                        rowList[i].style.display = 'table-row';
                    }
                }
            }
        }
    }

    function doSubmit() {
        var environment = "{!environment}";
        var oppId = "{!opportunity.Id}";

        if(flagDoSubmit == false) {
            document.getElementById('waitingScreen').style.display = "flex";

            Visualforce.remoting.Manager.invokeAction('GuidedSellingEditControllerExtension.doSubmit', environment, selectedProductsToQuote, oppId, accId, payTerms, deletedProducts, function(r,e) {
                if(e.status) {
                    var data = e.result;
                    const dataList = data.split(",");
                    if(dataList[1] == 'VIP') {
                        schedulerURL = dataList[0] + '?TID=DiscoveryVIP' + '&WID=' + dataList[2] + '&EmailCampaignID=' + dataList[3];
                    } else {
                        schedulerURL = dataList[0] + '?TID=' + dataList[1] + '&WID=' + dataList[2] + '&EmailCampaignID=' + dataList[3];
                    }
                    
                    document.getElementById('waitingScreen').style.display = "none";
                    flagDoSubmit = true;
                } else {
                    console.log('e.exception: ' + e.type);
                }
            });  
        }  
    }

    function getChargeOverURL() {

        var oppId = "{!opportunity.Id}";

        Visualforce.remoting.Manager.invokeAction('GuidedSellingEditControllerExtension.getChargeOverURL', oppId, function(r,e) {
            if(e.status) {
                //var coURL = e.result + '?utm_source=Sales&utm_term=Sales&utm_medium=Pricing+Calculator';
                var coURL = e.result + '?utm_source=Sales&utm_term=Sales&utm_medium=Guided+Selling';
                document.getElementById('Changeover').src = coURL;

                secondaryDisp = 'Sale';  
                whenDisposition = 'beforePayment';

            } else {
                console.log('e.exception: ' + e.type);
            }
        });    

    }

    function endPresentation() {
        whenDisposition = 'sale';
        saveNoteEditor();
        dispositionCall();
    }

    function optionEnd(reason) {
        document.getElementById('stopPres').style.opacity = 1;
        document.getElementById('stopPres').removeAttribute('disabled'); 

        if(reason.value == 'notLLC') {
            notEntityType = 'noLLC';
        } else if(reason.value == 'incomplete') {
            secondaryDisp = 'Canceled';
        } else if(reason.value == 'notInterested') {
            secondaryDisp = 'Not Interested'; 
        }        
    }

    function closePresentation() {
        saveNoteEditor();
        dispositionCall();
    }

    function dispositionCall() {

        //socket.connect();
        var id = '{!$CurrentPage.parameters.rId}';
        var siteToShow = '';
        console.log('Id of the record to open the event: ' + id);

        if(whenDisposition == 'early' || whenDisposition == 'beforePayment') {
            siteToShow = 'notSale';
        } else if(whenDisposition == 'afterPayment' || whenDisposition == 'sale') {
            siteToShow = 'sale';
        }  

        Visualforce.remoting.Manager.invokeAction('GuidedSellingEditControllerExtension.dispositionEvent', id, secondaryDisp, primaryDisp, accId, function(r,e) {
            if(e.status) {
                // content = {
                //     page: siteToShow, 
                // }
                // socket.emit("private message", {
                //     content
                // });

                //window.open('https://1800accountant--staging.sandbox.lightning.force.com/' + id + '');
                window.open('{!sfBaseUrl}' + id + '');
                window.close();
            } else {
                console.log('e.exception: ' + e.type);
            }
        });
    }

    function sendQuoteByEmail() {
        var oppId = "{!opportunity.Id}";

        Visualforce.remoting.Manager.invokeAction('GuidedSellingEditControllerExtension.sentEmail', oppId, function(r,e) {
            if(e.status) {
                document.getElementById('emailSent').style.display = "flex";
            } else {
                console.log('e.exception: ' + e.type);
            }
        });    
    }

    function followUpCall() {
        var conId = "{!opportunity.Account.Primary_Contact__c}";
        var userName = "{!opportunity.Account.Owner.Name}";
        var userId = "{!opportunity.Account.Owner.Id}";
        window.open('{!schedulerBaseUrl}?WID=' + conId + '&Setter=' + userName + '&SetterID=' + userId + '');

        isfinalScreen = true;
        secondaryDisp = 'Follow-Up';  
        whenDisposition = 'beforePayment';
    }

    function openNoteEditor() {
        document.getElementById('addNoteBtn').style.display = "none";
        document.getElementById('modalNotes').style.display = "block";
    }

    function closeNoteEditor() {
        document.getElementById('addNoteBtn').style.display = "block";
        document.getElementById('modalNotes').style.display = "none";
    }

    function saveNoteEditor() {
        var title = document.getElementById("noteTitle").value; 
        var body = document.getElementById("noteBody").value;
        var accId = '{!opportunity.Account.Primary_Contact__c}';

        if(title != '' && body != '') {
            Visualforce.remoting.Manager.invokeAction('GuidedSellingEditControllerExtension.saveNote', accId, title, body, function(r,e) {
                if(e.status) {
                    document.getElementById("noteTitle").value = ''; 
                    document.getElementById("noteBody").value = '';
                } else {
                    console.log('e.exception: ' + e.type);
                }
            });
        }
    }

    function isOpportunityPaid() {
        var oppId = "{!opportunity.Id}";
        Visualforce.remoting.Manager.invokeAction('GuidedSellingEditControllerExtension.isOpportunityPaid', oppId, function(r,e) {
            if(e.status) {
                if(e.result == 'Closed Won') {
                    nextSection(5, 'Post Purchase', 'paymentDetails', 'postPurchase');
                } else {
                    document.getElementById("PostPurchaseError").innerHTML = 'Please finish the payment in order to continue with the follow up.';
                }
            } else {
                console.log('e.exception: ' + e.type);
            }
        });          
    }

    function showAllAnswers(show) {

        if(requiredFields.includes("firstBusiness") && !document.getElementById('firstBusiness').childNodes[1].childNodes[3].childNodes[0].checked) {
            hideQuestion(show, 'Is this your first business?');
        }
        if(requiredFields.includes("years") && !document.getElementById('years').childNodes[1].childNodes[3].childNodes[0].checked) {
            hideQuestion(show, 'How many years have you been in business?');
        }
        if(requiredFields.includes("entity") && !document.getElementById('entity').childNodes[1].childNodes[3].childNodes[0].checked) {
            hideQuestion(show, 'What entity type is your business?');
        }
        if(requiredFields.includes("industry") && !document.getElementById('industry').childNodes[1].childNodes[3].childNodes[0].checked) {
            hideQuestion(show, 'What industry is your business in?');
        }
        if(requiredFields.includes("domState") && !document.getElementById('domState').childNodes[1].childNodes[3].childNodes[0].checked) {
            hideQuestion(show, 'What is your state of incorporation?');
        }
        // if(requiredFields.includes("state") && !document.getElementById('state').childNodes[1].childNodes[3].childNodes[0].checked) {
        //     hideQuestion(show, 'What is your state of residence?');
        // }
        if(requiredFields.includes("foreignState") && !document.getElementById('foreignState').childNodes[1].childNodes[3].childNodes[0].checked) {
            hideQuestion(show, 'What is your foreign state of incorporation?');
        }
        if(requiredFields.includes("startup") && !document.getElementById('startup').childNodes[1].childNodes[3].childNodes[0].checked) {
            hideQuestion(show, 'How much have you invested so far in start-up costs?');
        }
        if(requiredFields.includes("revenue") && !document.getElementById('revenue').childNodes[1].childNodes[3].childNodes[0].checked) {
            hideQuestion(show, 'What do you anticipate your revenue to be over the next 12 months?');
        }
        if(requiredFields.includes("profit") && !document.getElementById('profit').childNodes[1].childNodes[3].childNodes[0].checked) {
            hideQuestion(show, 'What do you project your 1st year profit to be over the next 12 months?');
        }
        // if(requiredFields.includes("investor") && !document.getElementById('investor').childNodes[1].childNodes[3].childNodes[0].checked) {
        //     hideQuestion(show, 'What is your total investor funding?');
        // }
        if(requiredFields.includes("transactions") && !document.getElementById('transactions').childNodes[1].childNodes[3].childNodes[0].checked) {
            hideQuestion(show, 'How many monthly bookkeeping transactions do you have?');
        }
        if(requiredFields.includes("owners") && !document.getElementById('owners').childNodes[1].childNodes[3].childNodes[0].checked) {
            hideQuestion(show, 'How many owners does your business have?');
        }
        // if(requiredFields.includes("foreignOwners") && !document.getElementById('foreignOwners').childNodes[1].childNodes[3].childNodes[0].checked) {
        //     hideQuestion(show, 'How many owners are outside the USA?');
        // }
        if(requiredFields.includes("runPayroll") && !document.getElementById('runPayroll').childNodes[1].childNodes[3].childNodes[0].checked) {
            hideQuestion(show, 'Have you run payroll before?');
        }
        if(requiredFields.includes("hasEmpContractors") && !document.getElementById('hasEmpContractors').childNodes[1].childNodes[3].childNodes[0].checked) {
            hideQuestion(show, 'Do you currently have any employees?');
        }
        if(requiredFields.includes("employees") && !document.getElementById('employees').childNodes[1].childNodes[3].childNodes[0].checked) {
            hideQuestion(show, 'How many employees do you have?');
        }
        // if(requiredFields.includes("contractors") && !document.getElementById('contractors').childNodes[1].childNodes[3].childNodes[0].checked) {
        //     hideQuestion(show, 'How many contractors do you have?');
        // }
        if(requiredFields.includes("filingStatus") && !document.getElementById('filingStatus').childNodes[1].childNodes[3].childNodes[0].checked) {
            hideQuestion(show, 'What is your tax filing status?');
        }
        if(requiredFields.includes("household") && !document.getElementById('household').childNodes[1].childNodes[3].childNodes[0].checked) {
            hideQuestion(show, 'What was your household W-2 income last year?');
        }
        // if(requiredFields.includes("foreignIncome") && !document.getElementById('foreignIncome').childNodes[1].childNodes[3].childNodes[0].checked) {
        //     hideQuestion(show, 'Do you have any foreign sourced income?');
        // }
        if(requiredFields.includes("hasRentals") && !document.getElementById('hasRentals').childNodes[1].childNodes[3].childNodes[0].checked) {
            hideQuestion(show, 'Do you currently have any rental properties?');
        }
        if(requiredFields.includes("rental") && !document.getElementById('rental').childNodes[1].childNodes[3].childNodes[0].checked) {
            hideQuestion(show, 'How many rental properties do you have?');
        }
        // if(requiredFields.includes("k1s") && !document.getElementById('k1s').childNodes[1].childNodes[3].childNodes[0].checked) {
        //     hideQuestion(show, 'How many K-1s are from other investments?');
        // }
        if(requiredFields.includes("workingHome") && !document.getElementById('workingHome').childNodes[1].childNodes[3].childNodes[0].checked) {
            hideQuestion(show, 'Will you be working from home?');
        }
        if(requiredFields.includes("footage") && !document.getElementById('footage').childNodes[1].childNodes[3].childNodes[0].checked) {
            hideQuestion(show, 'What is the approximate square footage of your home office?');
        }
        if(requiredFields.includes("drive") && !document.getElementById('drive').childNodes[1].childNodes[3].childNodes[0].checked) {
            hideQuestion(show, 'Will you use your personal vehicle for business purposes?');
        }
        if(requiredFields.includes("miles") && !document.getElementById('miles').childNodes[1].childNodes[3].childNodes[0].checked) {
            hideQuestion(show, 'How many business-related miles do you estimate youll drive per year?');
        }
        // if(requiredFields.includes("website") && !document.getElementById('website').childNodes[1].childNodes[3].childNodes[0].checked) {
        //     hideQuestion(show, 'Will your business have a web or e-commerce presence?');
        // }
    }

    function hideQuestion(hideBoolean, questionText, dependentFields){

        var questionNumber;
        //If we are showing the question
        if(true == hideBoolean){
            for(var i = 1; i < 31; i++) {
                if(null == questionToText.get(i)){
                    questionNumber = i;
                    questionToText.set(i, questionText);
                    textToQuestion.set(questionText, i);
                    break;
                }
            }

            // socket.connect();
            // content = {
            //     page: "Business Discovery Parts",
            //     hide: "false",
            //     answer: "",
            //     question: questionNumber,
            //     questionText: questionText
            // }
            // socket.emit("private message", {
            //     content
            // });
        } else {
            var questionNumber = textToQuestion.get(questionText);
            if(!dependentFields){
                questionToText.delete(questionNumber);
                textToQuestion.delete(questionText);
            }
            
            //socket.connect();
            // content = {
            //     page: "Business Discovery Parts",
            //     hide: "true",
            //     question: questionNumber,
            //     answer: "",
            //     questionText: questionText
            // }
            // socket.emit("private message", {
            //     content
            // });
        }
    }

    function getNextBtn(field) {

        scrollAmount = scrollAmount + 250;
        if('{!requiredFields}'.includes(field)){
            if(undefined == answeredQuestions.get(field)){
                numRequiredQAnswered ++;
                answeredQuestions.set(field, field);
            } 
        } else {
            numOptionalQAnswered++;
        }

        if('{!numRequiredFields}' == numRequiredQAnswered){ 
            document.getElementById('thirdStart').removeAttribute('disabled');
            document.getElementById('thirdStart').style.opacity = "1";
            document.getElementById('errorMessage').style.display = "none";        
        }     
    }

    function removeRequiredFieldAnswered(question) {
        
        var index = 0;

        if('Is this your first business?' == question) {
            index = requiredUnasweredFields.indexOf('firstBusiness');
            if (index > -1) {
                requiredUnasweredFields.splice(index, 1);
            }
        }
        if('How many years have you been in business?' == question) {
            index = requiredUnasweredFields.indexOf('years');
            if (index > -1) {
                requiredUnasweredFields.splice(index, 1);
            }
        }
        if('What entity type is your business?' == question) {
            index = requiredUnasweredFields.indexOf('entity');
            if (index > -1) {
                requiredUnasweredFields.splice(index, 1);
            }
        }
        if('What industry is your business in?' == question) {
            index = requiredUnasweredFields.indexOf('industry');
            if (index > -1) {
                requiredUnasweredFields.splice(index, 1);
            }
        }
        if('What is your state of incorporation?' == question) {
            index = requiredUnasweredFields.indexOf('domState');
            if (index > -1) {
                requiredUnasweredFields.splice(index, 1);
            }
        }
        if('What is your foreign state of incorporation?' == question) {
            index = requiredUnasweredFields.indexOf('foreignState');
            if (index > -1) {
                requiredUnasweredFields.splice(index, 1);
            }
        }
        // if('What is your state of residence?' == question) {
        //     index = requiredUnasweredFields.indexOf('state');
        //     if (index > -1) {
        //         requiredUnasweredFields.splice(index, 1);
        //     }
        // }
        if('How much have you invested so far in start-up costs?' == question) {
            index = requiredUnasweredFields.indexOf('startup');
            if (index > -1) {
                requiredUnasweredFields.splice(index, 1);
            }
        }
        if('What do you anticipate your revenue to be over the next 12 months?' == question) {
            index = requiredUnasweredFields.indexOf('revenue');
            if (index > -1) {
                requiredUnasweredFields.splice(index, 1);
            }
        }
        if('What do you project your 1st year profit to be over the next 12 months?' == question) {
            index = requiredUnasweredFields.indexOf('profit');
            if (index > -1) {
                requiredUnasweredFields.splice(index, 1);
            }
        }
        // if('What is your total investor funding?' == question) {
        //     index = requiredUnasweredFields.indexOf('investor');
        //     if (index > -1) {
        //         requiredUnasweredFields.splice(index, 1);
        //     }
        // }
        if('How many monthly bookkeeping transactions do you have?' == question) {
            index = requiredUnasweredFields.indexOf('transactions');
            if (index > -1) {
                requiredUnasweredFields.splice(index, 1);
            }
        }
        if('How many owners does your business have?' == question) {
            index = requiredUnasweredFields.indexOf('owners');
            if (index > -1) {
                requiredUnasweredFields.splice(index, 1);
            }
        }
        // if('How many owners are outside the USA?' == question) {
        //     index = requiredUnasweredFields.indexOf('foreignOwners');
        //     if (index > -1) {
        //         requiredUnasweredFields.splice(index, 1);
        //     }
        // }
        if('How many employees do you have?' == question) {
            index = requiredUnasweredFields.indexOf('employees');
            if (index > -1) {
                requiredUnasweredFields.splice(index, 1);
            }
        }
        // if('How many contractors do you have?' == question) {
        //     index = requiredUnasweredFields.indexOf('contractors');
        //     if (index > -1) {
        //         requiredUnasweredFields.splice(index, 1);
        //     }
        // }
        if('What is your tax filing status?' == question) {
            index = requiredUnasweredFields.indexOf('filingStatus');
            if (index > -1) {
                requiredUnasweredFields.splice(index, 1);
            }
        }
        if('What was your household W-2 income last year?' == question) {
            index = requiredUnasweredFields.indexOf('household');
            if (index > -1) {
                requiredUnasweredFields.splice(index, 1);
            }
        }
        if('How many rental properties do you have?' == question) {
            index = requiredUnasweredFields.indexOf('rental');
            if (index > -1) {
                requiredUnasweredFields.splice(index, 1);
            }
        }
        // if('How many K-1s are from other investments?' == question) {
        //     index = requiredUnasweredFields.indexOf('k1s');
        //     if (index > -1) {
        //         requiredUnasweredFields.splice(index, 1);
        //     }
        // }
        if('What is the approximate square footage of your home office?' == question) {
            index = requiredUnasweredFields.indexOf('footage');
            if (index > -1) {
                requiredUnasweredFields.splice(index, 1);
            }
        }
        if('How many business-related miles do you estimate youll drive per year?' == question) {
            index = requiredUnasweredFields.indexOf('miles');
            if (index > -1) {
                requiredUnasweredFields.splice(index, 1);
            }
        }
        if('Have you run payroll before?' == question) {
            index = requiredUnasweredFields.indexOf('runPayroll');
            if (index > -1) {
                requiredUnasweredFields.splice(index, 1);
            }
        }
        if('Do you currently have any employees?' == question) {
            index = requiredUnasweredFields.indexOf('hasEmpContractors');
            if (index > -1) {
                requiredUnasweredFields.splice(index, 1);
            }
        }
        // if('Do you have any foreign sourced income?' == question) {
        //     index = requiredUnasweredFields.indexOf('foreignIncome');
        //     if (index > -1) {
        //         requiredUnasweredFields.splice(index, 1);
        //     }
        // }
        if('Do you currently have any rental properties?' == question) {
            index = requiredUnasweredFields.indexOf('hasRentals');
            if (index > -1) {
                requiredUnasweredFields.splice(index, 1);
            }
        }
        if('Will you be working from home?' == question) {
            index = requiredUnasweredFields.indexOf('workingHome');
            if (index > -1) {
                requiredUnasweredFields.splice(index, 1);
            }
        }
        if('Will you use your personal vehicle for business purposes?' == question) {
            index = requiredUnasweredFields.indexOf('drive');
            if (index > -1) {
                requiredUnasweredFields.splice(index, 1);
            }
        }
        // if('Will your business have a web or e-commerce presence?' == question) {
        //     index = requiredUnasweredFields.indexOf('website');
        //     if (index > -1) {
        //         requiredUnasweredFields.splice(index, 1);
        //     }
        // }
    }

    function populateAnswer(question, answer, picklist) {
        var saveQuestion = false;
        var questionNumber = "";

        removeRequiredFieldAnswered(question);
        setYesNoFields(question, answer);

        if(null == textToQuestion.get(question)){
            var saveQuestion = true;
        } else {
            questionNumber = textToQuestion.get(question);
        }
        if (picklist) {
            answer = answer.value;
        } 

        var numRequiredQuestions = parseInt('{!numRequiredFields}') + parseInt(numOptionalQAnswered);

        // socket.connect();
        // content = {
        //     page: "Business Discovery Parts",
        //     question: questionNumber,
        //     answer: answer,
        //     save: saveQuestion,
        //     questionText: question,
        //     numRequiredQuestions: numRequiredQuestions
        // }

        // socket.emit("private message", {
        //     content
        // });

        if(question == 'How many employees do you have?') {
            var num = parseInt(answer);
            num = num + 1;
            const payrollList = document.querySelectorAll("[data-product-qty='Payroll']");
            if(num == 51 || num > 51) {
                answer = '51+';
                for(var i = 0; i < payrollList.length; i++) {
                    payrollList[i].value = '51';
                }
            } else {
                answer = num.toString();
                for(var i = 0; i < payrollList.length; i++) {
                    payrollList[i].value = num.toString();
                }
            }
        }

        //filling up the map with the answers 
        if(answers != null && answers != '') {
            answers = answers + '///' + question + '' + answer;
        } else {
            answers = question + '' + answer;
        }
    }

    function whatToDo() {
        
        var endNote = document.getElementById('endNote').innerHTML;
        var environment = "{!environment}";

        if(endNote == 'Review Business Discovery') {
            document.getElementById('firstBackBtn').style.display = "block";
            reviewBusiDisc(true);
        } else {
            document.getElementById('waitingScreen').style.display = "flex";
 
            Visualforce.remoting.Manager.invokeAction('GuidedSellingEditControllerExtension.saveAnswers', answers, businessId, accId, environment, function(r,e) {
               if(e.status) {
                    beenPastReview = true;
                    CallApexMethod();
                    calculateTaxSavings();  
                    reviewBusiDisc(false);
                    document.getElementById('waitingScreen').style.display = "none";
               } else if(e.type === 'exception') {
                   alert(e.message);
               } else {
                   alert(e.message);
               }
            });
        }
    }

    /* window.addEventListener('beforeunload', (event) => {
        event.preventDefault();
        event.returnValue = '';
        saveNoteEditor();
        dispositionCall();
    }); */
    </script>

        <body class="body" id="body" onload="loadingPage()">
            <div class="se-pre-con"></div>
            <p id="onTime" style="display: none;"></p>
            <p id="originalValue" style="display: none;"></p>
            
            <div id="waitingScreen">
                <div id="whiteWaiting">
                    <div id="loading" style="margin-left: 46%;margin-top: 17%;">
                        <img id="waiting" src="{!$Resource.waiting}"/>
                    </div>
                </div>
            </div>
            <div class="slds-scope">
                <div class="myapp">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-grid_vertical">
                            <!-- Section 1 Screen divided: Client details / What client sees -->
                            <div class="slds-col slds-size--1-of-1 slds-small-size--2-of-2 slds-medium-size--4-of-4">
                                
                                <!-- Client details -->
                                <div class="slds-box slds-box_x-small slds-text-align_left slds-m-around--x-small" id="formClientDet">
                                    
                                    <div class="quote" id="quoteEdit">
                                        <table id="quoteTable">
                                            <tr>
                                                <td>
                                                    <p class="quoteTitle">Current Quote</p>
                                                </td>
                                                <td>
                                                    <p class="quoteText" id="quoteText" ></p>
                                                </td>
                                                <td>
                                                    <button class="start" style="color: white;" id="quoteEdit" onclick="showModalEditPackage();">Edit</button>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                    
                                    <div class="title">
                                        <p class="titleTxt">
                                            Client Details
                                        </p>
                                    </div>
                                    <div class="accInfo"> 
                                        <p class="AccName">
                                            {!opportunity.Account.Name}
                                        </p>
                                        <p class="leadSource">
                                            Lead from {!opportunity.Account.Lead_Source__c}
                                        </p>
                                    </div>
                                    <div class="accContacts">
                                        <table id="contTable">
                                            <thead></thead>
                                            <tbody id="tableBody">
                                                <tr>
                                                    <td>
                                                        <spam class="contIni">
                                                            <apex:outputText value="{!LEFT(businessOwner.First_Name__c,1)}"></apex:outputText>
                                                        </spam>
                                                    </td>
                                                    <td>
                                                        <div class="contInfo">
                                                            <p class="contName">{!businessOwner.First_Name__c} {!businessOwner.Last_Name__c}</p>
                                                            <p class="contRole">Primary Contact</p>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="contContaInfo">
                                                            <p class="contPhone" id="contphone">{!businessOwner.Phone__c}</p>
                                                            <p class="contEmail">{!businessOwner.Email__c}</p>
                                                            <p class="contContactId" style="display:none">{!businessOwner.Id}</p>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="contMore">
                                                            <span class="material-icons" onClick="prinrowMenu0();" id="btnSubMenu">more_vert</span>
                                                            <div id="prinmenu0" class="dropdown-content">
                                                                <a onclick="editPrimary(this);"><span class="material-icons" id="icon">edit</span>&nbsp;Edit Partner</a>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                
                                <!-- What client sees -->
                                <div class="slds-box slds-box_x-small slds-text-align_center slds-m-around--x-small" id="formClientView">
                                    <!-- <button class="openClientView" onclick="showModalClientScreen();"><span class="material-icons" style="vertical-align: middle;color: rgba(18, 23, 36, 0.65);">open_in_full</span></button>
                                    <iframe id="inlineFrameExample"
                                            title="Inline Frame Example"
                                            height="100%" 
                                            width="100%"
                                            class="dims"
                                            scrolling="yes"
                                            src="https://test.com">
                                    </iframe>
                                    <p class="noteClientView">
                                        What <span id="additionalName0">{!opportunity.Account.Primary_Contact__r.FirstName} {!opportunity.Account.Primary_Contact__r.LastName}</span> is seeing
                                    </p> -->
                                </div>
                            </div>
                        </div>
                        <!-- Section 2 Introduccion/Script -->
                        <div class="slds-col slds-size--1-of-1 slds-small-size--1-of-2 slds-medium-size--2-of-4">
                            
                            <div class="slds-box slds-box_x-small slds-text-align_left slds-m-around--x-small" id="menuBody">
                                <table class="menu">
                                    <tr>
                                        <td>
                                            <div class="form-floating">
                                                <select class="form-select" id="menuOpts" onchange="goToPage()">
                                                    <option>Discovery Questions</option> 
                                                    <option>Review Business Discovery</option>
                                                    <option>Prepared Packages</option> 
                                                    <option>Verify Information</option> 
                                                    <option>Payment Details</option> 
                                                    <option>Post Purchase</option> 
                                                </select>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="form-btn">
                                                <button class="btnStop" onclick="showModalCancel();"><i class="fas fa-times">&nbsp;&nbsp;</i>End Presentation</button>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                                <hr/>

                                <div class="modal" id="modalClientScreenn">
                                    <div id="modalClientScreen">
                                        <div id="modalHeader" style="padding-top: 1%;position: relative;background: white;">
                                            <p class="modalHeaderTitle" style="display: inline-flex;padding: 0px 0px 13px 55px;">Example of what &nbsp;<span id="additionalName0">{!opportunity.Account.Primary_Contact__r.FirstName} {!opportunity.Account.Primary_Contact__r.LastName}</span>&nbsp; should be seeing</p>
                                            <button class="modalHeaderClose" style="margin-top: 0%;padding: 0px 55px 15px 0px;color: rgba(18, 23, 36, 0.91);" onclick="closeModalClientScreen();"><i class="fas fa-times"></i></button>
                                        </div>
                                        <div class="clientContent">
                                            <div id="modalBody">
                                                <iframe id="inlineFrameExampleClient"
                                                    title="Inline Frame Example"
                                                    height="100%" 
                                                    width="100%"
                                                    class="dimss"
                                                    scrolling="yes"
                                                    src="{!siteBaseUrl}/Client?rId={!$CurrentPage.parameters.rId}&session={!$CurrentPage.parameters.sessionId}&token={!$CurrentPage.parameters.pToken}">
                                            </iframe>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="modal" id="modalSkip">
                                    <div class="content">
                                        <div id="modalBody">
                                            <p class="modalTitle">
                                                Do you want to skip the rest of the presentation and go to the available packages?
                                            </p>
                                            <br/>
                                            <p class="modalDesc">
                                                Youll still be able to adjust the packages.
                                            </p>
                                        </div>
                                        <div id="modalFooter">
                                            <button class="btnCloseModal" onclick="closeModalSkip();">Cancel</button>
                                            <button class="start" style="color: white;" id="skiptoSalee" onclick=""><i class="fas fa-forward">&nbsp;&nbsp;</i>Skip to Quote</button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="modal" id="modalCancel">
                                    <div class="content">
                                        <div id="modalBody">
                                            <p class="modalTitle">
                                                Why are you ending the presentation?
                                            </p>
                                            <br/>
                                            <p class="modalOption">
                                                Select an option (Required)
                                            </p>
                                            <input type="radio" id="notLLC" name="reasonEnding" value="notLLC" onchange="optionEnd(this);"/>
                                            <label for="notLLC" style="font-weight: 400;font-size: 16px;line-height: 24px;letter-spacing: 0.01em;color: rgba(18, 23, 36, 0.91);">The clients business entity is not an LLC</label>
                                            <br/>
                                            <input type="radio" id="incomplete" name="reasonEnding" value="incomplete" onchange="optionEnd(this);"/>
                                            <label for="incomplete" style="font-weight: 400;font-size: 16px;line-height: 24px;letter-spacing: 0.01em;color: rgba(18, 23, 36, 0.91);">The consultation is incomplete</label>
                                            <br/>
                                            <input type="radio" id="notInterested" name="reasonEnding" value="notInterested" onchange="optionEnd(this);"/>
                                            <label for="notInterested" style="font-weight: 400;font-size: 16px;line-height: 24px;letter-spacing: 0.01em;color: rgba(18, 23, 36, 0.91);">The client is not interested</label>
                                            <div id="errorMess" style="display: inline-flex;">
                                                <span class="material-icons" id="errorMessageIcon" style="padding-left: 2%;padding-top: 3%;">warning_amber</span>
                                                <p id="errorMessageText">
                                                    Ending the presentation will not hang up your phone call. 
                                                    You will need to return to your phone application to disconnect the call with the client.
                                                </p>
                                            </div>
                                        </div>
                                        <div id="modalFooter">
                                            <button class="btnCloseModal" onclick="closeModalCancel();">Cancel</button>
                                            <button class="start" style="color: white;" disabled="disabled" id="stopPres" onclick="closePresentation();"><i class="fas fa-times">&nbsp;&nbsp;</i>Stop Presentation</button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="modal" id="modal">
                                    <div class="content">
                                        <div id="modalHeader">
                                            <table id="modalHeaderTable">
                                                <tr>
                                                    <td>
                                                        <p class="modalHeaderTitle">Add a Partner</p>
                                                    </td>
                                                    <td>
                                                        <button class="modalHeaderClose" onclick="closeModal();"><i class="fas fa-times"></i></button>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                        <div id="modalBody">
                                            <div class="form-floating">
                                                <input type="text" class="form-control" id="firstName" name="firstName" placeholder="Partners First Name (Required)" required="required" onkeyup="disableButton();"/>
                                                <label for="firstName">Partners First Name (Required)</label>
                                            </div>
                                            <div class="form-floating">
                                                <input type="text" class="form-control" id="lastName" name="lastName" placeholder="Partners Last Name (Required)" required="required" onkeyup="disableButton();"/>
                                                <label for="lastName">Partners Last Name (Required)</label>
                                            </div>
                                            <div class="form-floating">
                                                <input type="text" class="form-control" id="role" placeholder="Role (Optional)" onkeyup="disableButton();"/>
                                                <label for="role">Role (Optional)</label>
                                            </div>
                                            <div class="form-floating">
                                                <input type="email" class="form-control" id="email" name="email" placeholder="Email (Required)" required="required" onkeyup="disableButton();" style="width: 360px;"/>
                                                <label for="email">Email (Required)</label>
                                                <p id="emailFormatError" style="color: red"></p>
                                            </div>
                                            <div class="form-floating">
                                                <input type="tel" class="form-control" id="phone" name="phone" placeholder="Phone (Required)" required="required" onkeyup="disableButton();" style="width: 240px;"/>
                                                <label for="phone">Phone (Required)</label>
                                            </div>
                                            <p id="contactId" style="display:none"></p>
                                            <p id="partnerResponseErrors" style="color: red"></p>
                                        </div>
                                        <div id="modalFooter">
                                            <button class="btnCloseModal" onclick="closeModal();">Cancel</button>
                                            <button class="btnAddRow" id="btnAddRow" onclick="addRow(this); return false;">Add Partner</button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="modal" id="modalEditPackage">
                                    <div class="content" style="width:980px;padding-bottom: 10px;height: 570px;transform: translateY(15%);">
                                        <div id="modalHeader">
                                            <table id="modalHeaderTable">
                                                <tr>
                                                    <td>
                                                        <p class="modalHeaderTitle">Edit Package</p>
                                                    </td>
                                                    <td>
                                                        <button class="modalHeaderClose" id="closeOptions" onclick="closeModalEditPackage();"><i class="fas fa-times"></i></button>
                                                        <button class="start" style="color: white;opacity: 1;float: right;margin-right: 4%;" id="discardEditing" onclick="confimCloseModalEditPackage();"><i class="fas fa-times">&nbsp;&nbsp;</i>Discard Changes</button>
                                                        <button class="start" style="float: right;margin-right: 4%;" id="keepEditing" onclick="backToEditing();"><span class="material-icons" style="vertical-align: middle;">keyboard_return&nbsp;&nbsp;</span>Keep Editing</button>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                        <div id="modalBodyPackage">
                                            
                                            <div class="tabs">
                                                <div class="tab-2">
                                                    <label for="tab2-1" id="tab2-1label">Current Plan</label>
                                                    <input id="tab2-1" name="tabs-two" type="radio" checked="checked" onchange="displayTablePlan('currentPlan', this, false);"/>
                                                    <div></div>
                                                </div>
                                                <div class="tab-2">
                                                    <label for="tab2-2" id="tab2-2label">All</label>
                                                    <input id="tab2-2" name="tabs-two" type="radio" onchange="displayTablePlan('AllPlan', this, false);"/>
                                                    <div></div>
                                                </div>
                                                <div class="tab-2">
                                                    <label for="tab2-3" id="tab2-3label">Frequent</label>
                                                    <input id="tab2-3" name="tabs-two" type="radio" onchange="displayTablePlan('frequentPlan', this, false);"/>
                                                    <div></div>
                                                </div>
                                                <div class="tab-2">
                                                    <label for="tab2-4" id="tab2-4label">Business</label>
                                                    <input id="tab2-4" name="tabs-two" type="radio" onchange="displayTablePlan('businessPlan', this, false);"/>
                                                    <div></div>
                                                </div>
                                                <div class="tab-2">
                                                    <label for="tab2-5" id="tab2-5label">Personal</label>
                                                    <input id="tab2-5" name="tabs-two" type="radio" onchange="displayTablePlan('personalPlan', this, false);"/>
                                                    <div></div>
                                                </div>
                                                <div class="tab-2">
                                                    <label for="tab2-6" id="tab2-6label">Payroll</label>
                                                    <input id="tab2-6" name="tabs-two" type="radio" onchange="displayTablePlan('payrollPlan', this, false);"/>
                                                    <div></div>
                                                </div>
                                                <div class="tab-2">
                                                    <label for="tab2-7" id="tab2-7label">Bookkeeping</label>
                                                    <input id="tab2-7" name="tabs-two" type="radio" onchange="displayTablePlan('bookkeepingPlan', this, false);"/>
                                                    <div></div>
                                                </div>
                                                <div class="tab-2">
                                                    <label for="tab2-8" id="tab2-8label">Entity Formation</label>
                                                    <input id="tab2-8" name="tabs-two" type="radio" onchange="displayTablePlan('entityFormationPlan', this, false);"/>
                                                    <div></div>
                                                </div>
                                            </div>
                                            
                                            <table id="modalBodyTitleTable">
                                                <tr>
                                                    <td>
                                                        <div class="form-floating" style="margin-bottom: 2%;width: 55%;">
                                                            <input type="text" placeholder="Search products" class="form-control" id="searchProd" style="margin-bottom: 5%;padding-left: 40px;padding-top: 9px;width: 300%;" onkeyup="searchProds(this)"/>
                                                            <label for="searchProd" id="searchProd">
                                                                <span class="material-icons" style="color: rgba(18, 23, 36, 0.65);" >
                                                                    <span class="material-icons">search</span>
                                                                </span>
                                                            </label>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </table>

                                            <apex:outputpanel id="dProds">
                                                <div data-checkbox-group="data-checkbox-group" id="currentPlan">
                                                    <div class="planPackageTable" id="selectedPlan">
                                                        <div class="row" style="border-bottom: 1px solid rgba(18, 23, 36, 0.2);">
                                                            <div class="col" style="text-align: center;vertical-align: middle;padding-left: 24px;">
                                                                <input data-master-checkbox="data-master-checkbox" type="checkbox" id="master-currentPlan" name="master-currentPlan" class="master" checked="checked" value="true" onchange="checkAll(this);"/>
                                                            </div>
                                                            <div class="col" style="padding-left: 30px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;">Product</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 315px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;">Cost</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 62px;">
                                                                <p class="planPackageTableTitle" style="width: 160px;text-align: left;">Frequency</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 0px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;width: 110px;">Quantity</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 16px;">
                                                                <p class="planPackageTableTitle" style="text-align: right;">Subtotal</p>
                                                            </div>
                                                        </div>
                                                        <apex:repeat value="{!defaultProducts}" var="p">
                                                            <div id="{!p.Id}" class="row {!p.Name}" style="display: table-row;border-bottom: 1px solid rgba(18, 23, 36, 0.2);">
                                                                <div class="col" style="text-align: center;vertical-align: middle;padding-left: 17px;">
                                                                    <input type="checkbox" html-data-id="{!p.Id}" data-product="{!p.Name}" style="Height: 13px;margin-left: 12px;" id="actionPlanTable" class="{!p.Id}" onchange="autoChecks('{!p.Name}', this);justRemoveProduct('{!p.Id}');" checked="checked" value="true"/> 
                                                                </div>
                                                                <div class="col" style="padding-left: 0px;">
                                                                    <p class="planPackageTableProd">{!p.Name}</p>
                                                                </div>
                                                                <div class="col" style="padding-left: 195px;">
                                                                    <p class="planPackageTableCost" data-product-cost="{!p.Name}" data-amount="{!p.Name}">${!defaultPrices[p.Id]}</p>
                                                                </div>
                                                                <div class="col" style="width: 160px;">
                                                                    <apex:outputPanel rendered="{!IF(p.AnnualMonthlyOption__c == true, true, false)}">
                                                                        <div class="radio-group">
                                                                            <input type="checkbox" class="radiobtn {!p.Id}yearly" id="{!p.Id}yearly" name="selector" value="{!IF(OR('Annual' == p.Billing_Frequency__c,'One-Time' == p.Billing_Frequency__c), true, false)}" onchange="calcFrecuencyChange(this, '{!p.Id}', '{!p.Name}', '{!p.Billing_Frequency__c}', '{!p.AnnualMonthlyOption__c}');"/>
                                                                            <label for="{!p.Id}yearly" class="radioLabel"  >Yearly</label>
                                                                            
                                                                            <input type="checkbox" class="radiobtn {!p.Id}monthly" id="{!p.Id}monthly" name="selector" value="{!IF(p.Billing_Frequency__c == 'Monthly', true, false)}" onchange="calcFrecuencyChange(this, '{!p.Id}', '{!p.Name}', '{!p.Billing_Frequency__c}', '{!p.AnnualMonthlyOption__c}');"/>
                                                                            <label for="{!p.Id}monthly" class="radioLabel">Monthly</label>
                                                                        </div>
                                                                    </apex:outputPanel>
                                                                    <apex:outputPanel rendered="{!IF(p.AnnualMonthlyOption__c == true, false, true)}">
                                                                        <div class="radio-group">
                                                                            <output type="checkbox" class="radiobtn" id="{!p.Id}yearly" name="selector" disabled="disabled">{!IF(OR('Annual' == p.Billing_Frequency__c,'One-Time' == p.Billing_Frequency__c), true, false)}</output>
                                                                            <label for="{!p.Id}yearly" class="radioLabel {!p.Id}yearlylabel" id="{!p.Id}yearlylabel">Yearly</label>
                                                                                
                                                                                <output type="checkbox" class="radiobtn" id="{!p.Id}monthly" name="selector" disabled="disabled">{!IF(p.Billing_Frequency__c == 'Monthly', true, false)}</output>
                                                                            <label for="{!p.Id}monthly" class="radioLabel {!p.Id}monthlylabel" id="{!p.Id}monthlylabel">Monthly</label>
                                                                        </div>
                                                                    </apex:outputPanel>
                                                                </div>
                                                                <div class="col" style="width: 110px;">
                                                                    <div class="form-floating">
                                                                        <input type="tel" data-product-qty="{!p.Name}" class="form-control {!p.Id}qty" id="planPackageTableQuantity" style="display: {!IF(p.Disable_QTY_on_Calc__c == true, 'none', 'flex')}" value="1" oninput="calcQuantityChange(this, '{!p.Name}');"/>
                                                                        <output type="tel" data-product-qty="{!p.Name}" class="form-control" id="planPackageTableQuantityOutput" style="display: {!IF(p.Disable_QTY_on_Calc__c == true, 'flex', 'none')}; background: rgba(18, 23, 36, 0.2);opacity: 0.75;">1</output>
                                                                    </div>
                                                                </div>
                                                                <div class="col" style="40px">
                                                                    <p class="planPackageTableSubtotal {!p.Id}subtotal" data-product-subtotal="{!p.Name}" data-amount="{!p.Name}">${!defaultPrices[p.Id]}</p>
                                                                </div>
                                                            </div>
                                                        </apex:repeat>
                                                    </div>
                                                </div>
                                            </apex:outputpanel>

                                            <apex:outputpanel id="fProds">
                                                <div data-checkbox-group="data-checkbox-group" id="AllPlan">
                                                    <div class="planPackageTable">
                                                        <div class="row" style="border-bottom: 1px solid rgba(18, 23, 36, 0.2);">
                                                            <div class="col" style="text-align: center;vertical-align: middle;padding-left: 24px;">
                                                                <input data-master-checkbox="data-master-checkbox" type="checkbox" id="master-AllPlan" name="master-AllPlan" class="master" onchange="checkAll(this);"/>
                                                            </div>
                                                            <div class="col" style="padding-left: 30px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;">Product</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 315px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;">Cost</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 62px;">
                                                                <p class="planPackageTableTitle" style="width: 160px;text-align: left;">Frequency</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 0px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;width: 110px;">Quantity</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 16px;">
                                                                <p class="planPackageTableTitle" style="text-align: right;">Subtotal</p>
                                                            </div>
                                                        </div>
                                                        <apex:repeat value="{!finalProducts}" var="p">
                                                            <div id="{!p.Id}" class="row {!p.Name}" style="display: table-row;border-bottom: 1px solid rgba(18, 23, 36, 0.2);">
                                                                <div class="col" style="text-align: center;vertical-align: middle;padding-left: 17px;">
                                                                    <input type="checkbox" html-data-id="{!p.Id}" data-product="{!p.Name}" style="Height: 13px;margin-left: 12px;" id="actionPlanTable" class="{!p.Id}" onchange="autoChecks('{!p.Name}', this);addRemoveProduct(this, '{!p.Id}', '{!p.Name}', '{!defaultPrices[p.Id]}', '{!p.AnnualMonthlyOption__c}', '{!p.Billing_Frequency__c}', '{!p.Disable_QTY_on_Calc__c}');"/>
                                                                </div>
                                                                <div class="col" style="padding-left: 0px;">
                                                                    <p class="planPackageTableProd">{!p.Name}</p>
                                                                </div>
                                                                <div class="col" style="padding-left: 195px;">
                                                                    <p class="planPackageTableCost" data-product-cost="{!p.Name}" data-amount="{!p.Name}">${!defaultPrices[p.Id]}</p>
                                                                </div>
                                                                <div class="col" style="width: 160px;">
                                                                    <apex:outputPanel rendered="{!IF(p.AnnualMonthlyOption__c == true, true, false)}">
                                                                        <div class="radio-group">
                                                                            <input type="checkbox" class="radiobtn {!p.Id}yearly" id="{!p.Id}yearly" name="selector" value="{!IF(OR('Annual' == p.Billing_Frequency__c,'One-Time' == p.Billing_Frequency__c), true, false)}" onchange="calcFrecuencyChange(this, '{!p.Id}', '{!p.Name}', '{!p.Billing_Frequency__c}', '{!p.AnnualMonthlyOption__c}');"/>
                                                                            <label for="{!p.Id}yearly" class="radioLabel"  >Yearly</label>
                                                                            
                                                                            <input type="checkbox" class="radiobtn {!p.Id}monthly" id="{!p.Id}monthly" name="selector" value="{!IF(p.Billing_Frequency__c == 'Monthly', true, false)}" onchange="calcFrecuencyChange(this, '{!p.Id}', '{!p.Name}', '{!p.Billing_Frequency__c}', '{!p.AnnualMonthlyOption__c}');"/>
                                                                            <label for="{!p.Id}monthly" class="radioLabel">Monthly</label>
                                                                        </div>
                                                                    </apex:outputPanel>
                                                                    <apex:outputPanel rendered="{!IF(p.AnnualMonthlyOption__c == true, false, true)}">
                                                                        <div class="radio-group">
                                                                            <output type="checkbox" class="radiobtn" id="{!p.Id}yearly" name="selector" disabled="disabled">{!IF(OR('Annual' == p.Billing_Frequency__c,'One-Time' == p.Billing_Frequency__c), true, false)}</output>
                                                                            <label for="{!p.Id}yearly" class="radioLabel {!p.Id}yearlylabel" id="{!p.Id}yearlylabel">Yearly</label>
                                                                                
                                                                                <output type="checkbox" class="radiobtn" id="{!p.Id}monthly" name="selector" disabled="disabled">{!IF(p.Billing_Frequency__c == 'Monthly', true, false)}</output>
                                                                            <label for="{!p.Id}monthly" class="radioLabel {!p.Id}monthlylabel" id="{!p.Id}monthlylabel">Monthly</label>
                                                                        </div>
                                                                    </apex:outputPanel>
                                                                </div>
                                                                <div class="col" style="width: 110px;">
                                                                    <div class="form-floating">
                                                                        <input type="tel" data-product-qty="{!p.Name}" class="form-control {!p.Id}qty" id="planPackageTableQuantity" style="display: {!IF(p.Disable_QTY_on_Calc__c == true, 'none', 'flex')}" value="1" oninput="calcQuantityChange(this, '{!p.Name}');"/>
                                                                        <output type="tel" data-product-qty="{!p.Name}" class="form-control" id="planPackageTableQuantityOutput" style="display: {!IF(p.Disable_QTY_on_Calc__c == true, 'flex', 'none')}; background: rgba(18, 23, 36, 0.2);opacity: 0.75;">1</output>
                                                                    </div>
                                                                </div>
                                                                <div class="col" style="40px">
                                                                    <p class="planPackageTableSubtotal {!p.Id}subtotal" data-product-subtotal="{!p.Name}" data-amount="{!p.Name}">${!defaultPrices[p.Id]}</p>
                                                                </div>
                                                            </div>
                                                        </apex:repeat>
                                                    </div>
                                                </div>
                                            </apex:outputpanel>

                                            <apex:outputpanel id="frProds">
                                                <div data-checkbox-group="data-checkbox-group" id="frequentPlan">
                                                    <div class="planPackageTable">
                                                        <div class="row" style="border-bottom: 1px solid rgba(18, 23, 36, 0.2);">
                                                            <div class="col" style="text-align: center;vertical-align: middle;padding-left: 24px;">
                                                                <input data-master-checkbox="data-master-checkbox" type="checkbox" id="master-frequentPlan" name="master-frequentPlan" class="master" onchange="checkAll(this);"/>
                                                            </div>
                                                            <div class="col" style="padding-left: 30px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;">Product</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 315px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;">Cost</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 62px;">
                                                                <p class="planPackageTableTitle" style="width: 160px;text-align: left;">Frequency</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 0px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;width: 110px;">Quantity</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 16px;">
                                                                <p class="planPackageTableTitle" style="text-align: right;">Subtotal</p>
                                                            </div>
                                                        </div>
                                                        <apex:repeat value="{!frequentProducts}" var="p">
                                                            <div id="{!p.Id}" class="row {!p.Name}" style="display: table-row;border-bottom: 1px solid rgba(18, 23, 36, 0.2);">
                                                                <div class="col" style="text-align: center;vertical-align: middle;padding-left: 17px;">
                                                                    <input type="checkbox" html-data-id="{!p.Id}" data-product="{!p.Name}" style="Height: 13px;margin-left: 12px;" id="actionPlanTable" class="{!p.Id}" onchange="autoChecks('{!p.Name}', this);addRemoveProduct(this, '{!p.Id}', '{!p.Name}', '{!defaultPrices[p.Id]}', '{!p.AnnualMonthlyOption__c}', '{!p.Billing_Frequency__c}', '{!p.Disable_QTY_on_Calc__c}');"/>
                                                                </div>
                                                                <div class="col" style="padding-left: 0px;">
                                                                    <p class="planPackageTableProd">{!p.Name}</p>
                                                                </div>
                                                                <div class="col" style="padding-left: 195px;">
                                                                    <p class="planPackageTableCost" data-product-cost="{!p.Name}" data-amount="{!p.Name}">${!defaultPrices[p.Id]}</p>
                                                                </div>
                                                                <div class="col" style="width: 160px;">
                                                                    <apex:outputPanel rendered="{!IF(p.AnnualMonthlyOption__c == true, true, false)}">
                                                                        <div class="radio-group">
                                                                            <input type="checkbox" class="radiobtn {!p.Id}yearly" id="{!p.Id}yearly" name="selector" value="{!IF(OR('Annual' == p.Billing_Frequency__c,'One-Time' == p.Billing_Frequency__c), true, false)}" onchange="calcFrecuencyChange(this, '{!p.Id}', '{!p.Name}', '{!p.Billing_Frequency__c}', '{!p.AnnualMonthlyOption__c}');"/>
                                                                            <label for="{!p.Id}yearly" class="radioLabel"  >Yearly</label>
                                                                            
                                                                            <input type="checkbox" class="radiobtn {!p.Id}monthly" id="{!p.Id}monthly" name="selector" value="{!IF(p.Billing_Frequency__c == 'Monthly', true, false)}" onchange="calcFrecuencyChange(this, '{!p.Id}', '{!p.Name}', '{!p.Billing_Frequency__c}', '{!p.AnnualMonthlyOption__c}');"/>
                                                                            <label for="{!p.Id}monthly" class="radioLabel">Monthly</label>
                                                                        </div>
                                                                    </apex:outputPanel>
                                                                    <apex:outputPanel rendered="{!IF(p.AnnualMonthlyOption__c == true, false, true)}">
                                                                        <div class="radio-group">
                                                                            <output type="checkbox" class="radiobtn" id="{!p.Id}yearly" name="selector" disabled="disabled">{!IF(OR('Annual' == p.Billing_Frequency__c,'One-Time' == p.Billing_Frequency__c), true, false)}</output>
                                                                            <label for="{!p.Id}yearly" class="radioLabel {!p.Id}yearlylabel" id="{!p.Id}yearlylabel">Yearly</label>
                                                                                
                                                                                <output type="checkbox" class="radiobtn" id="{!p.Id}monthly" name="selector" disabled="disabled">{!IF(p.Billing_Frequency__c == 'Monthly', true, false)}</output>
                                                                            <label for="{!p.Id}monthly" class="radioLabel {!p.Id}monthlylabel" id="{!p.Id}monthlylabel">Monthly</label>
                                                                        </div>
                                                                    </apex:outputPanel>
                                                                </div>
                                                                <div class="col" style="width: 110px;">
                                                                    <div class="form-floating">
                                                                        <input type="tel" data-product-qty="{!p.Name}" class="form-control {!p.Id}qty" id="planPackageTableQuantity" style="display: {!IF(p.Disable_QTY_on_Calc__c == true, 'none', 'flex')}" value="1" oninput="calcQuantityChange(this, '{!p.Name}');"/>
                                                                        <output type="tel" data-product-qty="{!p.Name}" class="form-control" id="planPackageTableQuantityOutput" style="display: {!IF(p.Disable_QTY_on_Calc__c == true, 'flex', 'none')}; background: rgba(18, 23, 36, 0.2);opacity: 0.75;">1</output>
                                                                    </div>
                                                                </div>
                                                                <div class="col" style="40px">
                                                                    <p class="planPackageTableSubtotal {!p.Id}subtotal" data-product-subtotal="{!p.Name}" data-amount="{!p.Name}">${!defaultPrices[p.Id]}</p>
                                                                </div>
                                                            </div>
                                                        </apex:repeat>
                                                    </div>
                                                </div>
                                            </apex:outputpanel>

                                            <apex:outputpanel id="bProds">
                                                <div data-checkbox-group="data-checkbox-group" id="businessPlan">
                                                    <div class="planPackageTable">
                                                        <div class="row" style="border-bottom: 1px solid rgba(18, 23, 36, 0.2);">
                                                            <div class="col" style="text-align: center;vertical-align: middle;padding-left: 24px;">
                                                                <input data-master-checkbox="data-master-checkbox" type="checkbox" id="master-businessPlan" name="master-businessPlan" class="master" onchange="checkAll(this);"/>
                                                            </div>
                                                            <div class="col" style="padding-left: 30px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;">Product</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 315px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;">Cost</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 62px;">
                                                                <p class="planPackageTableTitle" style="width: 160px;text-align: left;">Frequency</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 0px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;width: 110px;">Quantity</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 16px;">
                                                                <p class="planPackageTableTitle" style="text-align: right;">Subtotal</p>
                                                            </div>
                                                        </div>
                                                        <apex:repeat value="{!businessProducts}" var="p">
                                                            <div id="{!p.Id}" class="row {!p.Name}" style="display: table-row;border-bottom: 1px solid rgba(18, 23, 36, 0.2);">
                                                                <div class="col" style="text-align: center;vertical-align: middle;padding-left: 17px;">
                                                                    <input type="checkbox" html-data-id="{!p.Id}" data-product="{!p.Name}" style="Height: 13px;margin-left: 12px;" id="actionPlanTable" class="{!p.Id}" onchange="autoChecks('{!p.Name}', this);addRemoveProduct(this, '{!p.Id}', '{!p.Name}', '{!defaultPrices[p.Id]}', '{!p.AnnualMonthlyOption__c}', '{!p.Billing_Frequency__c}', '{!p.Disable_QTY_on_Calc__c}');"/>
                                                                </div>
                                                                <div class="col" style="padding-left: 0px;">
                                                                    <p class="planPackageTableProd">{!p.Name}</p>
                                                                </div>
                                                                <div class="col" style="padding-left: 195px;">
                                                                    <p class="planPackageTableCost" data-product-cost="{!p.Name}" data-amount="{!p.Name}">${!defaultPrices[p.Id]}</p>
                                                                </div>
                                                                <div class="col" style="width: 160px;">
                                                                    <apex:outputPanel rendered="{!IF(p.AnnualMonthlyOption__c == true, true, false)}">
                                                                        <div class="radio-group">
                                                                            <input type="checkbox" class="radiobtn {!p.Id}yearly" id="{!p.Id}yearly" name="selector" value="{!IF(OR('Annual' == p.Billing_Frequency__c,'One-Time' == p.Billing_Frequency__c), true, false)}" onchange="calcFrecuencyChange(this, '{!p.Id}', '{!p.Name}', '{!p.Billing_Frequency__c}', '{!p.AnnualMonthlyOption__c}');"/>
                                                                            <label for="{!p.Id}yearly" class="radioLabel"  >Yearly</label>
                                                                            
                                                                            <input type="checkbox" class="radiobtn {!p.Id}monthly" id="{!p.Id}monthly" name="selector" value="{!IF(p.Billing_Frequency__c == 'Monthly', true, false)}" onchange="calcFrecuencyChange(this, '{!p.Id}', '{!p.Name}', '{!p.Billing_Frequency__c}', '{!p.AnnualMonthlyOption__c}');"/>
                                                                            <label for="{!p.Id}monthly" class="radioLabel">Monthly</label>
                                                                        </div>
                                                                    </apex:outputPanel>
                                                                    <apex:outputPanel rendered="{!IF(p.AnnualMonthlyOption__c == true, false, true)}">
                                                                        <div class="radio-group">
                                                                            <output type="checkbox" class="radiobtn" id="{!p.Id}yearly" name="selector" disabled="disabled">{!IF(OR('Annual' == p.Billing_Frequency__c,'One-Time' == p.Billing_Frequency__c), true, false)}</output>
                                                                            <label for="{!p.Id}yearly" class="radioLabel {!p.Id}yearlylabel" id="{!p.Id}yearlylabel">Yearly</label>
                                                                                
                                                                                <output type="checkbox" class="radiobtn" id="{!p.Id}monthly" name="selector" disabled="disabled">{!IF(p.Billing_Frequency__c == 'Monthly', true, false)}</output>
                                                                            <label for="{!p.Id}monthly" class="radioLabel {!p.Id}monthlylabel" id="{!p.Id}monthlylabel">Monthly</label>
                                                                        </div>
                                                                    </apex:outputPanel>
                                                                </div>
                                                                <div class="col" style="width: 110px;">
                                                                    <div class="form-floating">
                                                                        <input type="tel" data-product-qty="{!p.Name}" class="form-control {!p.Id}qty" id="planPackageTableQuantity" style="display: {!IF(p.Disable_QTY_on_Calc__c == true, 'none', 'flex')}" value="1" oninput="calcQuantityChange(this, '{!p.Name}');"/>
                                                                        <output type="tel" data-product-qty="{!p.Name}" class="form-control" id="planPackageTableQuantityOutput" style="display: {!IF(p.Disable_QTY_on_Calc__c == true, 'flex', 'none')}; background: rgba(18, 23, 36, 0.2);opacity: 0.75;">1</output>
                                                                    </div>
                                                                </div>
                                                                <div class="col" style="40px">
                                                                    <p class="planPackageTableSubtotal {!p.Id}subtotal" data-product-subtotal="{!p.Name}" data-amount="{!p.Name}">${!defaultPrices[p.Id]}</p>
                                                                </div>
                                                            </div>
                                                        </apex:repeat>
                                                    </div>
                                                </div>
                                            </apex:outputpanel>
                                            
                                            <apex:outputpanel id="pProds">
                                                <div data-checkbox-group="data-checkbox-group" id="personalPlan">
                                                    <div class="planPackageTable">
                                                        <div class="row" style="border-bottom: 1px solid rgba(18, 23, 36, 0.2);">
                                                            <div class="col" style="text-align: center;vertical-align: middle;padding-left: 24px;">
                                                                <input data-master-checkbox="data-master-checkbox" type="checkbox" id="master-personalPlan" name="master-personalPlan" class="master" onchange="checkAll(this);"/>
                                                            </div>
                                                            <div class="col" style="padding-left: 30px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;">Product</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 315px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;">Cost</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 62px;">
                                                                <p class="planPackageTableTitle" style="width: 160px;text-align: left;">Frequency</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 0px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;width: 110px;">Quantity</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 16px;">
                                                                <p class="planPackageTableTitle" style="text-align: right;">Subtotal</p>
                                                            </div>
                                                        </div>
                                                        <apex:repeat value="{!personalProducts}" var="p">
                                                            <div id="{!p.Id}" class="row {!p.Name}" style="display: table-row;border-bottom: 1px solid rgba(18, 23, 36, 0.2);">
                                                                <div class="col" style="text-align: center;vertical-align: middle;padding-left: 17px;">
                                                                    <input type="checkbox" html-data-id="{!p.Id}" data-product="{!p.Name}" style="Height: 13px;margin-left: 12px;" id="actionPlanTable" class="{!p.Id}" onchange="autoChecks('{!p.Name}', this);addRemoveProduct(this, '{!p.Id}', '{!p.Name}', '{!defaultPrices[p.Id]}', '{!p.AnnualMonthlyOption__c}', '{!p.Billing_Frequency__c}', '{!p.Disable_QTY_on_Calc__c}');"/>
                                                                </div>
                                                                <div class="col" style="padding-left: 0px;">
                                                                    <p class="planPackageTableProd">{!p.Name}</p>
                                                                </div>
                                                                <div class="col" style="padding-left: 195px;">
                                                                    <p class="planPackageTableCost" data-product-cost="{!p.Name}" data-amount="{!p.Name}">${!defaultPrices[p.Id]}</p>
                                                                </div>
                                                                <div class="col" style="width: 160px;">
                                                                    <apex:outputPanel rendered="{!IF(p.AnnualMonthlyOption__c == true, true, false)}">
                                                                        <div class="radio-group">
                                                                            <input type="checkbox" class="radiobtn {!p.Id}yearly" id="{!p.Id}yearly" name="selector" value="{!IF(OR('Annual' == p.Billing_Frequency__c,'One-Time' == p.Billing_Frequency__c), true, false)}" onchange="calcFrecuencyChange(this, '{!p.Id}', '{!p.Name}', '{!p.Billing_Frequency__c}', '{!p.AnnualMonthlyOption__c}');"/>
                                                                            <label for="{!p.Id}yearly" class="radioLabel"  >Yearly</label>
                                                                            
                                                                            <input type="checkbox" class="radiobtn {!p.Id}monthly" id="{!p.Id}monthly" name="selector" value="{!IF(p.Billing_Frequency__c == 'Monthly', true, false)}" onchange="calcFrecuencyChange(this, '{!p.Id}', '{!p.Name}', '{!p.Billing_Frequency__c}', '{!p.AnnualMonthlyOption__c}');"/>
                                                                            <label for="{!p.Id}monthly" class="radioLabel">Monthly</label>
                                                                        </div>
                                                                    </apex:outputPanel>
                                                                    <apex:outputPanel rendered="{!IF(p.AnnualMonthlyOption__c == true, false, true)}">
                                                                        <div class="radio-group">
                                                                            <output type="checkbox" class="radiobtn" id="{!p.Id}yearly" name="selector" disabled="disabled">{!IF(OR('Annual' == p.Billing_Frequency__c,'One-Time' == p.Billing_Frequency__c), true, false)}</output>
                                                                            <label for="{!p.Id}yearly" class="radioLabel {!p.Id}yearlylabel" id="{!p.Id}yearlylabel">Yearly</label>
                                                                                
                                                                                <output type="checkbox" class="radiobtn" id="{!p.Id}monthly" name="selector" disabled="disabled">{!IF(p.Billing_Frequency__c == 'Monthly', true, false)}</output>
                                                                            <label for="{!p.Id}monthly" class="radioLabel {!p.Id}monthlylabel" id="{!p.Id}monthlylabel">Monthly</label>
                                                                        </div>
                                                                    </apex:outputPanel>
                                                                </div>
                                                                <div class="col" style="width: 110px;">
                                                                    <div class="form-floating">
                                                                        <input type="tel" data-product-qty="{!p.Name}" class="form-control {!p.Id}qty" id="planPackageTableQuantity" style="display: {!IF(p.Disable_QTY_on_Calc__c == true, 'none', 'flex')}" value="1" oninput="calcQuantityChange(this, '{!p.Name}');"/>
                                                                        <output type="tel" data-product-qty="{!p.Name}" class="form-control" id="planPackageTableQuantityOutput" style="display: {!IF(p.Disable_QTY_on_Calc__c == true, 'flex', 'none')}; background: rgba(18, 23, 36, 0.2);opacity: 0.75;">1</output>
                                                                    </div>
                                                                </div>
                                                                <div class="col" style="40px">
                                                                    <p class="planPackageTableSubtotal {!p.Id}subtotal" data-product-subtotal="{!p.Name}" data-amount="{!p.Name}">${!defaultPrices[p.Id]}</p>
                                                                </div>
                                                            </div>
                                                        </apex:repeat>
                                                    </div>
                                                </div>
                                            </apex:outputpanel>
                                            
                                            <apex:outputpanel id="payProds">
                                                <div data-checkbox-group="data-checkbox-group" id="payrollPlan">
                                                    <div class="planPackageTable">
                                                        <div class="row" style="border-bottom: 1px solid rgba(18, 23, 36, 0.2);">
                                                            <div class="col" style="text-align: center;vertical-align: middle;padding-left: 24px;">
                                                                <input data-master-checkbox="data-master-checkbox" type="checkbox" id="master-payrollPlan" name="master-payrollPlan" class="master" onchange="checkAll(this);"/>
                                                            </div>
                                                            <div class="col" style="padding-left: 30px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;">Product</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 315px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;">Cost</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 62px;">
                                                                <p class="planPackageTableTitle" style="width: 160px;text-align: left;">Frequency</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 0px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;width: 110px;">Quantity</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 16px;">
                                                                <p class="planPackageTableTitle" style="text-align: right;">Subtotal</p>
                                                            </div>
                                                        </div>
                                                        <apex:repeat value="{!payrollProducts}" var="p">
                                                            <div id="{!p.Id}" class="row {!p.Name}" style="display: table-row;border-bottom: 1px solid rgba(18, 23, 36, 0.2);">
                                                                <div class="col" style="text-align: center;vertical-align: middle;padding-left: 17px;">
                                                                    <input type="checkbox" html-data-id="{!p.Id}" data-product="{!p.Name}" style="Height: 13px;margin-left: 12px;" id="actionPlanTable" class="{!p.Id}" onchange="autoChecks('{!p.Name}', this);addRemoveProduct(this, '{!p.Id}', '{!p.Name}', '{!defaultPrices[p.Id]}', '{!p.AnnualMonthlyOption__c}', '{!p.Billing_Frequency__c}', '{!p.Disable_QTY_on_Calc__c}');"/>
                                                                </div>
                                                                <div class="col" style="padding-left: 0px;">
                                                                    <p class="planPackageTableProd">{!p.Name}</p>
                                                                </div>
                                                                <div class="col" style="padding-left: 195px;">
                                                                    <p class="planPackageTableCost" data-product-cost="{!p.Name}" data-amount="{!p.Name}">${!defaultPrices[p.Id]}</p>
                                                                </div>
                                                                <div class="col" style="width: 160px;">
                                                                    <apex:outputPanel rendered="{!IF(p.AnnualMonthlyOption__c == true, true, false)}">
                                                                        <div class="radio-group">
                                                                            <input type="checkbox" class="radiobtn {!p.Id}yearly" id="{!p.Id}yearly" name="selector" value="{!IF(OR('Annual' == p.Billing_Frequency__c,'One-Time' == p.Billing_Frequency__c), true, false)}" onchange="calcFrecuencyChange(this, '{!p.Id}', '{!p.Name}', '{!p.Billing_Frequency__c}', '{!p.AnnualMonthlyOption__c}');"/>
                                                                            <label for="{!p.Id}yearly" class="radioLabel"  >Yearly</label>
                                                                            
                                                                            <input type="checkbox" class="radiobtn {!p.Id}monthly" id="{!p.Id}monthly" name="selector" value="{!IF(p.Billing_Frequency__c == 'Monthly', true, false)}" onchange="calcFrecuencyChange(this, '{!p.Id}', '{!p.Name}', '{!p.Billing_Frequency__c}', '{!p.AnnualMonthlyOption__c}');"/>
                                                                            <label for="{!p.Id}monthly" class="radioLabel">Monthly</label>
                                                                        </div>
                                                                    </apex:outputPanel>
                                                                    <apex:outputPanel rendered="{!IF(p.AnnualMonthlyOption__c == true, false, true)}">
                                                                        <div class="radio-group">
                                                                            <output type="checkbox" class="radiobtn" id="{!p.Id}yearly" name="selector" disabled="disabled">{!IF(OR('Annual' == p.Billing_Frequency__c,'One-Time' == p.Billing_Frequency__c), true, false)}</output>
                                                                            <label for="{!p.Id}yearly" class="radioLabel {!p.Id}yearlylabel" id="{!p.Id}yearlylabel">Yearly</label>
                                                                                
                                                                                <output type="checkbox" class="radiobtn" id="{!p.Id}monthly" name="selector" disabled="disabled">{!IF(p.Billing_Frequency__c == 'Monthly', true, false)}</output>
                                                                            <label for="{!p.Id}monthly" class="radioLabel {!p.Id}monthlylabel" id="{!p.Id}monthlylabel">Monthly</label>
                                                                        </div>
                                                                    </apex:outputPanel>
                                                                </div>
                                                                <div class="col" style="width: 110px;">
                                                                    <div class="form-floating">
                                                                        <input type="tel" data-product-qty="{!p.Name}" class="form-control {!p.Id}qty" id="planPackageTableQuantity" style="display: {!IF(p.Disable_QTY_on_Calc__c == true, 'none', 'flex')}" value="1" oninput="calcQuantityChange(this, '{!p.Name}');"/>
                                                                        <output type="tel" data-product-qty="{!p.Name}" class="form-control" id="planPackageTableQuantityOutput" style="display: {!IF(p.Disable_QTY_on_Calc__c == true, 'flex', 'none')}; background: rgba(18, 23, 36, 0.2);opacity: 0.75;">1</output>
                                                                    </div>
                                                                </div>
                                                                <div class="col" style="40px">
                                                                    <p class="planPackageTableSubtotal {!p.Id}subtotal" data-product-subtotal="{!p.Name}" data-amount="{!p.Name}">${!defaultPrices[p.Id]}</p>
                                                                </div>
                                                            </div>
                                                        </apex:repeat>
                                                    </div>
                                                </div>
                                            </apex:outputpanel>
                                            
                                            <apex:outputpanel id="bkkProds">
                                                <div data-checkbox-group="data-checkbox-group" id="bookkeepingPlan">
                                                    <div class="planPackageTable">
                                                        <div class="row" style="border-bottom: 1px solid rgba(18, 23, 36, 0.2);">
                                                            <div class="col" style="text-align: center;vertical-align: middle;padding-left: 24px;">
                                                                <input data-master-checkbox="data-master-checkbox" type="checkbox" id="master-bookkeepingPlan" name="master-bookkeepingPlan" class="master" onchange="checkAll(this);"/>
                                                            </div>
                                                            <div class="col" style="padding-left: 30px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;">Product</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 315px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;">Cost</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 62px;">
                                                                <p class="planPackageTableTitle" style="width: 160px;text-align: left;">Frequency</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 0px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;width: 110px;">Quantity</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 16px;">
                                                                <p class="planPackageTableTitle" style="text-align: right;">Subtotal</p>
                                                            </div>
                                                        </div>
                                                        <apex:repeat value="{!bookkeepingProducts}" var="p">
                                                            <div id="{!p.Id}" class="row {!p.Name}" style="display: table-row;border-bottom: 1px solid rgba(18, 23, 36, 0.2);">
                                                                <div class="col" style="text-align: center;vertical-align: middle;padding-left: 17px;">
                                                                    <input type="checkbox" html-data-id="{!p.Id}" data-product="{!p.Name}" style="Height: 13px;margin-left: 12px;" id="actionPlanTable" class="{!p.Id}" onchange="autoChecks('{!p.Name}', this);addRemoveProduct(this, '{!p.Id}', '{!p.Name}', '{!defaultPrices[p.Id]}', '{!p.AnnualMonthlyOption__c}', '{!p.Billing_Frequency__c}', '{!p.Disable_QTY_on_Calc__c}');"/>
                                                                </div>
                                                                <div class="col" style="padding-left: 0px;">
                                                                    <p class="planPackageTableProd">{!p.Name}</p>
                                                                </div>
                                                                <div class="col" style="padding-left: 195px;">
                                                                    <p class="planPackageTableCost" data-product-cost="{!p.Name}" data-amount="{!p.Name}">${!defaultPrices[p.Id]}</p>
                                                                </div>
                                                                <div class="col" style="width: 160px;">
                                                                    <apex:outputPanel rendered="{!IF(p.AnnualMonthlyOption__c == true, true, false)}">
                                                                        <div class="radio-group">
                                                                            <input type="checkbox" class="radiobtn {!p.Id}yearly" id="{!p.Id}yearly" name="selector" value="{!IF(OR('Annual' == p.Billing_Frequency__c,'One-Time' == p.Billing_Frequency__c), true, false)}" onchange="calcFrecuencyChange(this, '{!p.Id}', '{!p.Name}', '{!p.Billing_Frequency__c}', '{!p.AnnualMonthlyOption__c}');"/>
                                                                            <label for="{!p.Id}yearly" class="radioLabel"  >Yearly</label>
                                                                            
                                                                            <input type="checkbox" class="radiobtn {!p.Id}monthly" id="{!p.Id}monthly" name="selector" value="{!IF(p.Billing_Frequency__c == 'Monthly', true, false)}" onchange="calcFrecuencyChange(this, '{!p.Id}', '{!p.Name}', '{!p.Billing_Frequency__c}', '{!p.AnnualMonthlyOption__c}');"/>
                                                                            <label for="{!p.Id}monthly" class="radioLabel">Monthly</label>
                                                                        </div>
                                                                    </apex:outputPanel>
                                                                    <apex:outputPanel rendered="{!IF(p.AnnualMonthlyOption__c == true, false, true)}">
                                                                        <div class="radio-group">
                                                                            <output type="checkbox" class="radiobtn" id="{!p.Id}yearly" name="selector" disabled="disabled">{!IF(OR('Annual' == p.Billing_Frequency__c,'One-Time' == p.Billing_Frequency__c), true, false)}</output>
                                                                            <label for="{!p.Id}yearly" class="radioLabel {!p.Id}yearlylabel" id="{!p.Id}yearlylabel">Yearly</label>
                                                                                
                                                                                <output type="checkbox" class="radiobtn" id="{!p.Id}monthly" name="selector" disabled="disabled">{!IF(p.Billing_Frequency__c == 'Monthly', true, false)}</output>
                                                                            <label for="{!p.Id}monthly" class="radioLabel {!p.Id}monthlylabel" id="{!p.Id}monthlylabel">Monthly</label>
                                                                        </div>
                                                                    </apex:outputPanel>
                                                                </div>
                                                                <div class="col" style="width: 110px;">
                                                                    <div class="form-floating">
                                                                        <input type="tel" data-product-qty="{!p.Name}" class="form-control {!p.Id}qty" id="planPackageTableQuantity" style="display: {!IF(p.Disable_QTY_on_Calc__c == true, 'none', 'flex')}" value="1" oninput="calcQuantityChange(this, '{!p.Name}');"/>
                                                                        <output type="tel" data-product-qty="{!p.Name}" class="form-control" id="planPackageTableQuantityOutput" style="display: {!IF(p.Disable_QTY_on_Calc__c == true, 'flex', 'none')}; background: rgba(18, 23, 36, 0.2);opacity: 0.75;">1</output>
                                                                    </div>
                                                                </div>
                                                                <div class="col" style="40px">
                                                                    <p class="planPackageTableSubtotal {!p.Id}subtotal" data-product-subtotal="{!p.Name}" data-amount="{!p.Name}">${!defaultPrices[p.Id]}</p>
                                                                </div>
                                                            </div>
                                                        </apex:repeat>
                                                    </div>
                                                </div>
                                            </apex:outputpanel>
                                            
                                            <apex:outputpanel id="eProds">
                                                <div data-checkbox-group="data-checkbox-group" id="entityFormationPlan">
                                                    <div class="planPackageTable">
                                                        <div class="row" style="border-bottom: 1px solid rgba(18, 23, 36, 0.2);">
                                                            <div class="col" style="text-align: center;vertical-align: middle;padding-left: 24px;">
                                                                <input data-master-checkbox="data-master-checkbox" type="checkbox" id="master-entityFormationPlan" name="master-entityFormationPlan" class="master" onchange="checkAll(this);"/>
                                                            </div>
                                                            <div class="col" style="padding-left: 30px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;">Product</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 315px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;">Cost</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 62px;">
                                                                <p class="planPackageTableTitle" style="width: 160px;text-align: left;">Frequency</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 0px;">
                                                                <p class="planPackageTableTitle" style="text-align: left;width: 110px;">Quantity</p>
                                                            </div>
                                                            <div class="col" style="padding-left: 16px;">
                                                                <p class="planPackageTableTitle" style="text-align: right;">Subtotal</p>
                                                            </div>
                                                        </div>
                                                        <apex:repeat value="{!entityFormationProducts}" var="p">
                                                            <div id="{!p.Id}" class="row {!p.Name}" style="display: table-row;border-bottom: 1px solid rgba(18, 23, 36, 0.2);">
                                                                <div class="col" style="text-align: center;vertical-align: middle;padding-left: 17px;">
                                                                    <input type="checkbox" html-data-id="{!p.Id}" data-product="{!p.Name}" style="Height: 13px;margin-left: 12px;" id="actionPlanTable" class="{!p.Id}" onchange="autoChecks('{!p.Name}', this);addRemoveProduct(this, '{!p.Id}', '{!p.Name}', '{!defaultPrices[p.Id]}', '{!p.AnnualMonthlyOption__c}', '{!p.Billing_Frequency__c}', '{!p.Disable_QTY_on_Calc__c}');"/>
                                                                </div>
                                                                <div class="col" style="padding-left: 0px;">
                                                                    <p class="planPackageTableProd">{!p.Name}</p>
                                                                </div>
                                                                <div class="col" style="padding-left: 195px;">
                                                                    <p class="planPackageTableCost" data-product-cost="{!p.Name}" data-amount="{!p.Name}">${!defaultPrices[p.Id]}</p>
                                                                </div>
                                                                <div class="col" style="width: 160px;">
                                                                    <apex:outputPanel rendered="{!IF(p.AnnualMonthlyOption__c == true, true, false)}">
                                                                        <div class="radio-group">
                                                                            <input type="checkbox" class="radiobtn {!p.Id}yearly" id="{!p.Id}yearly" name="selector" value="{!IF(OR('Annual' == p.Billing_Frequency__c,'One-Time' == p.Billing_Frequency__c), true, false)}" onchange="calcFrecuencyChange(this, '{!p.Id}', '{!p.Name}', '{!p.Billing_Frequency__c}', '{!p.AnnualMonthlyOption__c}');"/>
                                                                            <label for="{!p.Id}yearly" class="radioLabel"  >Yearly</label>
                                                                            
                                                                            <input type="checkbox" class="radiobtn {!p.Id}monthly" id="{!p.Id}monthly" name="selector" value="{!IF(p.Billing_Frequency__c == 'Monthly', true, false)}" onchange="calcFrecuencyChange(this, '{!p.Id}', '{!p.Name}', '{!p.Billing_Frequency__c}', '{!p.AnnualMonthlyOption__c}');"/>
                                                                            <label for="{!p.Id}monthly" class="radioLabel">Monthly</label>
                                                                        </div>
                                                                    </apex:outputPanel>
                                                                    <apex:outputPanel rendered="{!IF(p.AnnualMonthlyOption__c == true, false, true)}">
                                                                        <div class="radio-group">
                                                                            <output type="checkbox" class="radiobtn" id="{!p.Id}yearly" name="selector" disabled="disabled">{!IF(OR('Annual' == p.Billing_Frequency__c,'One-Time' == p.Billing_Frequency__c), true, false)}</output>
                                                                            <label for="{!p.Id}yearly" class="radioLabel {!p.Id}yearlylabel" id="{!p.Id}yearlylabel">Yearly</label>
                                                                                
                                                                                <output type="checkbox" class="radiobtn" id="{!p.Id}monthly" name="selector" disabled="disabled">{!IF(p.Billing_Frequency__c == 'Monthly', true, false)}</output>
                                                                            <label for="{!p.Id}monthly" class="radioLabel {!p.Id}monthlylabel" id="{!p.Id}monthlylabel">Monthly</label>
                                                                        </div>
                                                                    </apex:outputPanel>
                                                                </div>
                                                                <div class="col" style="width: 110px;">
                                                                    <div class="form-floating">
                                                                        <input type="tel" data-product-qty="{!p.Name}" class="form-control {!p.Id}qty" id="planPackageTableQuantity" style="display: {!IF(p.Disable_QTY_on_Calc__c == true, 'none', 'flex')}" value="1" oninput="calcQuantityChange(this, '{!p.Name}');"/>
                                                                        <output type="tel" data-product-qty="{!p.Name}" class="form-control" id="planPackageTableQuantityOutput" style="display: {!IF(p.Disable_QTY_on_Calc__c == true, 'flex', 'none')}; background: rgba(18, 23, 36, 0.2);opacity: 0.75;">1</output>
                                                                    </div>
                                                                </div>
                                                                <div class="col" style="40px">
                                                                    <p class="planPackageTableSubtotal {!p.Id}subtotal" data-product-subtotal="{!p.Name}" data-amount="{!p.Name}">${!defaultPrices[p.Id]}</p>
                                                                </div>
                                                            </div>
                                                        </apex:repeat>
                                                    </div>
                                                </div>
                                            </apex:outputpanel>
                                            
                                        </div>
                                        
                                        <div id="modalFooter" style="padding-top: 10px;padding-bottom: 10px;border-top: 1px solid rgba(18, 23, 36, 0.2);bottom: 0;position: fixed;width: 100%;display: inline;">
                                            
                                            <button class="btnSaveEditPackage btnmodal" id="saveEditPackage" onclick="closeAndSave();" style="float: left;">Save Changes</button>
                                            <!-- 
                                            <span id="switchText">Show the draft to the client</span>
                                            <label class="switch" id="showPackagelabel" style="float: left;">
                                                <apex:inputCheckbox html-data-id="showPackage" id="showPackage" onchange="showWaitingScreen(this);"/>
                                                <span class="slider round" id="showPackageBtn"></span>
                                            </label>
 -->
                                            <p class="modalNote">Current Quote</p>
                                            <p class="modalAmount" id="quoteTotal"></p>
                                        </div>
                                    </div>
                                </div>

                                <button type="button" class="" id="addNoteBtn" onclick="openNoteEditor();">Appointment Notes&nbsp;&nbsp;<span class="material-icons" style="vertical-align: middle;">keyboard_arrow_up</span></button>

                                <div id="modalNotes">
                                    <div id="modalNotesHeader">
                                        <p>
                                            Appointment Notes
                                        </p>
                                        <button type="button" class="" id="modalNotesHeaderBtn" onclick="closeNoteEditor();saveNoteEditor()"><span class="material-icons" style="vertical-align: middle;">keyboard_arrow_down</span></button>
                                    </div>
                                    <div id="modalNotesContent">
                                        <p id="modalNoteNote"><span class="material-icons" style="vertical-align: middle;color: #3B7A80;">task_alt</span>&nbsp;This note is saved to the contact.</p>
                                        <div class="form-floating">
                                            <input type="text" class="form-control" id="noteTitle" name="noteTitle" placeholder="Note Title"/>
                                            <label for="noteTitle" style="color: rgba(18, 23, 36, 0.65);">Note Title</label>
                                        </div>
                                        <div class="form-floating">
                                            <textarea class="form-control" id="noteBody" placeholder="Enter a note" name="noteBody" rows="4" cols="50"></textarea>
                                            <label for="noteBody" style="color: rgba(18, 23, 36, 0.65);">Enter a note</label>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="slds-box slds-box_x-small slds-text-align_left slds-m-around--x-small" id="businessDiscParts">
                                
                                <div class="backMenu" id="firstBackBtn">
                                    <button type="button" class="backBtn" onclick="backThirdSection();">
                                        <table id="backTable">
                                            <tr>
                                                <td>
                                                    <span class="material-icons" id="backArrow">arrow_back</span>
                                                </td>
                                                <td>
                                                    <p class="backTitle">Previous section</p>
                                                    <p class="backDesc" id="busiDisc">Business Discovery Intro</p>
                                                </td>
                                            </tr>
                                        </table>
                                    </button>
                                </div>
                                
                                <div class="title">
                                    <p class="titleTxt" id="discoveryQuestionTitle">
                                        Business Discovery
                                    </p>
                                </div>

                                <div Id="engagee">
                                    <p Id="engageTxt">
                                         Review all answers with the client before proceeding.
                                    </p>
                                </div>
                                
                                <div class="formTxt">
                                    <div id="mainCategoryDivAnchor"></div>
                                    <div class="form-floating" id="mainCategoryDiv">
                                        <select class="form-select" id="mainCategory" onchange="filterQuestions(this.value)">
                                            <option class="placeHold" selected="selected" disabled="disabled" hidden="hidden" style="color: #CE0B74;">Show All Questions</option>
                                            <option>Show All Questions</option>
                                            <option>Required Questions</option>
                                            <option>Unanswered Required Questions</option>
                                            <option>Years</option>
                                            <option>Entity &amp; Industry</option>
                                            <option>State</option>
                                            <option>Business Income</option>
                                            <option>Bookkeeping</option>
                                            <option>Owners</option>
                                            <option>Payroll</option>
                                            <option>Filing</option>
                                            <option>Personal Income</option>
                                            <option>Deductions</option>
                                        </select>
                                        <div id="showAllAnswer" style="margin: 10px 0px 10px 20px;">
                                            <label class="switch">
                                                <apex:inputCheckbox html-data-id="showAllAnswers" onchange="showAllAnswers(this.checked);"/>
                                                <span class="slider round"></span>
                                            </label>
                                            <spam id="showtxt" style="display: inline-flex;vertical-align: super;color: #000000;">Show all answered questions to the client</spam>
                                        </div>
                                    </div>
                                    
                                    <table id="quetionsTable">
                                        <tr id="firstBusiness">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <!-- <input type="checkbox" id="firstBusiness" style="opacity: 0.25;" disabled="disabled" checked="checked"/> -->
                                                    <apex:inputCheckbox html-data-id="checkboxEmployees" onchange="hideQuestion(this.checked, 'Is this your first business?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <!-- <spam id="txtRequiredOrange">(Required)</spam> -->
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'First Business')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'First Business')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    Is this your first business? 
                                                </p>
                                                <div id="buttonsDisc">
                                                    <button type="button" class="yesBtn" id="yesBtn1.1" style="color: black;" onclick="YesDecision(1.1);getNextBtn('First Business');populateAnswer('Is this your first business?', 'Yes', false);">Yes</button>
                                                    <div class="divider"/>
                                                    <button type="button" class="noBtn" id="noBtn1.1" style="color: black;" onclick="NoDecision(1.1);getNextBtn('First Business');populateAnswer('Is this your first business?', 'No', false);">No</button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr id="years">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <!-- <input type="checkbox" id="yearsBusiness" style="opacity: 0.25;" disabled="disabled" checked="checked"/> -->
                                                    <apex:inputCheckbox html-data-id="checkboxYears" onchange="hideQuestion(this.checked, 'How many years have you been in business?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Years In Business')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Years In Business')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    How many years have you been in business? 
                                                </p>
                                                <div class="form-floating" id="buttonsDisc">
                                                    <!-- <input type="text" class="form-control" id="years" style="padding-top: 11px;height: 53px;" placeholder="0" onchange="getNextBtn();populateAnswer('2', this);"/> -->
                                                    <apex:selectList styleClass="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" id="years" html-data-id="years" value="{!defaultYearsInBusiness}" onchange="getNextBtn('Years In Business');populateAnswer('How many years have you been in business?', this, true);" size="1">
                                                        <apex:selectOptions value="{!yearsInBusiness}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr id="entity">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxEntity" onchange="hideQuestion(this.checked, 'What entity type is your business?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Entity Type')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Entity Type')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    What entity type is your business?
                                                </p>
                                                <div class="form-floating" id="buttonsDisc">
                                                    <apex:selectList styleClass="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" html-data-id="entity" value="{!defaultEntity}" onchange="getNextBtn('Entity Type');populateAnswer('What entity type is your business?', this, true);calculateTaxSavings();" size="1">
                                                        <apex:selectOptions value="{!entityType}"></apex:selectOptions>
                                                    </apex:selectList>
                                                    <!-- <select class="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" id="domesticState" onchange="getNextBtn('Entity Type');populateAnswer('3', this);">
                                                        <option class="placeHold" selected="selected" disabled="disabled" hidden="hidden">Select a State</option>
                                                        <option >State 1</option>
                                                    </select> -->
                                                </div>
                                            </td>
                                        </tr>
                                        <tr id="industry">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxIndustry" onchange="hideQuestion(this.checked, 'What industry is your business in?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Industry Type')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Industry Type')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    What industry is your business in?
                                                </p>
                                                <div class="form-floating" id="buttonsDisc">
                                                    <apex:selectList styleClass="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" id="industry" html-data-id="industry" value="{!defaultIndustry}" onchange="getNextBtn('Industry Type');populateAnswer('What industry is your business in?', this, true);" size="1">
                                                        <apex:selectOptions value="{!industryType}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr id="domState">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxDomState" onchange="hideQuestion(this.checked, 'What is your state of incorporation?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'State of Incorporation')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'State of Incorporation')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    What is your state of incorporation?
                                                </p>
                                                <div class="form-floating" id="buttonsDisc">
                                                    <apex:selectList styleClass="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" id="domState" html-data-id="domState" value="{!defaultDomesticState}" onchange="getNextBtn('State of Incorporation');populateAnswer('What is your state of incorporation?', this, true);" size="1">
                                                        <apex:selectOptions value="{!stateOfIncorporation}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                            </td>
                                        </tr>
                                        <!-- <tr id="state">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxState" onchange="hideQuestion(this.checked, 'What is your state of residence?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'State of Residence')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'State of Residence')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    What is your state of residence?
                                                </p>
                                                <div class="form-floating" id="buttonsDisc">
                                                    <apex:selectList styleClass="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" id="state" html-data-id="state" value="{defaultPersonalState}" onchange="getNextBtn('State of Residence');populateAnswer('What is your state of residence?', this, true);updateStates();" size="1">
                                                        <apex:selectOptions value="{stateOfIncorporation}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                            </td>
                                        </tr> -->
                                        <tr id="foreignState">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxForeignState" onchange="hideQuestion(this.checked, 'What is your foreign state of incorporation?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Foreign State')}"> <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Foreign State')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    What is your foreign state of incorporation?
                                                </p>
                                                <div class="form-floating" id="buttonsDisc">
                                                    <apex:selectList styleClass="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" id="foreignState" html-data-id="foreignState" value="{!defaultForeignState}" onchange="getNextBtn('Foreign State');populateAnswer('What is your foreign state of incorporation?', this, true);" size="1">
                                                        <apex:selectOptions value="{!stateOfIncorporation}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr id="startup">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxStartup" onchange="hideQuestion(this.checked, 'How much have you invested so far in start-up costs?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Total Startup Cost')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Total Startup Cost')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    How much have you invested so far in start-up costs?
                                                </p>
                                                <div class="form-floating" id="buttonsDisc">
                                                    <apex:selectList styleClass="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" id="startup" html-data-id="startup" value="{!defaultStartupCosts}" onchange="getNextBtn('Total Startup Cost');populateAnswer('How much have you invested so far in start-up costs?', this, true);calculateTaxSavings();" size="1">
                                                        <apex:selectOptions value="{!moneyAmount}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr id="revenue">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxRevenue" onchange="hideQuestion(this.checked, 'What do you anticipate your revenue to be over the next 12 months?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Projected 1st Year Revenue')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Projected 1st Year Revenue')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    What do you anticipate your revenue to be over the next 12 months?
                                                </p>
                                                <div class="form-floating" id="buttonsDisc">
                                                    <apex:selectList styleClass="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" id="revenue" html-data-id="revenue" value="{!defaultRevenue}" onchange="getNextBtn('Projected 1st Year Revenue');populateAnswer('What do you anticipate your revenue to be over the next 12 months?', this, true);" size="1">
                                                        <apex:selectOptions value="{!moneyAmount}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr id="profit">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxProfit" onchange="hideQuestion(this.checked, 'What do you project your 1st year profit to be over the next 12 months?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Projected 1st Year Profit')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Projected 1st Year Profit')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    What do you project your 1st year profit to be over the next 12 months?
                                                </p>
                                                <div class="form-floating" id="buttonsDisc">
                                                    <apex:selectList styleClass="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" id="profit" html-data-id="profit" value="{!defaultFirstYearProfit}" onchange="getNextBtn('Projected 1st Year Profit');populateAnswer('What do you project your 1st year profit to be over the next 12 months?', this, true);calculateTaxSavings();" size="1">
                                                        <apex:selectOptions value="{!moneyAmount}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                            </td>
                                        </tr>
                                        <!-- <tr id="investor">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxInvestors" onchange="hideQuestion(this.checked, 'What is your total investor funding?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Investor Funding')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Investor Funding')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    What is your total investor funding?
                                                </p>
                                                <div class="form-floating" id="buttonsDisc">
                                                    <apex:selectList styleClass="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" id="investor" html-data-id="investor" value="{defaultInvestorFunding}" onchange="getNextBtn('Investor Funding');populateAnswer('What is your total investor funding?', this, true);" size="1">
                                                        <apex:selectOptions value="{moneyAmount}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                            </td>
                                        </tr> -->
                                        <tr id="transactions">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxTransactions" onchange="hideQuestion(this.checked, 'How many monthly bookkeeping transactions do you have?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Number of Transactions')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Number of Transactions')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    How many monthly bookkeeping transactions do you have?
                                                </p>
                                                <div class="form-floating" id="buttonsDisc">
                                                    <apex:selectList styleClass="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" id="transactions" html-data-id="transactions" value="{!defaultNumTransactions}" onchange="getNextBtn('Number of Transactions');populateAnswer('How many monthly bookkeeping transactions do you have?', this, true);" size="1">
                                                        <apex:selectOptions value="{!numberOfTransactions}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr id="owners">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxOwners" onchange="hideQuestion(this.checked, 'How many owners does your business have?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Number of Owners')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Number of Owners')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    How many owners does your business have?
                                                </p>

                                                <div class="form-floating" id="buttonsDisc">
                                                    <apex:selectList styleClass="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" id="owners" html-data-id="owners" value="{!defaultNumOwners}" onchange="getNextBtn('Number of Owners');populateAnswer('How many owners does your business have?', this, true);" size="1">
                                                        <apex:selectOptions value="{!numberOf}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                            </td>
                                        </tr>
                                        <!-- <tr id="foreignOwners">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxForeignOwners" onchange="hideQuestion(this.checked, 'How many owners are outside the USA?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Foreign Owners')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Foreign Owners')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    How many owners are outside the USA?
                                                </p>

                                                <div class="form-floating" id="buttonsDisc">
                                                    <apex:selectList styleClass="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" id="foreignowners" html-data-id="foreignowners" value="{defaultNumForeignOwners}" onchange="getNextBtn('Foreign Owners');populateAnswer('How many owners are outside the USA?', this, true);" size="1">
                                                        <apex:selectOptions value="{numberOf}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                            </td>
                                        </tr> -->
                                        <tr id="runPayroll">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxRunPayroll" onchange="hideQuestion(this.checked, 'Have you run payroll before?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Run Payroll Before')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Run Payroll Before')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    Have you run payroll before?
                                                </p>
                                                <div id="buttonsDisc">
                                                    <button type="button" class="yesBtn" id="yesBtn1.2" style="color: black;" onclick="YesDecision(1.2);getNextBtn('Run Payroll Before');populateAnswer('Have you run payroll before?', 'Yes', false);">Yes</button>
                                                    <div class="divider"/>
                                                    <button type="button" class="noBtn" id="noBtn1.2" style="color: black;" onclick="NoDecision(1.2);getNextBtn('Run Payroll Before');populateAnswer('Have you run payroll before?', 'No', false);">No</button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr id="hasEmpContractors">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxHasEmpContractors" onchange="hideQuestion(this.checked, 'Do you currently have any employees?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!OR(CONTAINS(requiredFields, 'Number of Employees'), CONTAINS(requiredFields, 'Number of Contractors'))}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!OR(CONTAINS(requiredFields, 'Number of Employees'), CONTAINS(requiredFields, 'Number of Contractors'))}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    Excluding yourself, do you currently have any additional employees?
                                                </p>
                                                <div id="buttonsDisc">
                                                    <button type="button" class="yesBtn" id="yesBtn1.3" style="color: black;" onclick="YesDecision(1.3);populateAnswer('Do you currently have any employees?', 'Yes', false);linkedYesNo('Employees and Contractors');">Yes</button>
                                                    <div class="divider"/>
                                                    <button type="button" class="noBtn" id="noBtn1.3" style="color: black;" onclick="NoDecision(1.3);getNextBtn('Number of Employees');getNextBtn('Number of Contractors');populateAnswer('Do you currently have any employees?', 'No', false);linkedYesNo('Employees and Contractors');">No</button>
                                                </div>
                                                <!-- <div class="form-floating" id="buttonsDisc">
                                                    <input type="text" class="form-control" id="contractors" style="padding-top: 11px;height: 53px;" placeholder="0" onchange="getNextBtn();populateAnswer('16', this);"/>
                                                </div> -->
                                            </td>
                                        </tr>
                                        <tr id="employees">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxEmployees" onchange="hideQuestion(this.checked, 'How many employees do you have?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Number of Employees')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Number of Employees')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    How many additional employees do you have?
                                                </p>
                                                <div class="form-floating" id="buttonsDisc">
                                                    <apex:selectList styleClass="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" id="employees" html-data-id="employees" value="{!defaultNumEmployees}" onchange="getNextBtn('Number of Employees');populateAnswer('How many employees do you have?', this, true);linkedFields('Employees and Contractors');" size="1">
                                                        <apex:selectOptions value="{!numberOfEmployeeContractors}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                            </td>
                                        </tr>
                                        <!-- <tr id="contractors">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxContractors" onchange="hideQuestion(this.checked, 'How many contractors do you have?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Number of Contractors')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Number of Contractors')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    How many contractors do you have?
                                                </p>
                                                <div class="form-floating" id="buttonsDisc">
                                                    <apex:selectList styleClass="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" id="contractors" html-data-id="contractors" value="{defaultNumContractors}" onchange="getNextBtn('Number of Contractors');populateAnswer('How many contractors do you have?', this, true);linkedFields('Employees and Contractors');" size="1">
                                                        <apex:selectOptions value="{numberOfEmployeeContractors}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                            </td>
                                        </tr> -->
                                        <tr id ="filingStatus">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxFilingStatus" onchange="hideQuestion(this.checked, 'What is your tax filing status?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Filing Status')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Filing Status')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    What is your tax filing status?
                                                </p>
                                                <div class="form-floating" id="buttonsDisc">
                                                    <apex:selectList styleClass="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" id="filingStatus" html-data-id="filingStatus" value="{!defaultFilingStatus}" onchange="getNextBtn('Filing Status');populateAnswer('What is your tax filing status?', this, true);calculateTaxSavings();" size="1">
                                                        <apex:selectOptions value="{!filingStatus}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr id="household">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxHousehold" onchange="hideQuestion(this.checked, 'What was your household W-2 income last year?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Personal Income')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Personal Income')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    What was your household W-2 income last year?
                                                </p>
                                                <div class="form-floating" id="buttonsDisc">
                                                    <apex:selectList styleClass="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" id="household" html-data-id="household" value="{!defaultPersonalIncome}" onchange="getNextBtn('Personal Income');populateAnswer('What was your household W-2 income last year?', this, true);calculateTaxSavings();" size="1">
                                                        <apex:selectOptions value="{!moneyAmount}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                            </td>
                                        </tr>
                                        <!-- <tr id="foreignIncome">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxForeignIncome" onchange="hideQuestion(this.checked, 'Do you have any foreign sourced income?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Foreign Income')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Foreign Income')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    Do you have any foreign sourced income?
                                                </p>
                                                <div id="buttonsDisc">
                                                    <button type="button" class="yesBtn" id="yesBtn1.5" style="color: black;" onclick="YesDecision(1.5);populateAnswer('Do you have any foreign sourced income?', 'Yes', false);">Yes</button>
                                                    <div class="divider"/>
                                                    <button type="button" class="noBtn" id="noBtn1.5" style="color: black;" onclick="NoDecision(1.5);getNextBtn('Foreign Income');populateAnswer('Do you have any foreign sourced income?', 'No', false);">No</button>
                                                </div>
                                                <!- <div class="form-floating" id="buttonsDisc">
                                                    <input type="text" class="form-control" id="manyK-1s" style="padding-top: 11px;height: 53px;" placeholder="0" onchange="getNextBtn();populateAnswer('22', this);"/>
                                                </div> ->
                                            </td>
                                        </tr> -->
                                        <tr id="hasRentals">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxHasRentals" onchange="hideQuestion(this.checked, 'Do you currently have any rental properties?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Number of Rental Properties')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Number of Rental Properties')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    Do you currently have any rental properties?
                                                </p>
                                                <div id="buttonsDisc">
                                                    <button type="button" class="yesBtn" id="yesBtn1.6" style="color: black;" onclick="YesDecision(1.6);populateAnswer('Do you currently have any rental properties?', 'Yes', false);linkedYesNo('Number of Rental Properties');">Yes</button>
                                                    <div class="divider"/>
                                                    <button type="button" class="noBtn" id="noBtn1.6" style="color: black;" onclick="NoDecision(1.6);getNextBtn('Number of Rental Properties');populateAnswer('Do you currently have any rental properties?', 'No', false);linkedYesNo('Number of Rental Properties');">No</button>
                                                </div>
                                                <!-- <div id="buttonsDisc">
                                                    <button type="button" class="yesBtn" id="yesBtn1.5" style="color: black;" onclick="YesDecision(1.5);getNextBtn();populateAnswer('23', 'Yes');">Yes</button>
                                                    <div class="divider"/>
                                                    <button type="button" class="noBtn" id="noBtn1.5" style="color: black;" onclick="NoDecision(1.5);getNextBtn();populateAnswer('23', 'No');">No</button>
                                                </div> -->
                                            </td>
                                        </tr>
                                        <tr id="rental">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxRental" onchange="hideQuestion(this.checked, 'How many rental properties do you have?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Number of Rental Properties')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Number of Rental Properties')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    How many rental properties do you have?
                                                </p>
                                                <div class="form-floating" id="buttonsDisc">
                                                    <apex:selectList styleClass="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" id="rental" html-data-id="rental" value="{!defaultNumberOfRentalProperties}" onchange="getNextBtn('Number of Rental Properties');populateAnswer('How many rental properties do you have?', this, true);linkedFields('Number of Rental Properties');" size="1">
                                                        <apex:selectOptions value="{!numberOfRentalProperties}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                                <!-- <div id="buttonsDisc">
                                                    <button type="button" class="yesBtn" id="yesBtn1.6" style="color: black;" onclick="YesDecision(1.6);getNextBtn();populateAnswer('24', 'Yes');">Yes</button>
                                                    <div class="divider"/>
                                                    <button type="button" class="noBtn" id="noBtn1.6" style="color: black;" onclick="NoDecision(1.6);getNextBtn();populateAnswer('24', 'No');">No</button>
                                                </div> -->
                                            </td>
                                        </tr>
                                        <!-- <tr id="k1s">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxK1s" onchange="hideQuestion(this.checked, 'How many K-1s are from other investments?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Number of K1s')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Number of K1s')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    How many K-1s are from other investments?
                                                </p>
                                                <div class="form-floating" id="buttonsDisc">
                                                    <apex:selectList styleClass="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" id="k1s" html-data-id="k1s" value="{defaultOtherInvestments}" onchange="getNextBtn('Number of K1s');populateAnswer('How many K-1s are from other investments?', this, true);" size="1">
                                                        <apex:selectOptions value="{numberOfRentalProperties}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                            </td>
                                        </tr> -->
                                        <tr id="workingHome">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxWorkingHome" onchange="hideQuestion(this.checked, 'Will you be working from home?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Office Square Footage')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Office Square Footage')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    Will you be working from home?
                                                </p>
                                                <div id="buttonsDisc">
                                                    <button type="button" class="yesBtn" id="yesBtn1.7" style="color: black;" onclick="YesDecision(1.7);populateAnswer('Will you be working from home?', 'Yes', false);linkedYesNo('Working from Home');">Yes</button>
                                                    <div class="divider"/>
                                                    <button type="button" class="noBtn" id="noBtn1.7" style="color: black;" onclick="NoDecision(1.7);getNextBtn('Office Square Footage');populateAnswer('Will you be working from home?', 'No', false);linkedYesNo('Working from Home');">No</button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr id="footage">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxFootage" onchange="hideQuestion(this.checked, 'What is the approximate square footage of your home office?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Office Square Footage')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Office Square Footage')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    What is the approximate square footage of your home office?
                                                </p>
                                                <div class="form-floating" id="buttonsDisc">
                                                    <apex:selectList styleClass="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" id="footage" html-data-id="footage" value="{!defaultOffice}" onchange="getNextBtn('Office Square Footage');populateAnswer('What is the approximate square footage of your home office?', this, true);linkedFields('Working from Home');calculateTaxSavings();" size="1">
                                                        <apex:selectOptions value="{!office}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr id="drive">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxDrive" onchange="hideQuestion(this.checked, 'Will you use your personal vehicle for business purposes?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Business Miles')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Business Miles')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    Will you use your personal vehicle for business purposes?
                                                </p>
                                                <div id="buttonsDisc">
                                                    <button type="button" class="yesBtn" id="yesBtn1.8" style="color: black;" onclick="YesDecision(1.8);populateAnswer('Will you use your personal vehicle for business purposes?', 'Yes', false);linkedYesNo('Driving');">Yes</button>
                                                    <div class="divider"/>
                                                    <button type="button" class="noBtn" id="noBtn1.8" style="color: black;" onclick="NoDecision(1.8);getNextBtn('Business Miles');populateAnswer('Will you use your personal vehicle for business purposes?', 'No', false);linkedYesNo('Driving');">No</button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr id="miles">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxMiles" onchange="hideQuestion(this.checked, 'How many business-related miles do you estimate youll drive per year?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Business Miles')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Business Miles')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    How many business-related miles do you estimate youll drive per year?
                                                </p>

                                                <div class="form-floating" id="buttonsDisc">
                                                    <apex:selectList styleClass="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" id="miles" html-data-id="miles" value="{!defaultMileage}" onchange="getNextBtn('Business Miles');populateAnswer('How many business-related miles do you estimate youll drive per year?', this, true);linkedFields('Driving');calculateTaxSavings();" size="1">
                                                        <apex:selectOptions value="{!mileage}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                            </td>
                                        </tr>
                                        <!-- <tr id="website">
                                            <td class="actionRow">
                                                <spam id="showtxt">Show</spam>
                                                <label class="switch">
                                                    <apex:inputCheckbox html-data-id="checkboxWebsite" onchange="hideQuestion(this.checked, 'Will your business have a web or e-commerce presence?');"/>
                                                    <span class="slider round"></span>
                                                </label>
                                            </td>
                                            <td class="questionRow">
                                                <p class="normalTxt" id="script">
                                                    <apex:outputPanel rendered="{!CONTAINS(requiredFields, 'Website Selling Goods')}">  <spam id="txtRequiredOrange">(Required) </spam></apex:outputPanel> 
                                                    <apex:outputPanel rendered="{!!CONTAINS(requiredFields, 'Website Selling Goods')}"> <spam id="txtRequired">(Optional)</spam> </apex:outputPanel>
                                                    <br/>
                                                    Will your business have a web or e-commerce presence?
                                                </p>
                                                <div id="buttonsDisc">
                                                    <button type="button" class="yesBtn" id="yesBtn1.9" style="color: black;" onclick="YesDecision(1.9);populateAnswer('Will your business have a web or e-commerce presence?', 'Yes', false);">Yes</button>
                                                    <div class="divider"/>
                                                    <button type="button" class="noBtn" id="noBtn1.9" style="color: black;" onclick="NoDecision(1.9);getNextBtn('Website Selling Goods');populateAnswer('Will your business have a web or e-commerce presence?', 'No', false);">No</button>
                                                </div>
                                            </td>
                                        </tr> -->
                                       
                                    </table>
                                </div>
                                
                                <div id="errorMessage" style="display: inline-flex;">
                                    <p id="errorMessageText"><span class="material-icons" id="errorMessageIcon">warning_amber</span>&nbsp;Not all required questions have been answered.</p>
                                    <button type="button" class="" id="errorMessageBtn" style="color:black;" onclick="filterQuestions('Unanswered Required Questions')">Show Unanswered Required Questions</button>
                                </div>
                                
                                <div class="formTxt">
                                    <div id="buttons">
                                        <button type="button" class="start" id="thirdStart" style="color: white;" onclick="whatToDo();"><i class="fas fa-arrow-right">&nbsp;</i>Next Section</button>
                                        <!--<apex:commandButton styleClass="start" id="thirdStart" style="color: white;" onclick="whatToDo();" value="Next Section"/>-->
                                        <apex:actionFunction name="CallApexMethod" action="{!getProductData}" reRender="dProds, fProds, frProds, bProds, pProds, payProds, bkkProds, eProds"/>
                                        <div class="divider"/>
                                        <p class="blast" id="endNote">Review Business Discovery</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="slds-box slds-box_x-small slds-text-align_left slds-m-around--x-small" id="preparedPackages"> 
                                
                                <div class="backMenu">
                                    <button type="button" class="backBtn" onclick="backSection('Review Business Discovery', 'businessDiscParts', 'preparedPackages');">
                                        <table id="backTable">
                                            <tr>
                                                <td>
                                                    <span class="material-icons" id="backArrow">arrow_back</span>
                                                </td>
                                                <td>
                                                    <p class="backTitle">Previous section</p>
                                                    <p class="backDesc" id="busiDisc">Business Discovery Intro</p>
                                                </td>
                                            </tr>
                                        </table>
                                    </button>
                                </div>

                                <div class="title">
                                    <p class="titleTxt">
                                        Prepared Packages
                                    </p>
                                </div>
                                
                                <div class="formTxt"> 
                                    <p class="normalTxt formTxtbottom" id="script">
                                        From our previous discussion  weve prepared a few plans that let you take advantage of our services to help your business grow.
                                    </p>
                                    <button type="button" class="yesBtn" id="editPackage" style="color: black;" onclick="showModalEditPackage();showWaitingScreen(false);"><span class="material-icons">drive_file_rename_outline</span>&nbsp;Edit Package</button>
                                    <div id="buttons" style="margin-bottom: 3%;">
                                        <button type="button" class="start" id="next" style="color: white;opacity: 1;" onclick="nextSection(3, 'Verify Information', 'preparedPackages', 'verifyInformation');"><i class="fas fa-arrow-right">&nbsp;</i>Next Section</button>
                                        <div class="divider"/>
                                        <p class="blast">Verify Your Information</p>
                                    </div>
                                </div>
                                
                            </div>
                            
                            <div class="slds-box slds-box_x-small slds-text-align_left slds-m-around--x-small" id="verifyInformation"> 
                                <div class="backMenu">
                                    <button type="button" class="backBtn" onclick="backSection('Prepared Packages', 'preparedPackages', 'verifyInformation');">
                                        <table id="backTable">
                                            <tr>
                                                <td>
                                                    <span class="material-icons" id="backArrow">arrow_back</span>
                                                </td>
                                                <td>
                                                    <p class="backTitle">Previous section</p>
                                                    <p class="backDesc">Prepared Packages</p>
                                                </td>
                                            </tr>
                                        </table>
                                    </button>
                                </div>
                                
                                <div class="title">
                                    <p class="titleTxt">
                                        Verify Your Information
                                    </p>
                                </div>
                                
                                <div class="formTxt"> 
                                    <div style="margin-top: 50px;"> 
                                        <p class="normalTxt formTxtbottom" id="script">
                                            <span style="font-weight: 600;">Phone and Email Address</span>
                                            <br/>
                                            <br/>
                                            The next steps are very simple, <span id="additionalFirstName0">{!businessOwner.First_Name__c}</span>, I want to ensure the information we have on file is accurate.
                                            <br/>
                                            <br/>
                                            Is <spam id="busOwnerPhone">{!businessOwner.Phone__c}</spam> the best phone number to reach you?
                                            <br/>
                                            <br/>
                                            And <spam id="busOwnerEmail">{!businessOwner.Email__c}</spam> the best email address to reach you?
                                        </p>
                                        <button type="button" class="yesBtn" id="editPackage" style="color: black;" onclick="showModalEditClientInfo();"><span class="material-icons">drive_file_rename_outline</span>&nbsp;Edit Client Information</button>
                                    </div>

                                    <div style="margin-top: 70px;"> 
                                        <p class="normalTxt formTxtbottom" id="script">
                                            <span style="font-weight: 600;">Billing Address</span>
                                            <br/>
                                            <br/>
                                            Could you confirm your billing address for me?
                                            <br/>
                                            <br/>
                                            <spam id="busOwnerAddress">{!businessOwner.Address__c}</spam>
                                            <br/>
                                            <spam id="busOwnerCity">{!businessOwner.City__c}</spam> <spam id="busOwnerState"></spam> <spam id="busOwnerZip">{!businessOwner.Zip__c}</spam>
                                            <br/>
                                            <spam id="busOwnerCountry">{!businessOwner.Country__c}</spam>
                                        </p>
                                        <button type="button" class="yesBtn" id="editPackage" style="color: black;" onclick="showModalEditBillingAdd();"><span class="material-icons">drive_file_rename_outline</span>&nbsp;Edit Billing Address</button>
                                    </div>

                                    <div style="margin-top: 80px;"> 
                                        <p class="normalTxt formTxtbottom" id="script">
                                            <span style="font-weight: 600;">Payment Terms</span>
                                            <br/>
                                            <br/>
                                            <span id="planTerms">No Financing.</span>
                                        </p>
                                        <button type="button" class="yesBtn" id="editPackage" style="color: black;" onclick="showModalEditPayTerms();"><span class="material-icons">drive_file_rename_outline</span>&nbsp;Edit Payment Terms</button>
                                    </div>

                                    <div id="buttons" style="margin-bottom: 3%;margin-top: 5%;">
                                        <button type="button" class="start" id="" style="color: white;opacity: 1;" onclick="doSubmit();nextSection(4, 'Payment Details', 'verifyInformation', 'paymentDetails');getChargeOverURL();"><i class="fas fa-arrow-right">&nbsp;</i>Generate Quote</button>
                                        <div class="divider"/>
                                        <p class="blast">Payment Details</p>
                                        <div id="errorMesse" style="display: inline-flex;">
                                            <span class="material-icons" id="errorMessageIcon" style="padding-left: 2%;padding-top: 3%;">warning_amber</span>
                                            <p id="errorMessageText">
                                                Proceeding to payment details will lock the ChargeOver quote and require making any further edits to the quote within the 
                                                Opportunity in Salesforce.  To avoid this, make changes before proceeding and locking the quote by clicking the "Edit Quote" 
                                                button in the top-left portion of the screen.
                                            </p>
                                        </div>
                                    </div>
                                    
                                    <p id="commonObjections">Common Objections</p>

                                    <button class="accordion" onclick="accordionFunct(this, '1');">I want to think about it<span class="material-icons arrows" id="lessArrow1">expand_less</span><span class="material-icons arrows" id="moreArrow1">keyboard_arrow_down</span></button>
                                    <div class="panel">
                                        <p class="normalTxt formTxtbottom" id="script">
                                          I understand. This is an important decision for you and your business. May I ask: What is it you will be thinking about the most?
                                        </p>
                                        <p class="normalTxt formTxtbottom optText" id="script">
                                            <spam id="optTitle">If Value</spam>
                                            <br/>
                                            Extending conversation with tax strategy and urgency.
                                        </p>
                                        <p class="normalTxt formTxtbottom optText" id="script">
                                            <spam id="optTitle">If Money</spam>
                                            <br/>
                                            Extending conversation with strategy and urgency, then back to $
                                        </p>
                                        <p class="normalTxt formTxtbottom" id="script">
                                            With that in mind, would you like to use the same card you used with {!opportunity.Account.Lead_Source__c} or would you like to use another card?
                                        </p>
                                    </div>
                                    
                                    <button class="accordion" onclick="accordionFunct(this, '2');">My business isnt making money<span class="material-icons arrows" id="lessArrow2">expand_less</span><span class="material-icons arrows" id="moreArrow2">keyboard_arrow_down</span></button>
                                    <div class="panel">
                                        <p class="normalTxt formTxtbottom" id="script">
                                            It is common for a new business to have more money going out than coming in and as a new business owner, you could use that to your advantage. 
                                            <br/>
                                            <br/> 
                                            That said, its important that were strategizing every deduction and credit you are entitled to. Also, we need to ensure youre addressing 
                                            your ECE with as soon as possible. Our whole goal is to make sure youre not funding the IRS <span id="additionalFirstName1">{!businessOwner.First_Name__c}</span>. 
                                            <br/>
                                            <br/>
                                            Is it more of the investment youre thinking about, or the services?
                                        </p>
                                        <p class="normalTxt formTxtbottom optText" id="script">
                                            <spam id="optTitle">If Value</spam>
                                            <br/>
                                            Extending conversation with tax strategy and urgency.
                                        </p>
                                        <p class="normalTxt formTxtbottom optText" id="script">
                                            <spam id="optTitle">If Money</spam>
                                            <br/>
                                            Extending conversation with strategy and urgency, then back to $
                                        </p>
                                        <p class="normalTxt formTxtbottom" id="script">
                                            With that in mind, would you like to use the same card you used with {!opportunity.Account.Lead_Source__c} or would you like to use another card?
                                        </p>
                                    </div>
                                    
                                    <button class="accordion" onclick="accordionFunct(this, '3');">I need to speak with spouse/partner<span class="material-icons arrows" id="lessArrow3">expand_less</span><span class="material-icons arrows" id="moreArrow3">keyboard_arrow_down</span></button>
                                    <div class="panel">
                                        <p class="normalTxt formTxtbottom" id="script">
                                            I can understand. This is an important decision. 
                                            <br/>
                                            <br/> 
                                            May I ask what you think your spouse/partner will be thinking about the most? 
                                        </p>
                                        <p class="normalTxt formTxtbottom optText" id="script">
                                            <spam id="optTitle">If Value</spam>
                                            <br/>
                                            I know it feels like yesterday since you set your business up in {!opportunity.Account.Lead_Source_Date__c}, so we have some catching up to do.
                                            <br/>
                                            <br/> 
                                            The good news is you are on the phone with me today. 
                                            <br/>
                                            <br/> 
                                            The next steps are very simple <span id="additionalFirstName2">{!businessOwner.First_Name__c}</span>, lets schedule your Discovery call on a day that works for you and your spouse.
                                        </p>
                                        <p class="normalTxt formTxtbottom optText" id="script">
                                            <spam id="optTitle">If Money</spam>
                                            <br/>
                                            Having everyone on the same page is important. 
                                            <br/>
                                            <br/>
                                            Nevertheless, earlier you stated that you and your partner/spouse invested {!business.Startup_Costs__c} into your business, correct? 
                                            This service ensures you protect that investment. In order to do that, its crucial that we create a comprehensive tax strategy 
                                            that will help you find ways to recoup some of those startup costs.
                                        </p>
                                        <p class="normalTxt formTxtbottom" id="script">
                                            With that in mind, would you like to use the same card you used with {!opportunity.Account.Lead_Source__c} or would you like to use another card?
                                        </p>
                                    </div>
                                    
                                    <button class="accordion" onclick="accordionFunct(this, '4');">I read negative reviews of 1-800Accountant<span class="material-icons arrows" id="lessArrow4">expand_less</span><span class="material-icons arrows" id="moreArrow4">keyboard_arrow_down</span></button>
                                    <div class="panel">
                                        <p class="normalTxt formTxtbottom" id="script">
                                            I completely understand your concern. I also check reviews with the companies I may do business with and often factor 
                                            them in prior to making a decision. So, I can absolutely relate with your concern. 
                                            <br/>
                                            <br/>
                                            I want to assure you that a chief goal of 1-800Accountant is to not only meet but exceed the expectations of our clients. 
                                            Keep in mind that we have an A rating with the Better Business Bureau, which is far above other well-known tax prep companies 
                                            such as H &#38; R Block (1.2-star average rating) or TurboTax (1.1-star average rating.) 
                                            <br/>
                                            <br/>
                                            We have earned the trust of hundreds of thousands of people like you for the past 20 years and that kind of trust has made us 
                                            the nations leading virtual accounting firm. Additionally, whenever we do receive a negative review or a complaint from a customer, 
                                            we ensure we go above and beyond to resolve the issue.
                                            <br/>
                                            <br/>
                                            With that in mind, would you like to use the same card you used with {!opportunity.Account.Lead_Source__c} or would you like to use another card?
                                        </p>
                                    </div>
                                    
                                    <button class="accordion" onclick="accordionFunct(this, '5');">I want to research before moving forward<span class="material-icons arrows" id="lessArrow5">expand_less</span><span class="material-icons arrows" id="moreArrow5">keyboard_arrow_down</span></button>
                                    <div class="panel">
                                        <p class="normalTxt formTxtbottom" id="script">
                                            I understand. As a business owner, you want to ensure youre making the right decision for you and your business and I value that. Let me ask. 
                                            What is it that youd like to research?
                                        </p>
                                        <p class="normalTxt formTxtbottom optText" id="script">
                                            <spam id="optTitle">If they want to research the company</spam>
                                            <br/>
                                            As a business owner, I would want to research as well. Let me save you the hassle. {!opportunity.Account.Lead_Source__c} has done the research for you. They know what 
                                            it takes for a business to be successful, and our accountants know what it takes for a business to be successful, which is why out of all the 
                                            accounting firms in the country, they trust us with their clients.This is why we dont operate that way. Since we need to address your ECE, and the 
                                            overall tax strategy for this year, let's at least set your discovery appointment and wont think about taxes until then.
                                        </p>
                                        <p class="normalTxt formTxtbottom optText" id="script">
                                            <spam id="optTitle">If they want to compare</spam>
                                            <br/>
                                            I understand, I would want to compare myself. One thing Id like to point out is that your typical local accountant will charge billable hours 
                                            typically $200-$300 per hour. We dont charge per hour. This allows you the freedom to access your accountant whenever you feel the need arises.
                                        </p>
                                        <p class="normalTxt formTxtbottom" id="script">
                                            With that in mind, would you like to use the same card you used with {!opportunity.Account.Lead_Source__c} or would you like to use another card?
                                        </p>
                                    </div>
                                    
                                    <button class="accordion" onclick="accordionFunct(this, '6');">I know a CPA or have a family member who is a CPA<span class="material-icons arrows" id="lessArrow6">expand_less</span><span class="material-icons arrows" id="moreArrow6">keyboard_arrow_down</span></button>
                                    <div class="panel">
                                        <p class="normalTxt formTxtbottom optText" id="script">
                                            <spam id="optTitle">If CPA is NOT a family member</spam>
                                            <br/>
                                            Remember, we operate differently, we dont charge hourly fees or hidden costs which is why our services are so affordable for the start-up business owner.
                                        </p>
                                        <p class="normalTxt formTxtbottom optText" id="script">
                                            <spam id="optTitle">If CPA IS a family member</spam>
                                            <br/>
                                            In my experience, a lot of business owners make it a common practice of keeping business and family separate. In the end its up to whatever works best for 
                                            you. Keep in mind that you will have a team that will be here to minimize your stress and maximize your tax savings through on demand, unlimited access.
                                        </p>
                                        <p class="normalTxt formTxtbottom" id="script">
                                            With that in mind, would you like to use the same card you used with {!opportunity.Account.Lead_Source__c} or would you like to use another card?
                                        </p>
                                    </div>
                                </div>

                                <div class="modal" id="modalEditClientInfo">
                                    <div class="content">
                                        <div id="modalHeader">
                                            <table id="modalHeaderTable" style="border-bottom: 1px solid rgba(18, 23, 36, 0.2);">
                                                <tr>
                                                    <td>
                                                        <p class="modalHeaderTitle">Edit Client Information</p>
                                                    </td>
                                                    <td>
                                                        <button class="modalHeaderClose" onclick="closeModalEditClientInfo();"><i class="fas fa-times"></i></button>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                        <div id="modalBody">
                                            <div class="form-floating">
                                                <input type="email" class="form-control" id="emailModalEditClientInfo" placeholder="Email" required="required" value="{!businessOwner.Email__c}" onkeyup="" style=""/>
                                                <label for="emailModalEditClientInfo">Email</label>
                                                <p id="emailFormatError" style="color: red"></p>
                                            </div>
                                            <div class="form-floating">
                                                <input type="tel" class="form-control" id="phoneModalEditClientInfo" placeholder="Phone" required="required" value="{!businessOwner.Phone__c}" onkeyup="" style=""/>
                                                <label for="phoneModalEditClientInfo">Phone</label>
                                            </div>
                                            <p id="modalEditClientInfoErrors" style="color: red"></p>
                                        </div>
                                        <div id="modalFooter">
                                            <button class="btnCloseModal" onclick="closeModalEditClientInfo();">Cancel</button>
                                            <button class="btnAddRow saveChanges" style="opacity: 1;" id="" onclick="saveClientInfo('personal');">Save Changes</button>
                                        </div>
                                    </div>
                                </div>

                                <div class="modal" id="modalEditBillingAdd">
                                    <div class="content">
                                        <div id="modalHeader">
                                            <table id="modalHeaderTable" style="border-bottom: 1px solid rgba(18, 23, 36, 0.2);">
                                                <tr>
                                                    <td>
                                                        <p class="modalHeaderTitle">Edit Billing Address</p>
                                                    </td>
                                                    <td>
                                                        <button class="modalHeaderClose" onclick="closeModalEditBillingAdd();"><i class="fas fa-times"></i></button>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                        <div id="modalBody">
                                            <div class="form-floating">
                                                <input type="text" class="form-control" id="streetAddress" value="{!businessOwner.Address__c}" placeholder="streetAddress" required="required" onkeyup=""/>
                                                <label for="streetAddress">Street Address</label>
                                            </div>
                                            <div style="position: relative;display: flex;padding-bottom: 24px;">
                                                <div class="form-floating" style="width: 75%;">
                                                    <input type="text" class="form-control" id="cityAddress" value="{!businessOwner.City__c}" style="width: 225px;height: 54px;" placeholder="cityAddress" required="required" onkeyup=""/>
                                                    <label for="cityAddress">City</label>
                                                </div>
                                                <div class="form-floating">
                                                    <label for="stateAddress" style="padding: 5px 12px;font-size: 11px;opacity: 0.75;">State</label>
                                                    <apex:selectList styleClass="form-select" id="stateAddress" html-data-id="stateAddress" style="width: 225px;padding-top: 8%;height: 54px" value="{!defaultState}" onchange="" size="1">
                                                        <apex:selectOptions value="{!stateOfIncorporation}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                            </div>
                                            <div style="position: relative;display: flex;padding-bottom: 24px;">
                                                <div class="form-floating" style="width: 75%;">
                                                    <input type="tel" class="form-control" id="zipAddress" value="{!businessOwner.Zip__c}" style="width: 225px;height: 54px" placeholder="zipAddress" required="required" onkeyup=""/>
                                                    <label for="zipAddress">Zip</label>
                                                </div>
                                                <div class="form-floating">
                                                    <label for="countryAddress" style="padding: 5px 12px;font-size: 11px;opacity: 0.75;">Country</label>
                                                    <apex:selectList styleClass="form-select" id="countryAddress" html-data-id="countryAddress" style="width: 225px;padding-top: 8%;height: 54px"  value="{!defaultCountry}" onchange="" size="1">
                                                        <apex:selectOptions value="{!contries}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                            </div>
                                            <p id="modalEditBillingAddErrors" style="color: red"></p>
                                        </div>
                                        <div id="modalFooter">
                                            <button class="btnCloseModal" onclick="closeModalEditBillingAdd();">Cancel</button>
                                            <button class="btnAddRow saveChanges" style="opacity: 1;" id="" onclick="saveClientInfo('billing')">Save Changes</button>
                                        </div>
                                    </div>
                                </div>
                                

                                <div class="modal" id="modalEditPayTerms">
                                    <div class="content">
                                        <div id="modalHeader">
                                            <table id="modalHeaderTable" style="border-bottom: 1px solid rgba(18, 23, 36, 0.2);">
                                                <tr>
                                                    <td>
                                                        <p class="modalHeaderTitle">Edit Payment Terms</p>
                                                    </td>
                                                    <td>
                                                        <button class="modalHeaderClose" onclick="closeModalEditPayTerms();"><i class="fas fa-times"></i></button>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                        <div id="modalBody">
                                            <div class="form-floating">
                                                <!--<apex:selectList styleClass="form-select" style="height: auto;padding-top: 5%;padding-bottom: 5%;" id="payTerms" html-data-id="payTerms" value="{defaultNumberOfRentalProperties}" onchange="" size="1">
                                                    <apex:selectOptions value="{!numberOfRentalProperties}"></apex:selectOptions>
                                                </apex:selectList>-->
                                                <label for="payTerms" id="payTermsLabel" style="position: relative;padding: 1rem 0rem;">Payment Terms</label>
                                                <select class="form-select" id="payTerms" style="width: 70%;padding-top: 3%;height: 54px" onchange="calcFinance(false);">
                                                    <option>No Financing</option> <!--1-->
                                                    <option>2 Pay</option> <!--2-->
                                                    <option>3 Pay</option> <!--3-->
                                                    <option>4 Pay</option> <!--4-->
                                                    <option>6 Pay</option> <!--5-->
                                                    <option>Apply for Monthly Installments</option> <!--6-->
                                                </select>
                                            </div>

                                            <table id="payTable">
                                                <tr style="border-bottom: 1px solid rgba(18, 23, 36, 0.2);">
                                                    <td>
                                                        <p class="payTableTitle" style="margin-bottom:10%;">Total Due</p>
                                                    </td>
                                                    <td>
                                                        <p class="payTableAmount" id="payAmountDue" style="margin-bottom:10%;"></p>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <p class="payTableTitle" style="margin-top:10%;">Due Today</p>
                                                    </td>
                                                    <td>
                                                        <p class="payTableAmount" id="payAmountToday" style="margin-top:10%;"></p>
                                                    </td>
                                                </tr>
                                            </table>
                                            <p id="modalEditPayTermsErrors" style="color: red"></p>
                                        </div>
                                        <div id="modalFooter">
                                            <button class="btnCloseModal" onclick="closeModalEditPayTerms();">Cancel</button>
                                            <button class="btnAddRow saveChanges" style="opacity: 1;" id="" onclick="savePayTerms();">Save Changes</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!--<div class="slds-box slds-box_x-small slds-text-align_left slds-m-around--x-small" id="scheduleDiscMeeting"> 
                                <div class="backMenu">
                                    <button type="button" class="backBtn" onclick="backSection('Verify Information', 'verifyInformation', 'scheduleDiscMeeting');">
                                        <table id="backTable">
                                            <tr>
                                                <td>
                                                    <span class="material-icons" id="backArrow">arrow_back</span>
                                                </td>
                                                <td>
                                                    <p class="backTitle">Previous section</p>
                                                    <p class="backDesc">Verify Information</p>
                                                </td>
                                            </tr>
                                        </table>
                                    </button>
                                </div>
                                
                                <div class="title">
                                    <p class="titleTxt">
                                        Schedule Discovery Meeting
                                    </p>
                                </div>
                                
                                <div class="formTxt"> 
                                    <p class="normalTxt formTxtbottom" id="script">
                                        The first appointment I want to schedule with you today is your Discovery meeting with your Senior Tax Advisor 
                                        and their team. This meeting will cover your entity classification election (ECE), drawing up your loan agreements, 
                                        information gathering, business goals, getting to know each other, expectations, and Q&#38;A.  We will surround you with 
                                        a team comprised of tax experts who specialize in your industry and state and are dedicated to your success.
                                        <br/>
                                        <br/>
                                        I want to make sure to get you scheduled for the soonest time we have available. Are the mornings or afternoons typically better for you?
                                    </p>
                                    
                                    <div class="form-floating">
                                        <input type="text" class="form-control" id="businessName" placeholder="Time Zone" required="required" value=""/>
                                        <label for="businessName">Time Zone</label>
                                    </div>
                                    
                                    <iframe id="calendar"
                                            title="calendar"
                                            height="100%" 
                                            width="100%"
                                            style="margin-top: 3%;margin-bottom: 3%;"
                                            class="dims"
                                            scrolling="yes"
                                            src="https://google.com">
                                    </iframe>
                                    
                                    <p class="normalTxt formTxtbottom" id="script">
                                        Ive scheduled that initial Discovery meeting which will start the tax planning and advisory process.  Its incredibly important that we get 
                                        the Advisory process started immediately so we can begin putting together your comprehensive tax plan.
                                    </p>
                                    
                                    <div id="buttons" style="margin-bottom: 3%;">
                                        <button type="button" class="start" id="next" style="color: white;opacity: 1;" onclick="nextSection(31, 'Payment Details', 'scheduleDiscMeeting', 'paymentDetails');"><i class="fas fa-arrow-right">&nbsp;</i>Next Section</button>
                                        <div class="divider"/>
                                        <p class="blast">Payment Details</p>
                                    </div>
                                </div>
                            </div> -->
                            
                            <div class="slds-box slds-box_x-small slds-text-align_left slds-m-around--x-small" id="paymentDetails">
                                
                                <div class="backMenu">
                                    <button type="button" class="backBtn" onclick="backSection('Verify Information', 'verifyInformation', 'paymentDetails');">
                                        <table id="backTable">
                                            <tr>
                                                <td>
                                                    <span class="material-icons" id="backArrow">arrow_back</span>
                                                </td>
                                                <td>
                                                    <p class="backTitle">Previous section</p>
                                                    <p class="backDesc">Verify Information</p>
                                                </td>
                                            </tr>
                                        </table>
                                    </button>
                                </div>
                                
                                <div class="title">
                                    <p class="titleTxt">
                                        Payment Details
                                    </p>
                                </div>

                                <div class="formTxt"> 
                                    <p class="normalTxt formTxtbottom" id="script">
                                        <br/>
                                        Do you want to use a Visa, Mastercard, American Express, or Discover card for your initial investment today of <span id="finalAmou"></span>
                                        <span id="finalMonthAmou"></span>
                                    </p>
                                    
                                    <div Id="engage">
                                        <p Id="engageTxt">
                                             Listen. Do not say anything.
                                        </p>
                                    </div>
                                </div>
                                
                                <div class="formTxt" id="cardInformation">
                                    <p class="normalTxt formTxtbottom" id="script">
                                        To confirm, you, <span id="additionalFirstName3">{!businessOwner.First_Name__c}</span> {!businessOwner.Last_Name__c} are the cardholder and are authorized to approve this transaction, correct?
                                    </p>

                                    <div Id="engage">
                                        <p Id="engageTxt">
                                             If the client is not the cardholder, send an invitation to the cardholder to join the call.
                                        </p>
                                    </div>

                                    <p class="normalTxt formTxtbottom" id="script" style="margin-top: 45px;">
                                        As confirmation:
                                        <br/>
                                        <br/>
                                        Today youll be charged the following amount:
                                        <br/>
                                        <br/>
                                        <span id="finalAmount"></span><br/>
                                        <span id="finalMonthAmount"></span>
                                        <span id="financingScript">
                                            <br/>
                                            <span id="paymentAmount"></span> will be processed on the <span id="numDay"></span> of every month for the next <span id="planLength"></span> 
                                            months until the payment is made in full.
                                        </span> 
                                        <br/>   
                                        <br/>   
                                        Youll be charged the following amount. 
                                        You agree to engage 1-800Accountant to provide the above tax, compliance and accounting services starting today,    
                                        and agree to the terms and conditions and privacy policy and give 1-800Accountant the ability to communicate with   
                                        the IRS on your behalf and request necessary tax documents (form 8821).
                                        <br/>
                                        You consent to receive text/SMS messages regarding our services.
                                    </p>

                                    <p class="normalTxt formTxtbottom" style="margin-top: 35px;" id="script">
                                        Do you authorize this transaction and these terms?
                                    </p>
                                    <input type="checkbox" id="authorizes" name="authorizes" onchange="activateNext();"/>
                                    <label class="normalTxt formTxtbottom" for="authorizes" style="display: inline;">&nbsp;The client authorizes this transaction and terms. (Required)</label>
                                    
                                    <div class="formTxt">                             
                                        <iframe id="Changeover"
                                                title="Changeover"
                                                height="100%" 
                                                width="100%"
                                                class="changeover"
                                                scrolling="yes"
                                                src="">
                                        </iframe>
                                    </div>

                                    <div id="buttons" style="margin-bottom: 3%;margin-top: 5%; display: block;">
                                        <p id="PostPurchaseError" style="color: red;padding-bottom: 10px;font-size: 18px;line-height: 28px;letter-spacing: 0.01em;"></p>
                                        <button type="button" class="start" id="nextPayment" style="color: white;" onclick="isOpportunityPaid();"><i class="fas fa-arrow-right">&nbsp;</i>Confirm Purchase</button>
                                        <div class="divider"/>
                                        <p class="blast">Post Purchase</p>
                                    </div>

                                    <div Id="emailSent">
                                        <p Id="engageTxt">
                                             Email send to the client.
                                        </p>
                                    </div>

                                    <div id="buttons">
                                        <button type="button" id="btnSendQuote" onclick="sendQuoteByEmail();"><i class="fas fa-arrow-right">&nbsp;</i>Send Quote Via Email</button>
                                        <button type="button" id="btnSendQuote" onclick="followUpCall();"><i class="fas fa-arrow-right">&nbsp;</i>Schedule a Follow-Up</button>
                                    </div>

                                    <p id="commonObjections">Common Objections</p>

                                    <button class="accordion" onclick="accordionFunct(this, '1');">I want to think about it<span class="material-icons arrows" id="lessArrow1">expand_less</span><span class="material-icons arrows" id="moreArrow1">keyboard_arrow_down</span></button>
                                    <div class="panel">
                                        <p class="normalTxt formTxtbottom" id="script">
                                          I understand. This is an important decision for you and your business. May I ask: What is it you will be thinking about the most?
                                        </p>
                                        <p class="normalTxt formTxtbottom optText" id="script">
                                            <spam id="optTitle">If Value</spam>
                                            <br/>
                                            Extending conversation with tax strategy and urgency.
                                        </p>
                                        <p class="normalTxt formTxtbottom optText" id="script">
                                            <spam id="optTitle">If Money</spam>
                                            <br/>
                                            Extending conversation with strategy and urgency, then back to $
                                        </p>
                                        <p class="normalTxt formTxtbottom" id="script">
                                            With that in mind, would you like to use the same card you used with {!opportunity.Account.Lead_Source__c} or would you like to use another card?
                                        </p>
                                    </div>
                                    
                                    <button class="accordion" onclick="accordionFunct(this, '2');">My business isnt making money<span class="material-icons arrows" id="lessArrow2">expand_less</span><span class="material-icons arrows" id="moreArrow2">keyboard_arrow_down</span></button>
                                    <div class="panel">
                                        <p class="normalTxt formTxtbottom" id="script">
                                            It is common for a new business to have more money going out than coming in and as a new business owner, you could use that to your advantage. 
                                            <br/>
                                            <br/> 
                                            That said, its important that were strategizing every deduction and credit you are entitled to. Also, we need to ensure youre addressing 
                                            your ECE with as soon as possible. Our whole goal is to make sure youre not funding the IRS <span id="additionalFirstName4">{!businessOwner.First_Name__c}</span>. 
                                            <br/>
                                            <br/>
                                            Is it more of the investment youre thinking about, or the services?
                                        </p>
                                        <p class="normalTxt formTxtbottom optText" id="script">
                                            <spam id="optTitle">If Value</spam>
                                            <br/>
                                            Extending conversation with tax strategy and urgency.
                                        </p>
                                        <p class="normalTxt formTxtbottom optText" id="script">
                                            <spam id="optTitle">If Money</spam>
                                            <br/>
                                            Extending conversation with strategy and urgency, then back to $
                                        </p>
                                        <p class="normalTxt formTxtbottom" id="script">
                                            With that in mind, would you like to use the same card you used with {!opportunity.Account.Lead_Source__c} or would you like to use another card?
                                        </p>
                                    </div>
                                    
                                    <button class="accordion" onclick="accordionFunct(this, '3');">I need to speak with spouse/partner<span class="material-icons arrows" id="lessArrow3">expand_less</span><span class="material-icons arrows" id="moreArrow3">keyboard_arrow_down</span></button>
                                    <div class="panel">
                                        <p class="normalTxt formTxtbottom" id="script">
                                            I can understand. This is an important decision. 
                                            <br/>
                                            <br/> 
                                            May I ask what you think your spouse/partner will be thinking about the most? 
                                        </p>
                                        <p class="normalTxt formTxtbottom optText" id="script">
                                            <spam id="optTitle">If Value</spam>
                                            <br/>
                                            I know it feels like yesterday since you set your business up in {{Date}}, so we have some catching up to do.
                                            <br/>
                                            <br/> 
                                            The good news is you are on the phone with me today. 
                                            <br/>
                                            <br/> 
                                            The next steps are very simple <span id="additionalFirstName5">{!businessOwner.First_Name__c}</span>, lets schedule your Discovery call on a day that works for you and your spouse.
                                        </p>
                                        <p class="normalTxt formTxtbottom optText" id="script">
                                            <spam id="optTitle">If Money</spam>
                                            <br/>
                                            Having everyone on the same page is important. 
                                            <br/>
                                            <br/>
                                            Nevertheless, earlier you stated that you and your partner/spouse invested {{Invested Amount}} into your business, correct? 
                                            This service ensures you protect that investment. In order to do that, its crucial that we create a comprehensive tax strategy 
                                            that will help you find ways to recoup some of those startup costs.
                                        </p>
                                        <p class="normalTxt formTxtbottom" id="script">
                                            With that in mind, would you like to use the same card you used with {!opportunity.Account.Lead_Source__c} or would you like to use another card?
                                        </p>
                                    </div>
                                    
                                    <button class="accordion" onclick="accordionFunct(this, '4');">I read negative reviews of 1-800Accountant<span class="material-icons arrows" id="lessArrow4">expand_less</span><span class="material-icons arrows" id="moreArrow4">keyboard_arrow_down</span></button>
                                    <div class="panel">
                                        <p class="normalTxt formTxtbottom" id="script">
                                            I completely understand your concern. I also check reviews with the companies I may do business with and often factor 
                                            them in prior to making a decision. So, I can absolutely relate with your concern. 
                                            <br/>
                                            <br/>
                                            I want to assure you that a chief goal of 1-800Accountant is to not only meet but exceed the expectations of our clients. 
                                            Keep in mind that we have an A rating with the Better Business Bureau, which is far above other well-known tax prep companies 
                                            such as H &#38; R Block (1.2-star average rating) or TurboTax (1.1-star average rating.) 
                                            <br/>
                                            <br/>
                                            We have earned the trust of hundreds of thousands of people like you for the past 20 years and that kind of trust has made us 
                                            the nations leading virtual accounting firm. Additionally, whenever we do receive a negative review or a complaint from a customer, 
                                            we ensure we go above and beyond to resolve the issue.
                                            <br/>
                                            <br/>
                                            With that in mind, would you like to use the same card you used with {!opportunity.Account.Lead_Source__c} or would you like to use another card?
                                        </p>
                                    </div>
                                    
                                    <button class="accordion" onclick="accordionFunct(this, '5');">I want to research before moving forward<span class="material-icons arrows" id="lessArrow5">expand_less</span><span class="material-icons arrows" id="moreArrow5">keyboard_arrow_down</span></button>
                                    <div class="panel">
                                        <p class="normalTxt formTxtbottom" id="script">
                                            I understand. As a business owner, you want to ensure youre making the right decision for you and your business and I value that. Let me ask. 
                                            What is it that youd like to research?
                                        </p>
                                        <p class="normalTxt formTxtbottom optText" id="script">
                                            <spam id="optTitle">If they want to research the company</spam>
                                            <br/>
                                            As a business owner, I would want to research as well. Let me save you the hassle. {!opportunity.Account.Lead_Source__c} has done the research for you. They know what 
                                            it takes for a business to be successful, and our accountants know what it takes for a business to be successful, which is why out of all the 
                                            accounting firms in the country, they trust us with their clients.This is why we dont operate that way. Since we need to address your ECE, and the 
                                            overall tax strategy for this year, let's at least set your discovery appointment and wont think about taxes until then.
                                        </p>
                                        <p class="normalTxt formTxtbottom optText" id="script">
                                            <spam id="optTitle">If they want to compare</spam>
                                            <br/>
                                            I understand, I would want to compare myself. One thing Id like to point out is that your typical local accountant will charge billable hours 
                                            typically $200-$300 per hour. We dont charge per hour. This allows you the freedom to access your accountant whenever you feel the need arises.
                                        </p>
                                        <p class="normalTxt formTxtbottom" id="script">
                                            With that in mind, would you like to use the same card you used with {!opportunity.Account.Lead_Source__c} or would you like to use another card?
                                        </p>
                                    </div>
                                    
                                    <button class="accordion" onclick="accordionFunct(this, '6');">I know a CPA or have a family member who is a CPA<span class="material-icons arrows" id="lessArrow6">expand_less</span><span class="material-icons arrows" id="moreArrow6">keyboard_arrow_down</span></button>
                                    <div class="panel">
                                        <p class="normalTxt formTxtbottom optText" id="script">
                                            <spam id="optTitle">If CPA is NOT a family member</spam>
                                            <br/>
                                            Remember, we operate differently, we dont charge hourly fees or hidden costs which is why our services are so affordable for the start-up business owner.
                                        </p>
                                        <p class="normalTxt formTxtbottom optText" id="script">
                                            <spam id="optTitle">If CPA IS a family member</spam>
                                            <br/>
                                            In my experience, a lot of business owners make it a common practice of keeping business and family separate. In the end its up to whatever works best for 
                                            you. Keep in mind that you will have a team that will be here to minimize your stress and maximize your tax savings through on demand, unlimited access.
                                        </p>
                                        <p class="normalTxt formTxtbottom" id="script">
                                            With that in mind, would you like to use the same card you used with {!opportunity.Account.Lead_Source__c} or would you like to use another card?
                                        </p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="slds-box slds-box_x-small slds-text-align_left slds-m-around--x-small" id="postPurchase">
                                
                                <div class="backMenu">
                                    <button type="button" class="backBtn" onclick="backSection('Payment Details', 'paymentDetails', 'postPurchase');">
                                        <table id="backTable">
                                            <tr>
                                                <td>
                                                    <span class="material-icons" id="backArrow">arrow_back</span>
                                                </td>
                                                <td>
                                                    <p class="backTitle">Previous section</p>
                                                    <p class="backDesc">Payment Details</p>
                                                </td>
                                            </tr>
                                        </table>
                                    </button>
                                </div>
                                
                                <div class="title">
                                    <p class="titleTxt">
                                        Post Purchase
                                    </p>
                                </div>

                                <div class="formTxt"> 
                                    <p class="normalTxt formTxtbottom" id="script">
                                        Next, I want to schedule your Discovery meeting with your Senior Tax Advisor. This meeting will cover choosing your entity 
                                        classification, information gathering, business goals, getting to know each other, expectations, and Q&amp;A.  We will surround 
                                        you with a team of tax experts who specialize in your industry and state and are dedicated to your success.
                                        <br/>
                                        <br/> 
                                        I want to make sure to get you scheduled for the soonest time we have available. Are the mornings or afternoons typically better for you?
                                    </p>
                                </div>

                                <!--<div class="scheduleCalendar" id="hourselection">
                                    <p id="scheduleCalendarTitle">Schedule Appointment</p>
                                    <input type="date" id="scheduleCalendarDate" name="scheduleCalendarDate" value="{!Today()}" min="1800-01-01" max="3000-12-31"/>
                                    <div id="scheduleCalendarHours">
                                        <button class="hourBtn" id="630am" onclick="selectHour('630am');">6:30 AM</button>
                                        <button class="hourBtn" id="700am" onclick="selectHour('700am');">7:00 AM</button>
                                        <button class="hourBtn" id="730am" onclick="selectHour('730am');">7:30 AM</button>
                                        <button class="hourBtn" id="800am" onclick="selectHour('800am');">8:00 AM</button>
                                        <button class="hourBtn" id="830am" onclick="selectHour('830am');">8:30 AM</button>
                                        <button class="hourBtn" id="900am" onclick="selectHour('900am');">9:00 AM</button>
                                        <button class="hourBtn" id="930am" onclick="selectHour('930am');">9:30 AM</button>
                                        <button class="hourBtn" id="1000am" onclick="selectHour('1000am');">10:00 AM</button>
                                        <button class="hourBtn" id="1030am" onclick="selectHour('1030am');">10:30 AM</button>
                                        <button class="hourBtn" id="1100am" onclick="selectHour('1100am');">11:00 AM</button>
                                        <button class="hourBtn" id="1130am" onclick="selectHour('1130am');">11:30 AM</button>
                                        <button class="hourBtn" id="1200am" onclick="selectHour('1200am');">12:00 AM</button>
                                        <button class="hourBtn" id="1230am" onclick="selectHour('1230am');">12:30 AM</button>
                                        <button class="hourBtn" id="100pm" onclick="selectHour('100pm');">1:00 PM</button>
                                        <button class="hourBtn" id="130pm" onclick="selectHour('130pm');">1:30 PM</button>
                                        <button class="hourBtn" id="200pm" onclick="selectHour('200pm');">2:00 PM</button>
                                        <button class="hourBtn" id="230pm" onclick="selectHour('230pm');">2:30 PM</button>
                                        <button class="hourBtn" id="300pm" onclick="selectHour('300pm');">3:00 PM</button>
                                        <button class="hourBtn" id="330pm" onclick="selectHour('330pm');">3:30 PM</button>
                                        <button class="hourBtn" id="400pm" onclick="selectHour('400pm');">4:00 PM</button>
                                        <button class="hourBtn" id="430pm" onclick="selectHour('430pm');">4:30 PM</button>
                                        <button class="hourBtn" id="500pm" onclick="selectHour('500pm');">5:00 PM</button>
                                        <button class="hourBtn" id="530pm" onclick="selectHour('530pm');">5:30 PM</button>
                                        <button class="hourBtn" id="600pm" onclick="selectHour('600pm');">6:00 PM</button>
                                        <button class="hourBtn" id="630pm" onclick="selectHour('630pm');">6:30 PM</button>
                                        
                                    </div>
                                    <p id="scheduleCalendarNote">All times are displayed in {{client-timezone}} ({{currentTime}})</p>
                                </div>

                                <div class="scheduleCalendar" id="confimAppointment">
                                    <button type="button" class="backBtn" id="" onclick="goToPickDateTime()" style="margin: 3% 0%;"><span class="material-icons" style="vertical-align: middle;">replay</span>&nbsp;Change the date or time</button>
                                    <p id="scheduleCalendarTitle">Confirm Appointment</p>
                                    <table class="scheduleCalendarTable">
                                        <tr>
                                            <td> 
                                                <span class="material-icons cal">calendar_today</span>
                                            </td>
                                            <td style="padding-left: 3%;">
                                                <div class="">
                                                    <p class="scheduleCalendarDatePayroll">Payroll Appointment</p>
                                                    <p class="scheduleCalendarDateSelect">Thursday, September 1, 2022  3:00 PM {{client-timezone}}</p>
                                                </div>
                                            </td>
                                        </tr>
                                    </table>
                                    <button type="button" class="" id="confAppoi" style="color: white;" onclick="goToScheduled();">Confirm Appointment</button>
                                    <table class="scheduleCalendarTable" id="scheduleCalendarTable">
                                        <tr>
                                            <td> 
                                                <span style="color: rgba(18, 23, 36, 0.91);padding-left: 9px;" class="material-icons">info</span>
                                            </td>
                                            <td style="padding-left: 3%;">
                                                <div class="">
                                                    <p class="scheduleCalendarInfoNote">Confirming will override any other appointment of the same appointment type that is already scheduled.</p>
                                                </div>
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                                <div class="scheduleCalendar" id="appointmentSchedule">
                                    <p id="scheduleCalendarTitle">Appointment Scheduled!</p>
                                    <table class="scheduleCalendarTable">
                                        <tr>
                                            <td> 
                                                <span class="material-icons cal">calendar_today</span>
                                            </td>
                                            <td style="padding-left: 3%;">
                                                <div class="">
                                                    <p class="scheduleCalendarDatePayroll">Payroll Appointment</p>
                                                    <p class="scheduleCalendarDateSelect">Thursday, September 1, 2022  3:00 PM {{client-timezone}}</p>
                                                </div>
                                            </td>
                                        </tr>
                                    </table>
                                    <button type="button" class="backBtn" id="" onclick="goToReschedule();" style="margin: 3% 1%;border: 1px solid rgba(18, 23, 36, 0.2);border-radius: 50px;padding: 8px;">Reschedule</button>
                                </div>-->

                                <div class="formTxt" style="height: 520px;">                             
                                    <iframe id="Scheduler"
                                            title="Scheduler"
                                            height="100%" 
                                            width="100%"
                                            class="scheduler"
                                            scrolling="yes"
                                            src="">
                                    </iframe>
                                </div>

                                <div class="formTxt"> 
                                    <p class="normalTxt formTxtbottom" id="script">
                                        Fantastic, your appointment has been scheduled. 
                                    </p>
<!--
                                    <p class="normalTxt formTxtbottom" id="script">
                                        Fantastic, your appointment has been scheduled. I would like to send you a text message reminder before the appointment time. Is it okay if we send 
                                        you text messages?
                                    </p>

                                    <input type="checkbox" id="receiveMessages" name="receiveMessages" onchange=""/>
                                    <label class="normalTxt formTxtbottom" for="receiveMessages" style="display: inline;">&nbsp;Client consents to receive text/SMS messages regarding our services.</label>
                                -->
                                    <p class="normalTxt formTxtbottom" id="script">
                                        Starting today, your accountant team will get in contact with the IRS. Youll also receive an email with instructions to get you into 
                                        your 1-800Accountant profile.
                                        <br/>
                                        <br/> 
                                        Its in the 1-800Accountat portal that you can use all the great cloud-based and mobile tools we provide you with to help your business 
                                        succeed. These include access to our web-based bookkeeping platform, Virtual Tax Organizer, Message Center and more!  Feel free to login 
                                        and familiarize yourself with the portal before your Discovery meeting.  If you have any questions, dont worry, your accountant can address 
                                        them during your next appointment!
                                        <br/>
                                        <br/> 
                                        Over the next few weeks and moving forward your accountant will:
                                        <br/>
                                        <br/> 
                                        1. Start on your tax savings plan.
                                        <br/>
                                        2. Retrieve past relevant tax documents.
                                        <br/>
                                        3. Inform you of any upcoming tax deadlines that affect you.
                                        <br/>
                                        4. Keep your tax return draft up to date based on your transactions and bookkeeping.
                                    </p>
                                </div>
                                
                                <!-- Welcome to 1-800Accountant 
                                <div class="formTxt" id="verticaltLine1">
                                    
                                    <p class="normalTxt discoTitle2" id="script">
                                        <button type="button" id="currSlide1" onclick="getOne();">Current Slide</button>
                                        <spam id="part1">Welcome to 1-800Accountant</spam>
                                    </p>
                                    
                                    <div class="formTxt"> 
                                        
                                        <p class="normalTxt formTxtbottom" id="script">
                                            Welcome to the 1-800Accountant family, {{Client Name}}!
                                            <br/>
                                            <br/>
                                            Youve made a great decision for your business.
                                            <br/>
                                            <br/>
                                            Just to confirm, we have already scheduled your initial Discovery meeting for {{Date}} at {{Time}} with your Senior Tax 
                                            Advisor. This will begin the data collection, advisory, and planning process. 
                                        </p>
                                        
                                        <button type="button" class="yesBtn" id="reschedule" style="color: black;" onclick=""><span class="material-icons">calendar_today</span>&nbsp;Reschedule Appointment</button>
                                        
                                        <p class="normalTxt formTxtbottom" id="script">
                                            Ive also just sent you three emails that will detail next steps and outline our services.  The first email is your Statement of Work 
                                            which details the services you purchased today and our commitment to you.
                                        </p>
                                    </div>
                                </div>
                                -->
                                <!-- Access Your Account 
                                <div class="formTxt" id="verticaltLine2">
                                    
                                    <p class="normalTxt discoTitle2" id="script">
                                        <button type="button" id="currSlide2" onclick="getTwo();">Current Slide</button>
                                        <spam id="part2">Access Your Account</spam>
                                    </p>
                                    
                                    <div class="formTxt" id="accessAccount"> 
                                        
                                        <p class="normalTxt formTxtbottom" id="script">
                                            Now that your profile has been created, you will also receive your login details to our 1-800Accountant <spam style="color: #CE0B74;">portal</spam> where 
                                            you can access all the great cloud-based and mobile tools we arm you with to help your business succeed.  
                                            <br/>
                                            <br/>
                                            This includes access to our web-based bookkeeping platform, Virtual Tax Organizer, Message Center and more!  Please feel 
                                            free to login to familiarize yourself before your Discovery meeting.  If for any reason you have questions, dont worry, 
                                            your accountant can address them during your appointment!                                                                                     
                                        </p>
                                        
                                    </div>
                                    
                                </div>
                                -->
                                <!-- Experience Feedback Survey 
                                <div class="formTxt" id="verticaltLine3">
                                    
                                    <p class="normalTxt discoTitle2" id="script">
                                        <button type="button" id="currSlide3" onclick="getThree();">Current Slide</button>
                                        <spam id="part3">Experience Feedback Survey</spam>
                                    </p>
                                    
                                    <div class="formTxt" id="expFeedback"> 
                                        
                                        <div Id="engage">
                                            <p Id="engageTxt">
                                                 You are required to mention the survey
                                            </p>
                                        </div>
                                        
                                        <p class="normalTxt formTxtbottom" id="script">
                                            The third email contains a short two question survey asking for your feedback on your experience. Our goal at 1-800Accountant is 
                                            to exceed every client expectation and your feedback will help us continue improving our client experience.
                                            <br/>
                                            <br/>
                                            I would really appreciate you taking a moment to complete the short survey. Thanks so much!
                                        </p>
                                        
                                    </div>
                                </div>
                                -->
                                <div class="formTxt" id="btn-post">
                                    <div id="buttons">
                                        <button type="button" class="start" id="ending" style="color: white;" onclick="endPresentation();"><span class="material-icons" style="vertical-align: middle;">close</span>&nbsp;End Presentation</button>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>
        </body>
    </apex:form>
</apex:page>